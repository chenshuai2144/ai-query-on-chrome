# 🧐[问题 | question]在app.tsx中配置菜单项的情况下，如何实现搜索菜单功能

### 🧐 问题描述 | Problem description

在app.tsx中配置菜单项的情况下，如何实现搜索菜单功能，

<!--
详细地描述问题，让大家都能理解
Describe the problem in detail so that everyone can understand it
-->

prolayout官网是在一个tsx文件中useState一个keyword然后再用postMenuData。但在app.tsx的layout是直接配置的，如何去实现菜单搜索功能呢

### 💻 示例代码 | Sample code

<!--
一个最小可重现的代码，让开发者可以快速的定位问题
A minimal reproducible code that allows developers to quickly locate problems
-->

### 🚑 其他信息 | Other information

<!--
如截图等其他信息可以贴在这里
Other information such as screenshots can be posted here
-->

![image](https://user-images.githubusercontent.com/55370123/180125566-7407bb51-6638-4ecc-9f76-9c93abc6235b.png)

OS:

Node：

浏览器 | browser：

## chenshuai2144

把值存到 initialvalues 里面

```tsx
// ProLayout 支持的api https://procomponents.ant.design/components/layout
export const layout: RunTimeLayoutConfig = ({
  initialState,
  setInitialState,
}) => {
  return {
    menuDataRender: (menuData) => {
      return menuData.filter(initialState.keyWords);
    },
    // 只是个示例
    onChange: () => {
      setInitialState((initialState) => {
        return {
          ...initialState,
          keyWords: "change",
        };
      });
    },
  };
};
```

## xiahller

> 把值存到 initialvalues 里面
>
> ```tsx
> // ProLayout 支持的api https://procomponents.ant.design/components/layout
> export const layout: RunTimeLayoutConfig = ({
>   initialState,
>   setInitialState,
> }) => {
>   return {
>     menuDataRender: (menuData) => {
>       return menuData.filter(initialState.keyWords);
>     },
>     // 只是个示例
>     onChange: () => {
>       setInitialState((initialState) => {
>         return {
>           ...initialState,
>           keyWords: "change",
>         };
>       });
>     },
>   };
> };
> ```

厉害了解决了，谢谢大佬回复

## peterlxb

  <img width="561" alt="截屏2023-05-24 19 44 28" src="https://github.com/ant-design/ant-design-pro/assets/8121883/ed123054-5e34-4821-905b-b8bd005b2d46">
为什么自定义 footer 是这样的，看了文档，用 umi3 没有问题，umi4 有问题
