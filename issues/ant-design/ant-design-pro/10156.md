# ğŸ› [BUG] max buildåçš„ä»£ç ï¼Œpluginmanageræ‰§è¡Œæ—¶ä¸ºç©º

### ğŸ› bug æè¿°

ä»¥ä¸‹é¡¹ç›®ç”¨antd pro v5æ­å»º
https://github.com/fengertao/SudokuMasterV3/tree/master/SudokuMasterUI

å¦‚æœç”¨yarn start:devå¯åŠ¨ï¼Œåˆ™å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼Œæ˜¾ç¤ºç™»å½•é¡µé¢ï¼Œè¾“å…¥è´¦æˆ·å¯†ç åï¼Œç‚¹å‡»ç™»å½•è¿›å…¥ç³»ç»Ÿ(åå°çš„ä»£ç åœ¨https://github.com/fengertao/SudokuMasterV3/tree/master/SudokuMasterServ)

å¦‚æœåšç”Ÿäº§éƒ¨ç½²ï¼Œæ‰§è¡Œ yarn:deploy (rm -rf dist && max build && rm -rf ../SudokuMasterServ/src/main/resources/static && cp -r dist ../SudokuMasterServ/src/main/resources/static)ï¼Œç„¶åç¼–è¯‘å¯åŠ¨åå°ï¼Œå¯ä»¥æ˜¾ç¤ºç™»é™†é¡µé¢ï¼Œä½†è¾“å…¥è´¦æˆ·å¯†ç åï¼Œç‚¹å‡»ç™»å½•æŠ¥é”™ï¼š
TypeError: Cannot read properties of null (reading 'applyPlugins')
at dn (umi.a854bfc6.js:1099:5368)
at Cn (umi.a854bfc6.js:1099:5498)
at w (umi.a854bfc6.js:1099:46552)
at p**User**Login\_\_index.dfb9a4e1.async.js:1:1975
at x (umi.a854bfc6.js:1200:3106)
at Generator.\_invoke (umi.a854bfc6.js:1200:2843)
at Generator.next (umi.a854bfc6.js:1200:3468)
at h (umi.a854bfc6.js:1197:90287)
at u (umi.a854bfc6.js:1197:90484)

åŠ äº†ä¸€ä¸‹log
å‘ç°æ˜¯åœ¨src/.umi/plugin-request/request.tsç¬¬135è¡Œ
config = getPluginManager().applyPlugins({
è¿™é‡Œçš„getPluginManager()è¿”å›null

å¯ä»¥åˆç†çŒœæµ‹ï¼Œyarn start:devå¯åŠ¨çš„é¡¹ç›®ï¼Œplugin.tsä¸­çš„pluginManagerè¢«åˆå§‹åŒ–äº†ã€‚è€Œyarn deployæ‰“åŒ…çš„é¡¹ç›®ï¼Œplugin.tsä¸­çš„pluginManageræ²¡æœ‰è¢«åˆå§‹åŒ–å¯¼è‡´é”™è¯¯ã€‚

### ğŸ“· å¤ç°æ­¥éª¤ | Recurrence steps

å¦‚ä¸Šæ‰€è¿°

### ğŸ æœŸæœ›ç»“æœ | Expected results

yarn deployæ‰“åŒ…çš„é¡¹ç›®ï¼Œrequest.tsä¸­è°ƒç”¨çš„getPluginManager()è¿”å›ä¸€ä¸ªæ‰“åŒ…å¥½çš„pluginManager

### ğŸ’» å¤ç°ä»£ç  | Recurrence code

https://github.com/fengertao/SudokuMasterV3/tree/master/SudokuMasterUI

### Â© ç‰ˆæœ¬ä¿¡æ¯

- Ant Design Pro ç‰ˆæœ¬: 5
- umi ç‰ˆæœ¬ 4.0.12
- æµè§ˆå™¨ç¯å¢ƒ chrome
- å¼€å‘ç¯å¢ƒ [e.g. mac OS] windows11 + nodejs v18.7.0

### ğŸš‘ å…¶ä»–ä¿¡æ¯

## chenshuai2144

applyPlugins æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ

## fengertao

https://github.com/umijs/umi/blob/master/packages/plugins/src/request.ts#L157

umié‡Œé¢çš„è¿™å¥è¯åœ¨antproé‡Œè¿”å›ä¸ºnull

## chenshuai2144

æµ‹è¯•ç”¨ä¾‹çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼Œæ˜¯ä¸æ˜¯ä¾èµ–æ›´æ–°æœ‰é—®é¢˜

## 17876005786

è¯·é—®è¿™ä¸ªé”™è¯¯è¿™ä¹ˆè§£å†³ åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹
