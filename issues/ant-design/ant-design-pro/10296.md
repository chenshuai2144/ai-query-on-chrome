# 🐛 [BUG] react配置到externals，热更新失效

### 🐛 bug 描述

使用externals配置react、reatdom，然后：
1、对应资源使用scripts配置，热更新有效
`externals: {
    react: 'window.React',
    'react-dom': 'window.ReactDOM',
  },
  scripts: [
    'https://unpkg.com/react@18/umd/react.development.js',
    'https://unpkg.com/react-dom@18/umd/react-dom.development.js',
  ],`

2、对应资源使用headScripts配置，热更新就**失效**了
`externals: {
    react: 'window.React',
    'react-dom': 'window.ReactDOM',
  },
  headScripts: [
    'https://unpkg.com/react@18/umd/react.development.js',
    'https://unpkg.com/react-dom@18/umd/react-dom.development.js',
  ],`

3、对应资源使用umi插件写到html中，同样**失效**，plugin.ts
api.modifyHTML(($) => {
$('#root').after([...]);
return $;
});

### 📷 复现步骤 | Recurrence steps

pro create myapp，选择umi@4，之后直接按描述里面配置即可复现

### 🏞 期望结果 | Expected results

热更新有效

### 💻 复现代码 | Recurrence code

config.ts中配置
`externals: {
    react: 'window.React',
    'react-dom': 'window.ReactDOM',
  },
  headScripts: [
    'https://unpkg.com/react@18/umd/react.development.js',
    'https://unpkg.com/react-dom@18/umd/react-dom.development.js',
  ],`

mfsu配置：
`mfsu: { strategy: 'normal' },`

### © 版本信息

- Ant Design Pro 版本: 6.0.0-beta.1
- umi 版本 4.0.25
- 浏览器环境 google
- 开发环境 mac OS

### 🚑 其他信息

## copilot-teset

同样的问题，没有解决
