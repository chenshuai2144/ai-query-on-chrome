# 6.x ç‰ˆæœ¬ï¼Œå­ç›®å½•å¼€å‘ä¸å‘å¸ƒğŸ§[é—®é¢˜ | question]

### ğŸ§ é—®é¢˜æè¿° | Problem description

<!--
è¯¦ç»†åœ°æè¿°é—®é¢˜ï¼Œè®©å¤§å®¶éƒ½èƒ½ç†è§£
Describe the problem in detail so that everyone can understand it
-->

å¼€å‘ç¯å¢ƒ æ— æ³•ä½¿ç”¨å­ç›®å½•ä¹ˆï¼Ÿ
6.0 ç‰ˆæœ¬ å­ç›®å½•å‘å¸ƒè¦æ”¹å“ªäº›å•Šï¼Ÿ

æˆ‘ä» 5.x æ¬è¿‡æ¥çš„é…ç½®ä¸ç®¡ç”¨äº†

### ğŸ’» ç¤ºä¾‹ä»£ç  | Sample code

```ts
import { defineConfig } from "@umijs/max";
const publicPathPrefix = "/sea";
export default defineConfig({
  define: {
    // APIåœ°å€
    API_BASE_URL: "http://localhost:2919/SalesPortal",
    CLIENT_ROOT: "http://localhost:1688",
    // OpenId å®¢æˆ·ç«¯åç§°
    CLIENT_ID: "SalesPortal",
    SKIP_LOGIN_PAGE: false,
    LOGIN_PAGE: "/user/login",
    //å¯ç”¨è¯­è¨€åˆ‡æ¢
    DISABLE_LANGSELECT: false,
    PUBLIC_PATH: publicPathPrefix + "/",
  },
  base: publicPathPrefix + "/",
  outputPath: "dist" + publicPathPrefix,
  publicPath: publicPathPrefix + "/",
  manifest: {
    basePath: publicPathPrefix,
  },
  headScripts: [
    // è§£å†³é¦–æ¬¡åŠ è½½æ—¶ç™½å±çš„é—®é¢˜
    //@ts-ignore
    { src: publicPathPrefix + "/scripts/loading.js", async: true },
  ],
});
```

<!--
ä¸€ä¸ªæœ€å°å¯é‡ç°çš„ä»£ç ï¼Œè®©å¼€å‘è€…å¯ä»¥å¿«é€Ÿçš„å®šä½é—®é¢˜
A minimal reproducible code that allows developers to quickly locate problems
-->

### ğŸš‘ å…¶ä»–ä¿¡æ¯ | Other information

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
Other information such as screenshots can be posted here
-->

OS:

Nodeï¼š

æµè§ˆå™¨ | browserï¼š

## hyzx86

å¦‚issue https://github.com/umijs/umi/issues/10189
æåˆ°çš„ ä¸»è¦é—®é¢˜åœ¨äº history.location çš„æ›´æ–°

## 1. éœ€è¦è‡ªå·±å°è£…å‡½æ•°å¤„ç†`history.location.pathname`è·¯å¾„å‰ç¼€

å¦‚ï¼š history.location.pathname.slice(è‡ªå®šä¹‰å‰ç¼€.length)

## 2. å¼€å‘ç¯å¢ƒä¸æ”¯æŒè™šæ‹Ÿç›®å½•ï¼Œå¿…é¡»å‘å¸ƒåé€šè¿‡ urlé‡å†™æ‰å¯ä»¥æµ‹è¯•éªŒè¯
