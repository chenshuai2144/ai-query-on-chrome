# ğŸ› [BUG] Antd pro ProFormList åœ¨ ModalFormä¸­ alwaysShowItemLabel å±æ€§è¡Œä¸ºä¸æ­£ç¡®

`AI Reply`

### ğŸ› bug æè¿°

è®¾ç½®ProFormList alwaysShowItemLabel = {false} ä¾ç„¶ä¼šæ˜¾ç¤ºæ¯è¡Œçš„çš„ label ï¼Œä¸è®¾ç½®ä¸ºtrueè¡Œä¸ºä¸€è‡´ã€‚åªåœ¨Ant Design Proä¸­ä½¿ç”¨ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œå•ç‹¬ä½¿ç”¨ProFormList æ— æ³•å¤ç°ã€‚

### ğŸ“· å¤ç°æ­¥éª¤ | Recurrence steps

1. åˆå§‹åŒ–proé¡¹ç›®
2. åˆ›å»ºProFormList
3. è®¾ç½®alwaysShowItemLabel = {false}

### ğŸ æœŸæœ›ç»“æœ | Expected results

ä¸å•ç‹¬ä½¿ç”¨ProFormListä¸€è‡´ å¯ä»¥ä½¿ç”¨ alwaysShowItemLabel = {false} å…³é—­æ¯è¡Œlabel

### ğŸ’» å¤ç°ä»£ç  | Recurrence code

ä½¿ç”¨Ant Design Pro æ— æ³•éšè—å•è¡Œlabel
https://github.com/sequarius/ant-design-pro/blob/master/src/pages/Welcome.tsx
å•ç‹¬ä½¿ç”¨ProFormList æ­£å¸¸
https://codesandbox.io/s/proform-list-forked-o275qn?file=/App.tsx

### Â© ç‰ˆæœ¬ä¿¡æ¯

- Ant Design Pro ç‰ˆæœ¬: "6.0.0"
- umi ç‰ˆæœ¬ umijs/umi: "^4.0.52",
- æµè§ˆå™¨ç¯å¢ƒ Chrome 110.0.5481.177
- å¼€å‘ç¯å¢ƒ Windows NT 6.4

### ğŸš‘ å…¶ä»–ä¿¡æ¯

![image](https://user-images.githubusercontent.com/7238573/221403621-84062ae1-f924-46b2-9149-778bebcdf92e.png)

## echoyl

åŒæ ·ç¢°åˆ°è¿™ä¸ªé—®é¢˜

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

ä½ å¥½ï¼Œå…³äºè¯¥é—®é¢˜å¯èƒ½æ˜¯Ant Design Proæ¡†æ¶çš„ä¸€ä¸ªbugå¯¼è‡´çš„ï¼Œå¯ä»¥æš‚æ—¶é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ¥å®ç°æƒ³è¦çš„æ•ˆæœï¼š

æ–¹å¼ä¸€ï¼šé€šè¿‡é‡å†™CSSæ¥éšè—æ¯è¡Œçš„label

åœ¨ä½ çš„æ ·å¼æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹æ ·å¼ï¼š

```
/* éšè—label */
.ant-form-item-label > label {
  display: none;
}
```

è¿™æ ·æ¯è¡Œå°±ä¸ä¼šæ˜¾ç¤ºå¯¹åº”çš„labeläº†ã€‚

æ–¹å¼äºŒï¼šé€šè¿‡é‡å†™ProFormListä¸­çš„renderå‡½æ•°æ¥å®ç°

å®ç°ä»£ç å¦‚ä¸‹ï¼š

```
<ProFormList
  alwaysShowAddButton
  name={['users']}
  fieldProps={{
    ...inputLayout,
    label: false,
    colon: false,
  }}
  {...formItemLayout}
>
  {(fields, { add, remove }) => {
    return (
      <>
        {fields.map((field, index) => (
          <div key={field.key}>
            <ProForm.Item label="å§“å" {...formItemLayout}>
              <Input.Group compact>
                <Form.Item
                  {...field}
                  name={[field.name, 'first']}
                  fieldKey={[field.fieldKey, 'first']}
                  rules={[{ required: true, message: 'å¿…å¡«' }]}
                >
                  <Input placeholder="å§“" />
                </Form.Item>
                <Form.Item
                  {...field}
                  name={[field.name, 'last']}
                  fieldKey={[field.fieldKey, 'last']}
                  rules={[{ required: true, message: 'å¿…å¡«' }]}
                >
                  <Input placeholder="å" />
                </Form.Item>
              </Input.Group>
            </ProForm.Item>
            {index !== fields.length - 1 && <Divider />}
          </div>
        ))}
        <ProForm.Item {...formItemLayout}>
          <Button type="dashed" onClick={() => add()} block>
            <PlusOutlined /> æ·»åŠ ç”¨æˆ·
          </Button>
        </ProForm.Item>
      </>
    );
  }}
</ProFormList>
```

è¿™ç§æ–¹æ³•ä¸»è¦æ˜¯é€šè¿‡è®¾ç½®fieldPropsï¼Œå°†æ¯è¡Œçš„labelè®¾ä¸ºfalseï¼Œè¾¾åˆ°éšè—labelçš„æ•ˆæœã€‚

ä½ å¯ä»¥æ ¹æ®å®é™…éœ€è¦æ¥é€‰æ‹©å…·ä½“çš„å®ç°æ–¹å¼ã€‚å¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚

## chenshuai2144

æ˜¯æœ‰è¿™ä¸ªé—®é¢˜ï¼Œprocomponentsé‚£è¾¹æœ‰ç›¸åŒçš„issue

https://github.com/ant-design/pro-components/issues/5200

## echoyl

> æ˜¯æœ‰è¿™ä¸ªé—®é¢˜ï¼Œprocomponentsé‚£è¾¹æœ‰ç›¸åŒçš„issue
>
> [ant-design/pro-components#5200](https://github.com/ant-design/pro-components/issues/5200)

è·³åˆ°è¿™ä¸ªissue æ›´æ–°äº†@ant-design/pro-components è¿˜æ˜¯æ— æ•ˆ
åœ¨ BetaSchemaFormä½¿ç”¨ formList æ²¡æœ‰å‡ºç°æ¯è¡Œéƒ½æœ‰labelçš„é—®é¢˜
å•ç‹¬ä½¿ç”¨ProFormList ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜
ç„¶åçœ‹äº†ä¸‹ proformlistçš„ä»£ç å‘ç°æˆ‘ä½¿ç”¨äº† itemRender å°±æ²¡æœ‰ åœ¨å¤–é¢åŒ…ä¸€å±‚ ${alwaysShowItemLabel === undefined && `${prefixCls}-item-default`} è¿™ä¸ª
ç„¶ååœ¨ itemRender å†åŠ ä¸€æ¬¡divæŠŠclassnameåŠ è¿›å»å°±è¡Œäº† è¯»å– hashId
