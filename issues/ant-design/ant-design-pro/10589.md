# 🐛 [BUG] pro6黑暗模式下，左侧导航菜单栏在缩进后，弹出子菜单背景色不正确

`AI Reply`

### 🐛 bug 描述

左侧导航菜单栏在缩进后，弹出子菜单背景色不正确

### 📷 复现步骤 | Recurrence steps

- pro create 新建项目并运行
- 点击右侧配置齿轮按钮，整体风格选择“暗色风格”，导航模式选择“混合模式”
- 点击左侧导航栏的缩进箭头，然后鼠标停留在“权限”的导航图标(王冠)上，弹出来的子菜单，呈白板状。

### 🏞 期望结果 | Expected results

左侧导航菜单缩进后，弹出子菜单适配主题色。

### © 版本信息

- Ant Design Pro 版本: 6 beta
- umi 版本 4
- 浏览器环境 Chrome Version 110.0.5481.177 (Official Build) (x86_64)
- 开发环境 mac OS

### 🚑 其他信息

![image](https://user-images.githubusercontent.com/25092870/223029722-eaf4aa13-9ef8-46f5-94ee-0010c3fbd56c.png)

## crazyurus

同样遇到了，定位了下应该是 `pro-components` 的问题，提了 PR

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

好的，感谢你的反馈。可以尝试使用最新版本的 `pro-components` 来解决这个问题。如果问题依然存在，可以尝试修改 Pro 组件库里面的样式文件。具体操作如下：

1. 打开 `pro-components` 安装目录，找到 `lib/Menu/Menu.less` 文件。

2. 在该文件中找到以下代码块：

   ```
   .pro-layout-menu-dark {
     .ant-menu-item,
     .ant-menu-submenu-title,
     .ant-menu.ant-menu-dark:not(.ant-menu-horizontal) .ant-menu-item-selected {
       background: @menu-item-active-bg;
     }
   }
   ```

3. 将其中的 `background` 属性的值改为主题色。

   ```
   .pro-layout-menu-dark {
     .ant-menu-item,
     .ant-menu-submenu-title,
     .ant-menu.ant-menu-dark:not(.ant-menu-horizontal) .ant-menu-item-selected {
       background: @primary-color;
     }
   }
   ```

   注意，这里的 `@primary-color` 是指 Ant Design Pro 的主题色变量，如果你的项目中没有定义该变量，请替换成你项目中定义的主题色变量。

4. 修改完毕后，重新编译项目，子菜单的背景色就应该与主题色一致了。

如果上述方法无法解决问题，可以将你的问题反馈给 Ant Design Pro 的官方开发团队，或者在社区中寻求帮助。

## chenshuai2144

已经修复了，等发布把
