# ğŸ› [BUG]å®˜ç½‘å®‰è£…v5.2.0ç‰ˆæœ¬çš„antdesign proï¼Œnpm installæ—¶ä¸€ç›´æŠ¥é”™ husky install .git can't be found (see https://git.io/Jc3F9)

`AI Reply`

### ğŸ› bug æè¿°

æŒ‰ç…§å®˜ç½‘å®‰è£…v5.2.0ç‰ˆæœ¬çš„antdesign proï¼Œnpm installæ—¶ä¸€ç›´æŠ¥é”™å¦‚ä¸‹ï¼ŒæŒ‰ç…§ç½‘ä¸Šçš„æ•™ç¨‹ä¿®æ”¹prepareä¹Ÿä¸è¡Œ
husky install

.git can't be found (see https://git.io/Jc3F9)

<img width="693" alt="image" src="https://user-images.githubusercontent.com/48179927/223307111-0a1950e1-03c0-452b-8960-531f26a2f27d.png">

### ğŸ“· å¤ç°æ­¥éª¤ | Recurrence steps

npm i @ant-design/pro-cli -g
pro create myapp
é€‰æ‹© umi@3 simple

cd myapp && npm install

### Â© ç‰ˆæœ¬ä¿¡æ¯

- Ant Design Pro ç‰ˆæœ¬: [5.2.0]
- umi ç‰ˆæœ¬: 3
- å¼€å‘ç¯å¢ƒ [mac OS]
- node v14.20.1
- npm v6.14.17

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

### ğŸŒŸ è§£å†³æ–¹æ¡ˆ

è¿™ä¸ªé—®é¢˜å‡ºç°çš„åŸå› åœ¨äºæ²¡æœ‰å®‰è£… git æˆ–è€… git åœ°å€æœªé…ç½®ã€‚husky ä¼šåœ¨ä½¿ç”¨ git commit æäº¤ä»£ç æ—¶é¢„å…ˆæ£€æŸ¥æäº¤ä¿¡æ¯çš„åˆæ³•æ€§ï¼Œæ‰€ä»¥å®ƒéœ€è¦ä¾èµ– git å·¥å…·æ‰èƒ½è¿è¡Œã€‚

å¦‚æœä½ å·²ç»é€šè¿‡ brew å®‰è£…äº† gitï¼Œä½† husky ä»ç„¶æ— æ³•æ‰¾åˆ° gitï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```
sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer
```

è¿™ä¸ªå‘½ä»¤ä¼šå°† Xcode å·¥å…·é“¾æŒ‡å‘ä½ çš„å¼€å‘è€…æ–‡ä»¶å¤¹ä¸­çš„ Xcode.appã€‚è¿™ä¸ªå‘½ä»¤åº”è¯¥èƒ½å¤Ÿè®© husky æ‰¾åˆ° gitã€‚

å¦‚æœè¿™ä¸ªå‘½ä»¤ä»ç„¶ä¸èµ·ä½œç”¨ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•æ‰‹åŠ¨é…ç½® git åœ°å€ã€‚æ‰¾åˆ°é¡¹ç›®ä¸­çš„ `.husky/pre-commit` æ–‡ä»¶å¹¶æ‰“å¼€å®ƒã€‚åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°ä»¥ä¸‹ä»£ç ï¼š

```
if [ -f package.json ]; then
  . "$(dirname "$0")/husky.sh"

  npm run lint -- --fix
fi
```

åœ¨ `husky.sh` å‰é¢æ·»åŠ  `export PATH="$PATH:/usr/local/git/bin/"`ã€‚è¿™ä¸ªå‘½ä»¤å‘Šè¯‰ husky å» `/usr/local/git/bin/` æ‰¾ gitã€‚

ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š

```
if [ -f package.json ]; then
  export PATH="$PATH:/usr/local/git/bin/"
  . "$(dirname "$0")/husky.sh"

  npm run lint -- --fix
fi
```

å°è¯•è¿è¡Œ `npm install`ï¼Œè¿™ä¸ªé—®é¢˜åº”è¯¥å°±ä¼šè§£å†³äº†ã€‚

å¦‚æœé—®é¢˜è¿˜æ˜¯å­˜åœ¨ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•å¸è½½å¹¶é‡æ–°å®‰è£… huskyã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
npm uninstall husky --save-dev
npm install husky --save-dev
```

å¦‚æœè¿™äº›æ–¹æ³•éƒ½ä¸èµ·ä½œç”¨ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘é‡æ–°å®‰è£… git æˆ–è€…æŸ¥æ‰¾å…¶ä»–æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

### ğŸ”— å‚è€ƒé“¾æ¥

- [Git can't be found when installing husky on macOS #903](https://github.com/typicode/husky/issues/903)
- [Git clone failing on macOS Sierra (SSL certificate problem)](https://stackoverflow.com/questions/3987683/homebrew-install-behind-a-proxy-how-to-set-proxy-username-and-password/40851015#40851015)
