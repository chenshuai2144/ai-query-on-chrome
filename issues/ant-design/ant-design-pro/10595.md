# ğŸ› [BUG]èœå•é¢œè‰²ä¸ä¼šéšä¸»é¢˜è‰²æ”¹å˜

`AI Reply`

### ğŸ› bug æè¿°

<!--
è¯¦ç»†åœ°æè¿° bugï¼Œè®©å¤§å®¶éƒ½èƒ½ç†è§£
Describe the bug in detail so that everyone can understand it
-->

èœå•é»˜è®¤æ˜¯ç°è‰²ï¼Œä½¿ç”¨SettingDrawerä¿®æ”¹ä¸»é¢˜è‰²ï¼Œæˆ–è€…defaultSettings.tsè®¾ç½®colorPrimaryéƒ½ä¸ä¼šæ”¹å˜é¢œè‰²

### ğŸ“· å¤ç°æ­¥éª¤ | Recurrence steps

<!--
æ¸…æ™°æè¿°å¤ç°æ­¥éª¤ï¼Œè®©åˆ«äººä¹Ÿèƒ½çœ‹åˆ°é—®é¢˜
Clearly describe the recurrence steps so that others can see the problem
-->

https://procomponents.ant.design/components/layout
https://preview.pro.ant.design/dashboard/analysis
[preview](https://preview.pro.ant.design/dashboard/analysis)çš„èœå•é¢œè‰²ä¼šæ”¹å˜ï¼Œ[é«˜çº§å¸ƒå±€](https://procomponents.ant.design/components/layout)çš„èœå•é¢œè‰²ä¸ä¼šæ”¹å˜

### ğŸ æœŸæœ›ç»“æœ | Expected results

<!--
æè¿°ä½ åŸæœ¬æœŸæœ›çœ‹åˆ°çš„ç»“æœ
Describe what you expected to see
-->

èœå•é¢œè‰²éšä¸»é¢˜è‰²æ”¹å˜

### ğŸ’» å¤ç°ä»£ç  | Recurrence code

<!--
æä¾›å¯å¤ç°çš„ä»£ç ï¼Œä»“åº“ï¼Œæˆ–çº¿ä¸Šç¤ºä¾‹
Provide reproducible code, warehouse, or online examples
-->

æ— 

### Â© ç‰ˆæœ¬ä¿¡æ¯

- Ant Design Pro ç‰ˆæœ¬:6.0.0
- umi ç‰ˆæœ¬ @umijs/max": "^4.0.52"
- æµè§ˆå™¨ç¯å¢ƒ
- å¼€å‘ç¯å¢ƒ [e.g. mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

ä½ å¥½ï¼Œæ ¹æ®ä½ æä¾›çš„ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ `pro-layout` çš„ä¸»é¢˜é…ç½®æ¥å®ç°èœå•é¢œè‰²éšä¸»é¢˜è‰²æ”¹å˜çš„æ•ˆæœã€‚

å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. åœ¨ `config/config.ts` ä¸­æ·»åŠ è‡ªå®šä¹‰çš„ `theme` é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ˆå‡è®¾ä½ è¦ä¿®æ”¹ä¸»é¢˜çš„ä¸»è‰²è°ƒä¸ºçº¢è‰²ï¼‰ï¼š

   ```typescript
   export default {
     theme: {
       "primary-color": "red",
     },
     // å…¶ä»–é…ç½®...
   };
   ```

2. åœ¨é¡µé¢ä¸­å¼•å…¥ `pro-layout` ç»„ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ  `theme={theme}` å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

   ```typescript
   import { DefaultFooter, getMenuData, ProLayout } from "@ant-design/pro-layout";
   import { useIntl } from "umi";
   import { theme } from "@/config/config"; // å¼•å…¥è‡ªå®šä¹‰ä¸»é¢˜é…ç½®

   const BasicLayout: React.FC<BasicLayoutProps> = (props) => {
     const { children, location = { pathname: "/" } } = props;
     const menuDataRef = React.useRef<MenuDataItem[]>([]);
     const { formatMessage } = useIntl();

     // è·å–èœå•æ•°æ®
     const fetchMenuData = async () => {
       menuDataRef.current = await getMenuData();
     };

     React.useEffect(() => {
       fetchMenuData();
     }, []);

     return (
       <ProLayout
         title={formatMessage({ id: "app.title" })}
         logo={<Logo />}
         menuHeaderRender={false}
         menuItemRender={(menuItemProps, defaultDom) => {
           if (menuItemProps.isUrl || menuItemProps.children) {
             return defaultDom;
           }
           return <Link to={menuItemProps.path}>{defaultDom}</Link>;
         }}
         menuDataRender={() => menuDataRef.current}
         rightContentRender={() => <RightContent />}
         layout="mix"
         navTheme="dark"
         // æ·»åŠ è‡ªå®šä¹‰ä¸»é¢˜é…ç½®
         theme={theme}
         // å…¶ä»–å±æ€§...
       >
         {children}
         <DefaultFooter />
       </ProLayout>
     );
   };

   export default BasicLayout;
   ```

è¿™æ ·å°±èƒ½å®ç°èœå•é¢œè‰²éšä¸»é¢˜è‰²æ”¹å˜çš„æ•ˆæœäº†ã€‚

å‚è€ƒæ–‡æ¡£ï¼š

- https://github.com/ant-design/ant-design/blob/master/docs/react/customize-theme-cn.md
- https://ant.design/components/layout-cn/#API
