# yarn run i18n-removeæŠ¥é”™ğŸ› [BUG]

`AI Reply`

### ğŸ› bug æè¿°

yarn run i18n-remove æŠ¥é”™

### ğŸ“· å¤ç°æ­¥éª¤ | Recurrence steps

pro create my-app
yarn
yarn run i18n-remove

### ğŸ æœŸæœ›ç»“æœ | Expected results

æ‰§è¡ŒæˆåŠŸ

### ğŸ’» å¤ç°ä»£ç  | Recurrence code

æ— 

### Â© ç‰ˆæœ¬ä¿¡æ¯

Ant Design Pro ç‰ˆæœ¬: 6.0.0
umi ç‰ˆæœ¬: 4.x
æµè§ˆå™¨ç¯å¢ƒ: Chrome
å¼€å‘ç¯å¢ƒ: node 16.19.0

### ğŸš‘ å…¶ä»–ä¿¡æ¯

â ‹ âœ‚ï¸ remove locale for src/app.tsx.C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\node_modules\@eslint\eslintrc\lib\shared\config-validator.js:175
throw new Error(message);
^

Error: .eslintrc.js Â» C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@umijs\lint\dist\config\eslint\index.js:
Environment key "es2022" is unknown

    at C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\node_modules\@eslint\eslintrc\lib\shared\config-validator.js:175:23
    at Array.forEach (<anonymous>)
    at ConfigValidator.validateEnvironment (C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\node_modules\@eslint\eslintrc\lib\shared\config-validator.js:169:34)
    at ConfigValidator.validateConfigArray (C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\node_modules\@eslint\eslintrc\lib\shared\config-validator.js:319:18)
    at CascadingConfigArrayFactory._finalizeConfigArray (C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\node_modules\@eslint\eslintrc\lib\cascading-config-array-factory.js:493:23)
    at CascadingConfigArrayFactory.getConfigArrayForFile (C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\node_modules\@eslint\eslintrc\lib\cascading-config-array-factory.js:299:21)
    at CLIEngine.executeOnText (C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\node_modules\eslint\lib\cli-engine\cli-engine.js:889:47)
    at eslintJS (C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\src\i18n\eslintJs.js:10:25)
    at C:\Users\ASUS\Desktop\work\ant-design-pro\node_modules\@ant-design\pro-cli\src\i18n\index.js:63:32
    at Array.forEach (<anonymous>)

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

### ğŸŒˆ è§£å†³æ–¹æ¡ˆ | Solution

è¿™æ˜¯ä¸€ä¸ª eslint çš„æŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯ä¸º:

```
Environment key "es2022" is unknown
```

è¿™ä¸ªæ˜¯å› ä¸º eslint è¿˜æ²¡æœ‰æ”¯æŒ ES2022ï¼Œè€Œåœ¨ umi 4.x çš„é»˜è®¤é…ç½®ä¸­ï¼Œ`.eslintrc.js` ä¸­çš„ `env` é…ç½®äº† `es2022` ç¯å¢ƒï¼Œå¯¼è‡´äº†è¿™ä¸ªé”™è¯¯ã€‚

è§£å†³æ–¹æ¡ˆå°±æ˜¯ä¿®æ”¹ `.eslintrc.js`ï¼Œå»æ‰ `env.es2022` é…ç½®ï¼Œæˆ–è€…å°† `env` é…ç½®æ”¹ä¸ºï¼š

```js
env: {
  es2021: true,
  browser: true,
  node: true,
},
```

è¯¦ç»†çš„è§£å†³æ–¹æ¡ˆå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ [ESLint Configuration](https://umijs.org/docs/config#eslint-configuration)ã€‚

å¦‚æœé—®é¢˜è¿˜æ²¡æœ‰è§£å†³ï¼Œå»ºè®®æ£€æŸ¥ ant-design-proã€umi çš„ç‰ˆæœ¬æ˜¯å¦ä¸æ–‡æ¡£ä¸€è‡´ã€‚

## zphtown

çœ‹äº†issuerçš„è¯„è®ºï¼Œåˆ†äº«ä¸‹è‡ªå·±æˆåŠŸå»æ‰å¤šè¯­è¨€çš„æ“ä½œæ­¥éª¤
ç¬¬ä¸€æ­¥ï¼Œæ‰‹åŠ¨ç§»é™¤ä»£ç é‡ŒuseInt çš„ä»£ç ï¼Œ
ç¬¬äºŒæ­¥ï¼Œæ‰“å¼€src/eslintrc.jsæ–‡ä»¶ï¼Œ æ³¨é‡Š extends: [require.resolve('@umijs/lint/dist/config/eslint')],
ç¬¬ä¸‰æ­¥ï¼Œnpm run i18n-remove
ç¬¬å››æ­¥ï¼Œç»™config/routes.ts çš„æ¯ä¸€é¡¹åŠ ä¸Šname
è¿˜æœ‰ä¸€äº›å°é”™è¯¯ï¼Œè¦è‡ªå·±è§£å†³

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

éå¸¸æ„Ÿè°¢æ‚¨åˆ†äº«è‡ªå·±çš„æˆåŠŸç»éªŒï¼Œè¿™æ ·çš„ç»éªŒåˆ†äº«å¯ä»¥å¸®åŠ©æ›´å¤šçš„å¼€å‘è€…ï¼ŒåŒæ—¶ä¹Ÿè®©ç¤¾åŒºå˜å¾—æ›´åŠ æ´»è·ƒå’Œå¥åº·ã€‚æ‰‹åŠ¨ç§»é™¤ä»£ç å¹¶ä¸”æ³¨é‡Šæ‰ `eslint` çš„é…ç½®æ˜¯æ¯”è¾ƒæœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œå¯¹äºå°é”™è¯¯å¯ä»¥æ’æŸ¥ä¸€ä¸‹ç³»ç»Ÿç»™å‡ºçš„é”™è¯¯æç¤ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡ issue çš„æ²Ÿé€šæ¥è·å¾—æ›´å¤šçš„å¸®åŠ©ã€‚å†æ¬¡æ„Ÿè°¢æ‚¨çš„åˆ†äº«ï¼

## chenshuai2144

å·²ç»ä¿®å¤å•¦

## NCH-0404

> å·²ç»ä¿®å¤å•¦

å¥½åƒæ²¡æœ‰å“¦

## q20010012001001

> å·²ç»ä¿®å¤å•¦

ä¿®å¤äº†ä¸ªçƒ

## jetsung

æˆ‘æŠŠä¾èµ–å…¨éƒ¨éƒ½å‡çº§äº†ä¸€éï¼Œç„¶åè§£å†³é—®é¢˜äº†ã€‚

```bash
 "dependencies": {
    "@ant-design/icons": "^5.2.5",
    "@ant-design/pro-components": "^2.6.11",
    "@ant-design/use-emotion-css": "^1.0.4",
    "@umijs/route-utils": "^4.0.1",
    "antd": "^5.8.2",
    "classnames": "^2.3.2",
    "lodash": "^4.17.21",
    "moment": "^2.29.4",
    "omit.js": "^2.0.2",
    "querystring": "^0.2.1",
    "rc-menu": "^9.11.1",
    "rc-util": "^5.36.0",
    "react": "^18.2.0",
    "react-dev-inspector": "^1.8.6",
    "react-dom": "^18.2.0",
    "react-helmet-async": "^1.3.0"
  },
  "devDependencies": {
    "@ant-design/pro-cli": "^3.1.0",
    "@testing-library/react": "^14.0.0",
    "@types/classnames": "^2.3.1",
    "@types/express": "^4.17.17",
    "@types/history": "^5.0.0",
    "@types/jest": "^29.5.3",
    "@types/lodash": "^4.14.196",
    "@types/react": "^18.2.19",
    "@types/react-dom": "^18.2.7",
    "@umijs/fabric": "^4.0.1",
    "@umijs/lint": "^4.0.74",
    "@umijs/max": "^4.0.74",
    "cross-env": "^7.0.3",
    "eslint": "^8.46.0",
    "express": "^4.18.2",
    "gh-pages": "^5.0.0",
    "husky": "^8.0.3",
    "jest": "^29.6.2",
    "jest-environment-jsdom": "^29.6.2",
    "lint-staged": "^13.2.3",
    "mockjs": "^1.1.0",
    "prettier": "^3.0.1",
    "swagger-ui-dist": "^5.3.1",
    "ts-node": "^10.9.1",
    "typescript": "^5.1.6",
    "umi-presets-pro": "^2.0.3"
  },
```

## luosiqi73

have not fixed the issue lol
