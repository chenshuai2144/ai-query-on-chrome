# ğŸ›[BUG] Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()

`ğŸ›‘ bug`

### ğŸ› bug æè¿°

PRO4.0ç‰ˆæœ¬
è®¾ç½®
layout: 'topmenu',
æµè§ˆå™¨å°±ä¼šæŠ¥é”™ã€‚
è°¢è°¢~

`devScripts.js:5035
Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?

Check the render method of `ResizeObserver`.
in ConnectFunction (at BasicLayout.tsx:158)
in ResizeObserver (created by RightContent)
in div (created by RightContent)
in div (created by RightContent)
in RightContent (created by TopNavHeader)`

## aarabmed

inside `RightContent ` component when i dont use `connect ` function the warning disappears, im start to wonder if there is an issue with connect ? any help is appreciated

## aarabmed

hmmm, after so many testing , i have noticed that if you set the layout menu to `sidemenu `inside `DefaultSettings` the warning disappear however it will show if you set it to `topmenu` , i have tested that on the latest ant design pro repository and i got the same result.

## leosxie

the same for me,when i use topmenu
![image](https://user-images.githubusercontent.com/181152/82428675-6f98c200-9abd-11ea-8ae5-8d90470e921e.png)

## sixersun

åŒæ ·é‡åˆ°è¿™ä¸ªé—®é¢˜

## aarabmed

the workaround that you might not like it is to give away the use of `Connect `method and set `layout `and `theme `variables manually, instead of getting them from `DefaultSettings `using `props ` and `connect `

## skywangc

æˆ‘ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé—®é¢˜

## ChenWeihua123

åŒæ ·çš„é—®é¢˜

## hbshun

åŒé—®

## kaoding

é‡æ–° yarn install

## hbshun

> é‡æ–° yarn install

ä½ æ˜¯è®¤çœŸçš„å—ï¼Ÿ

## synebula

> > é‡æ–° yarn install
>
> ä½ æ˜¯è®¤çœŸçš„å—ï¼Ÿ

yarn upgrade-interactive --lastest æ›´æ–°ä¸‹@ant-design/pro-layoutåŒ…

## hcyfreedom

å¯¼å‡ºå­ç»„ä»¶çš„æ—¶å€™ï¼Œç”¨React.forwardRefåŒ…ä¸€ä¸‹

## chenshuai2144

close by https://github.com/dvajs/dva/issues/2222

## MagicHacker

å¯¼å‡ºç»„ä»¶çš„æ—¶å€™ä½¿ç”¨withRouteräº†å§ï¼Ÿç±»ç»„ä»¶åŒ…è£…æˆå‡½æ•°ç»„ä»¶äº†

## bhd119

in ConnectFunction (at BasicLayout.tsx:158)
è¿™è¡ŒæŠ¥é”™ï¼ŒBasicLayoutä¸èƒ½ç”¨connectã€‚ä½¿ç”¨export default class BasicLayout
