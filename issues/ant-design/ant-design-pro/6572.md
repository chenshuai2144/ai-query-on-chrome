# 🐛[BUG] Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()

`🛑 bug`

### 🐛 bug 描述

PRO4.0版本
设置
layout: 'topmenu',
浏览器就会报错。
谢谢~

`devScripts.js:5035
Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?

Check the render method of `ResizeObserver`.
in ConnectFunction (at BasicLayout.tsx:158)
in ResizeObserver (created by RightContent)
in div (created by RightContent)
in div (created by RightContent)
in RightContent (created by TopNavHeader)`

## aarabmed

inside `RightContent ` component when i dont use `connect ` function the warning disappears, im start to wonder if there is an issue with connect ? any help is appreciated

## aarabmed

hmmm, after so many testing , i have noticed that if you set the layout menu to `sidemenu `inside `DefaultSettings` the warning disappear however it will show if you set it to `topmenu` , i have tested that on the latest ant design pro repository and i got the same result.

## leosxie

the same for me,when i use topmenu
![image](https://user-images.githubusercontent.com/181152/82428675-6f98c200-9abd-11ea-8ae5-8d90470e921e.png)

## sixersun

同样遇到这个问题

## aarabmed

the workaround that you might not like it is to give away the use of `Connect `method and set `layout `and `theme `variables manually, instead of getting them from `DefaultSettings `using `props ` and `connect `

## skywangc

我也遇到了这个问题

## ChenWeihua123

同样的问题

## hbshun

同问

## kaoding

重新 yarn install

## hbshun

> 重新 yarn install

你是认真的吗？

## synebula

> > 重新 yarn install
>
> 你是认真的吗？

yarn upgrade-interactive --lastest 更新下@ant-design/pro-layout包

## hcyfreedom

导出子组件的时候，用React.forwardRef包一下

## chenshuai2144

close by https://github.com/dvajs/dva/issues/2222

## MagicHacker

导出组件的时候使用withRouter了吧？类组件包装成函数组件了

## bhd119

in ConnectFunction (at BasicLayout.tsx:158)
这行报错，BasicLayout不能用connect。使用export default class BasicLayout
