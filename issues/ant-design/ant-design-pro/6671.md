# 🐛[BUG]git 提交代码后，文件被删！！！！！！！！！！！！！！！

`🛑 bug`

## $ git commit -m '提交' husky > pre-commit (node v14.2.0) > ant-design-pro@1.0.0 lint-staged F:\jade-food > lint-staged > Preparing... √ Preparing... > Running tasks (chunk 1/2)... > Running tasks for **/\*.less > Running tasks for **/_.{js,jsx,ts,tsx} > Running tasks for \*\*/_.{js,jsx,tsx,ts,less,md,json} > stylelint --syntax less > npm run lint-staged:js > prettier --write √ prettier --write √ Running tasks for **/\*.{js,jsx,tsx,ts,less,md,json} √ stylelint --syntax less √ Running tasks for **/_.less × npm run lint-staged:js [FAILED] × npm run lint-staged:js [FAILED] √ Running tasks (chunk 1/2)... > Running tasks (chunk 2/2)... > Running tasks for \*\*/_.less > Running tasks for **/\*.{js,jsx,ts,tsx} > Running tasks for **/_.{js,jsx,tsx,ts,less,md,json} > stylelint --syntax less > npm run lint-staged:js > prettier --write √ stylelint --syntax less √ Running tasks for \*\*/_.less √ prettier --write √ Running tasks for \*_/_.{js,jsx,tsx,ts,less,md,json} × npm run lint-staged:js [FAILED] × npm run lint-staged:js [FAILED] √ Running tasks (chunk 2/2)... > Applying modifications... > Reverting to original state because of errors... × warning: unable to access 'src/pages/AccountManage/components/.gitattributes': Permission denied × warning: unable to access 'src/pages/AccountManage/components/.gitattributes': Permission denied × warning: unable to access 'src/pages/AccountManage/components/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Bar/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Bar/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Bar/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Chart Card/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Chart Card/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Chart Card/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Field /.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Field /.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Field /.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Gauge /.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Gauge /.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Gauge /.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniA rea/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniA rea/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniA rea/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniB ar/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniB ar/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniB ar/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniP rogress/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniP rogress/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniP rogress/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Pie/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Pie/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Pie/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/TagCl oud/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/TagCl oud/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/TagCl oud/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Timel ineChart/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Timel ineChart/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Timel ineChart/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Water Wave/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Water Wave/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Water Wave/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/NumberInfo/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/NumberInfo/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/NumberInfo/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/PageLoading/ .gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/PageLoading/ .gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/PageLoading/ .gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Trend/.gitat tributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Trend/.gitat tributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Trend/.gitat tributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/locales/.gitattributes' : Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/locales/.gitattributes' : Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/locales/.gitattributes' : Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/utils/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/utils/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/utils/.gitattributes': Permission denied × warning: unable to access 'src/pages/Home/.gitattributes': Permission denied × warning: unable to access 'src/pages/Home/.gitattributes': Permission denied × warning: unable to access 'src/pages/Home/.gitattributes': Permission denied × warning: unable to access 'src/pages/AccountManage/components/.gitattributes': Permission denied × :1233: trailing whitespace. × × :1256: trailing whitespace. × message.success('启用该用户成功!') × :1273: trailing whitespace. × message.success('禁用该用户成功!') × :1418: trailing whitespace. × } × :1423: trailing whitespace. × × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Bar/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Chart Card/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Field /.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Gauge /.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniA rea/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniB ar/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/MiniP rogress/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Pie/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/TagCl oud/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Timel ineChart/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Charts/Water Wave/.gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/NumberInfo/. gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/PageLoading/ .gitattributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/components/Trend/.gitat tributes': Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/locales/.gitattributes' : Permission denied × warning: unable to access 'src/pages/DashboardAnalysis/utils/.gitattributes': Permission denied × warning: unable to access 'src/pages/Home/.gitattributes': Permission denied × warning: squelched 4 whitespace errors × warning: 9 lines add whitespace errors. × error: cannot stat 'src/pages/DashboardAnalysis/components/Trend': Permission denied × error: cannot stat 'src/pages/DashboardAnalysis/components/Trend': Permission denied × Index was not unstashed. > Cleaning up... × lint-staged failed due to a git error. Any lost modifications can be restored from a git stash: > git stash list stash@{0}: automatic lint-staged backup > git stash apply --index stash@{0} × npm run lint-staged:js: npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! ant-design-pro@1.0.0 lint-staged:js: `eslint --ext .js,.jsx,.ts,.tsx  "                                                        F:/jade-food/config/config.ts" "F:/jade-food/config/defaultSettings.ts" "F:/jade                                                        -food/src/components/GlobalHeader/AvatarDropdown.tsx" "F:/jade-food/src/componen                                                        ts/GlobalHeader/RightContent.tsx" "F:/jade-food/src/layouts/BasicLayout.tsx" "F:                                                        /jade-food/src/layouts/SecurityLayout.tsx" "F:/jade-food/src/locales/zh-CN/menu.                                                        ts" "F:/jade-food/src/models/connect.d.ts" "F:/jade-food/src/models/global.ts" "                                                        F:/jade-food/src/models/login.ts" "F:/jade-food/src/models/menu.ts" "F:/jade-foo                                                        d/src/pages/AccountManage/components/CreateForm.tsx" "F:/jade-food/src/pages/Acc                                                        ountManage/components/UpdateForm.tsx" "F:/jade-food/src/pages/AccountManage/data                                                        .d.ts" "F:/jade-food/src/pages/AccountManage/index.tsx" "F:/jade-food/src/pages/                                                        AccountManage/service.ts" "F:/jade-food/src/pages/DashboardAnalysis/_mock.ts" "F                                                        :/jade-food/src/pages/DashboardAnalysis/components/Charts/Bar/index.tsx" "F:/jad                                                        e-food/src/pages/DashboardAnalysis/components/Charts/ChartCard/index.tsx" "F:/ja                                                        de-food/src/pages/DashboardAnalysis/components/Charts/Field/index.tsx" "F:/jade-                                                        food/src/pages/DashboardAnalysis/components/Charts/Gauge/index.tsx" "F:/jade-foo                                                        d/src/pages/DashboardAnalysis/components/Charts/MiniArea/index.tsx" "F:/jade-foo                                                        d/src/pages/DashboardAnalysis/components/Charts/MiniBar/index.tsx" "F:/jade-food                                                        /src/pages/DashboardAnalysis/components/Charts/MiniProgress/index.tsx" "F:/jade-                                                        food/src/pages/DashboardAnalysis/components/Charts/Pie/index.tsx" "F:/jade-food/                                                        src/pages/DashboardAnalysis/components/Charts/TagCloud/index.tsx" "F:/jade-food/                                                        src/pages/DashboardAnalysis/components/Charts/TimelineChart/index.tsx" "F:/jade-                                                        food/src/pages/DashboardAnalysis/components/Charts/WaterWave/index.tsx" "F:/jade                                                        -food/src/pages/DashboardAnalysis/components/Charts/autoHeight.tsx"` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the ant-design-pro@1.0.0 lint-staged:js script. npm ERR! This is probably not a problem with npm. There is likely additional log ging output above. npm ERR! A complete log of this run can be found in: npm ERR! C:\Users\Chrom_z\AppData\Roaming\npm-cache_logs\2020-05-25T03_04_3 1_402Z-debug.log > ant-design-pro@1.0.0 lint-staged:js F:\jade-food > eslint --ext .js,.jsx,.ts,.tsx "F:/jade-food/config/config.ts" "F:/jade-food/ config/defaultSettings.ts" "F:/jade-food/src/components/GlobalHeader/AvatarDropd own.tsx" "F:/jade-food/src/components/GlobalHeader/RightContent.tsx" "F:/jade-fo od/src/layouts/BasicLayout.tsx" "F:/jade-food/src/layouts/SecurityLayout.tsx" "F :/jade-food/src/locales/zh-CN/menu.ts" "F:/jade-food/src/models/connect.d.ts" "F :/jade-food/src/models/global.ts" "F:/jade-food/src/models/login.ts" "F:/jade-fo od/src/models/menu.ts" "F:/jade-food/src/pages/AccountManage/components/CreateFo rm.tsx" "F:/jade-food/src/pages/AccountManage/components/UpdateForm.tsx" "F:/jad e-food/src/pages/AccountManage/data.d.ts" "F:/jade-food/src/pages/AccountManage/ index.tsx" "F:/jade-food/src/pages/AccountManage/service.ts" "F:/jade-food/src/p ages/DashboardAnalysis/\_mock.ts" "F:/jade-food/src/pages/DashboardAnalysis/compo nents/Charts/Bar/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components /Charts/ChartCard/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/component s/Charts/Field/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/C harts/Gauge/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/Char ts/MiniArea/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/Char ts/MiniBar/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/Chart s/MiniProgress/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/C harts/Pie/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/Charts /TagCloud/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/Charts /TimelineChart/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/C harts/WaterWave/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/ Charts/autoHeight.tsx" F:\jade-food\config\config.ts 0:0 warning File ignored because of a matching ignore pattern. Use "--no-ign ore" to override F:\jade-food\config\defaultSettings.ts 0:0 warning File ignored because of a matching ignore pattern. Use "--no-ign ore" to override F:\jade-food\src\layouts\BasicLayout.tsx 69:5 warning Unexpected console statement no-console F:\jade-food\src\pages\AccountManage\index.tsx 114:9 warning Unexpected console statement no-console F:\jade-food\src\pages\DashboardAnalysis\components\Charts\Bar\index.tsx 1:44 error Unable to resolve path to module 'bizcharts' import/no-unresolved 4:1 error 'lodash.debounce' should be listed in the project's dependencies. Run 'npm i -S lodash.debounce' to add it import/no-extraneous-dependencies F:\jade-food\src\pages\DashboardAnalysis\components\Charts\Gauge\index.tsx 1:56 error Unable to resolve path to module 'bizcharts' import/no-unresolve d F:\jade-food\src\pages\DashboardAnalysis\components\Charts\MiniArea\index.tsx 1:55 error Unable to resolve path to module 'bizcharts' import/no-unresolve d F:\jade-food\src\pages\DashboardAnalysis\components\Charts\MiniBar\index.tsx 1:38 error Unable to resolve path to module 'bizcharts' import/no-unresolve d F:\jade-food\src\pages\DashboardAnalysis\components\Charts\Pie\index.tsx 1:45 error Unable to resolve path to module 'bizcharts' import/no-unresolved 4:26 error Unable to resolve path to module '@antv/data-set' import/no-unresolved 5:1 error 'lodash.debounce' should be listed in the project's dependencies. Run 'npm i -S lodash.debounce' to add it import/no-extraneous-dependencies 7:26 error Unable to resolve path to module 'react-fittext' import/no-unresolved F:\jade-food\src\pages\DashboardAnalysis\components\Charts\TagCloud\index.tsx 1:52 error Unable to resolve path to module 'bizcharts' import/no-unresolved 4:21 error Unable to resolve path to module '@antv/data-set' import/no-unresolved 5:1 error 'lodash.debounce' should be listed in the project's dependencies. Run 'npm i -S lodash.debounce' to add it import/no-extraneous-dependencies F:\jade-food\src\pages\DashboardAnalysis\components\Charts\TimelineChart\index.t sx 1:52 error Unable to resolve path to module 'bizcharts' impor t/no-unresolved 3:21 error Unable to resolve path to module '@antv/data-set' impor t/no-unresolved 5:20 error Unable to resolve path to module 'bizcharts-plugin-slider' impor t/no-unresolved ✖ 19 problems (15 errors, 4 warnings) × npm run lint-staged:js: npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! ant-design-pro@1.0.0 lint-staged:js: `eslint --ext .js,.jsx,.ts,.tsx  "                                                        F:/jade-food/src/pages/DashboardAnalysis/components/Charts/bizcharts.d.ts" "F:/j                                                        ade-food/src/pages/DashboardAnalysis/components/Charts/bizcharts.tsx" "F:/jade-f                                                        ood/src/pages/DashboardAnalysis/components/Charts/index.tsx" "F:/jade-food/src/p                                                        ages/DashboardAnalysis/components/IntroduceRow.tsx" "F:/jade-food/src/pages/Dash                                                        boardAnalysis/components/NumberInfo/index.tsx" "F:/jade-food/src/pages/Dashboard                                                        Analysis/components/OfflineData.tsx" "F:/jade-food/src/pages/DashboardAnalysis/c                                                        omponents/PageLoading/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/compo                                                        nents/ProportionSales.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/                                                        SalesCard.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/TopSearch.ts                                                        x" "F:/jade-food/src/pages/DashboardAnalysis/components/Trend/index.tsx" "F:/jad                                                        e-food/src/pages/DashboardAnalysis/data.d.ts" "F:/jade-food/src/pages/DashboardA                                                        nalysis/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/locales/en-US.ts" "                                                        F:/jade-food/src/pages/DashboardAnalysis/locales/pt-BR.ts" "F:/jade-food/src/pag                                                        es/DashboardAnalysis/locales/zh-CN.ts" "F:/jade-food/src/pages/DashboardAnalysis                                                        /locales/zh-TW.ts" "F:/jade-food/src/pages/DashboardAnalysis/model.tsx" "F:/jade                                                        -food/src/pages/DashboardAnalysis/service.tsx" "F:/jade-food/src/pages/Dashboard                                                        Analysis/utils/Yuan.tsx" "F:/jade-food/src/pages/DashboardAnalysis/utils/utils.t                                                        s" "F:/jade-food/src/pages/Home/index.tsx" "F:/jade-food/src/pages/ListTableList                                                        /index.tsx" "F:/jade-food/src/pages/RoleManage/index.tsx" "F:/jade-food/src/page                                                        s/RoleManage/service.ts" "F:/jade-food/src/services/login.ts" "F:/jade-food/src/                                                        services/menu.ts" "F:/jade-food/src/utils/authority.ts" "F:/jade-food/src/utils/                                                        request.ts" "F:/jade-food/src/utils/utils.ts"` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the ant-design-pro@1.0.0 lint-staged:js script. npm ERR! This is probably not a problem with npm. There is likely additional log ging output above. npm ERR! A complete log of this run can be found in: npm ERR! C:\Users\Chrom_z\AppData\Roaming\npm-cache_logs\2020-05-25T03_04_4 0_316Z-debug.log > ant-design-pro@1.0.0 lint-staged:js F:\jade-food > eslint --ext .js,.jsx,.ts,.tsx "F:/jade-food/src/pages/DashboardAnalysis/comp onents/Charts/bizcharts.d.ts" "F:/jade-food/src/pages/DashboardAnalysis/componen ts/Charts/bizcharts.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/Ch arts/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/IntroduceRo w.tsx" "F:/jade-food/src/pages/DashboardAnalysis/components/NumberInfo/index.tsx " "F:/jade-food/src/pages/DashboardAnalysis/components/OfflineData.tsx" "F:/jade -food/src/pages/DashboardAnalysis/components/PageLoading/index.tsx" "F:/jade-foo d/src/pages/DashboardAnalysis/components/ProportionSales.tsx" "F:/jade-food/src/ pages/DashboardAnalysis/components/SalesCard.tsx" "F:/jade-food/src/pages/Dashbo ardAnalysis/components/TopSearch.tsx" "F:/jade-food/src/pages/DashboardAnalysis/ components/Trend/index.tsx" "F:/jade-food/src/pages/DashboardAnalysis/data.d.ts" "F:/jade-food/src/pages/DashboardAnalysis/index.tsx" "F:/jade-food/src/pages/Da shboardAnalysis/locales/en-US.ts" "F:/jade-food/src/pages/DashboardAnalysis/loca les/pt-BR.ts" "F:/jade-food/src/pages/DashboardAnalysis/locales/zh-CN.ts" "F:/ja de-food/src/pages/DashboardAnalysis/locales/zh-TW.ts" "F:/jade-food/src/pages/Da shboardAnalysis/model.tsx" "F:/jade-food/src/pages/DashboardAnalysis/service.tsx " "F:/jade-food/src/pages/DashboardAnalysis/utils/Yuan.tsx" "F:/jade-food/src/pa ges/DashboardAnalysis/utils/utils.ts" "F:/jade-food/src/pages/Home/index.tsx" "F :/jade-food/src/pages/ListTableList/index.tsx" "F:/jade-food/src/pages/RoleManag e/index.tsx" "F:/jade-food/src/pages/RoleManage/service.ts" "F:/jade-food/src/se rvices/login.ts" "F:/jade-food/src/services/menu.ts" "F:/jade-food/src/utils/aut hority.ts" "F:/jade-food/src/utils/request.ts" "F:/jade-food/src/utils/utils.ts" F:\jade-food\src\pages\DashboardAnalysis\components\Charts\bizcharts.d.ts 1:27 error Unable to resolve path to module 'bizcharts' import/no-unresolve d F:\jade-food\src\pages\DashboardAnalysis\components\Charts\bizcharts.tsx 1:27 error Unable to resolve path to module 'bizcharts' import/no-unresolve d F:\jade-food\src\pages\DashboardAnalysis\components\Charts\index.tsx 1:21 error Unable to resolve path to module 'numeral' import/no-unresolved F:\jade-food\src\pages\DashboardAnalysis\components\IntroduceRow.tsx 3:10 error 'FormattedMessage' is defined but never used @typescript-eslint/ no-unused-vars 5:21 error Unable to resolve path to module 'numeral' import/no-unresolve d F:\jade-food\src\pages\DashboardAnalysis\components\OfflineData.tsx 2:10 error 'FormattedMessage' is defined but never used @typescript-eslint/ no-unused-vars 2:28 error 'formatMessage' is defined but never used @typescript-eslint/ no-unused-vars F:\jade-food\src\pages\DashboardAnalysis\components\ProportionSales.tsx 2:10 error 'FormattedMessage' is defined but never used @typescript-eslint/ no-unused-vars F:\jade-food\src\pages\DashboardAnalysis\components\SalesCard.tsx 2:10 error 'FormattedMessage' is defined but never used @typescript-eslint/ no-unused-vars 2:28 error 'formatMessage' is defined but never used @typescript-eslint/ no-unused-vars 6:21 error Unable to resolve path to module 'numeral' import/no-unresolve d F:\jade-food\src\pages\DashboardAnalysis\components\TopSearch.tsx 3:10 error 'FormattedMessage' is defined but never used @typescript-eslint/ no-unused-vars 5:21 error Unable to resolve path to module 'numeral' import/no-unresolve d F:\jade-food\src\pages\RoleManage\index.tsx 23:11 error 'addRule' is not defined no-undef 41:11 error 'updateRule' is not defined no-undef F:\jade-food\src\pages\RoleManage\service.ts 6:3 warning Unexpected console statement no-console ✖ 16 problems (15 errors, 1 warning) npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! ant-design-pro@1.0.0 lint-staged: `lint-staged` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the ant-design-pro@1.0.0 lint-staged script. npm ERR! This is probably not a problem with npm. There is likely additional log ging output above. npm ERR! A complete log of this run can be found in: npm ERR! C:\Users\Chrom_z\AppData\Roaming\npm-cache_logs\2020-05-25T03_04_4 1_587Z-debug.log husky > pre-commit hook failed (add --no-verify to bypass)

## chenshuai2144

执行一下` git clean -dfx`

## Harry-Vin

是的，我使用pre-commit命令之后新提交的代码也被删除，一个模块白写了

## Harry-Vin

> 是的，我使用pre-commit命令之后新提交的代码也被删除，一个模块白写了
> 不是很懂，为什么检测到错误的语法提交不了就提交不了了，还把我新写的代码给删除了

## Harry-Vin

> > 是的，我使用pre-commit命令之后新提交的代码也被删除，一个模块白写了
> > 不是很懂，为什么检测到错误的语法提交不了就提交不了了，还把我新写的代码给删除了

看了一下相关文档发现Git提交失败会把这次的记录存到存储库里面，然后可以通过git stash list来查看记录列表，然后使用git stash apply --index 记录索引 然后就能恢复到上一次提交前的样子了
![image](https://user-images.githubusercontent.com/24708680/83377164-5968fb00-a407-11ea-8ecc-2aa9703019d9.png)

## CodingZJ

忘记了说：我的解决方案。 执行 git stash pop 就可以了，ps：希望有人指点下怎么移除这些校验。

## birdycn

我也遇到这个问题了。。

## Symous

有没有人知道出现这个问题的原因是什么，如何彻底修复？@CodingZJ @Harry-Wen

## happysmile12321

走了git hooks,提前检查代码，如果通不过lint之类的就不让提交

## happysmile12321

解决办法就是把这些垃圾的东西统统去掉

## happysmile12321

没有实际业务价值的代码维护都是一堆狗屎
