# ğŸ§[é—®é¢˜] fatal: unable to update url base from redirection

### ğŸ§ é—®é¢˜æè¿°

åœ¨åˆå§‹åŒ–é¡¹ç›®æ—¶ç¢°åˆ°è¿™ä¸ªé”™è¯¯ï¼Œè¯·é—®è¯¥ä»å“ªé‡Œæ’æŸ¥é—®é¢˜å’Œè§£å†³ï¼ˆæˆ–è€…ç»•è¿‡ï¼‰ï¼Ÿ

```
fatal: unable to update url base from redirection:
```

<!--
è¯¦ç»†åœ°æè¿°é—®é¢˜ï¼Œè®©å¤§å®¶éƒ½èƒ½ç†è§£
-->

### ğŸ’» ç¤ºä¾‹ä»£ç 

```
yarn create umi xxx
yarn create v1.22.5
[1/4] ğŸ”  Resolving packages...
[2/4] ğŸšš  Fetching packages...
[3/4] ğŸ”—  Linking dependencies...
warning "@tarojs/cli > @typescript-eslint/parser > @typescript-eslint/typescript-estree > tsutils@3.17.1" has unmet peer dependency "typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta".
warning "create-umi > sylvanas > @umijs/fabric > @typescript-eslint/eslint-plugin@4.10.0" has unmet peer dependency "@typescript-eslint/parser@^4.0.0".
[4/4] ğŸ”¨  Building fresh packages...
success Installed "create-umi@0.26.0" with binaries:
      - create-umi
? Select the boilerplate type ant-design-pro
? ğŸ§™ Be the first to experience the new umi@3 ? Pro V5
Cloning into 'xxx'...
fatal: unable to update url base from redirection:
  asked for: https://gitee.com/ant-design/ant-design-pro/info/refs?service=git-upload-pack
   redirect: https://gitee.com/ant-design/ant-design-pro/info/refs?X-OpenDNS-Session=_fa2da2870f26f041500b5e70c763e52711499270fb54_f0urhylu_service=git-upload-pack
events.js:174
      throw er; // Unhandled 'error' event
      ^

Error: Command failed: git clone https://gitee.com/ant-design/ant-design-pro --depth=1 --branch v5 xxx
null
null
    at makeError (/Users/tianjef/.config/yarn/global/node_modules/execa/index.js:174:9)
    at Promise.all.then.arr (/Users/tianjef/.config/yarn/global/node_modules/execa/index.js:278:16)
    at process._tickCallback (internal/process/next_tick.js:68:7)
Emitted 'error' event at:
    at Immediate.setImmediate (/Users/tianjef/.config/yarn/global/node_modules/yeoman-generator/lib/index.js:1022:20)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
error Command failed.
Exit code: 1
Command: /usr/local/bin/create-umi
Arguments: xxx
Directory: /Users/jeff-tian/
Output:

info Visit https://yarnpkg.com/en/docs/cli/create for documentation about this command.

```

<!--
å¦‚æœä½ æœ‰è§£å†³æ–¹æ¡ˆï¼Œåœ¨è¿™é‡Œæ¸…æ™°åœ°é˜è¿°
-->

### ğŸš‘ å…¶ä»–ä¿¡æ¯

æ²¡æœ‰ä½¿ç”¨ä»£ç†

```
âœ git config --global http.proxy

```

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

## chenshuai2144

æ‰‹å·¥æ‰§è¡Œä¸€ä¸‹
`git clone https://gitee.com/ant-design/ant-design-pro --depth=1 --branch v5 adidas-front`

çœ‹èµ·æ¥æ˜¯è·¯å¾„å ç”¨ä¹‹ç±»çš„é—®é¢˜

## Jeff-Tian

æ‰‹å·¥æ‰§è¡ŒæŠ¥åŒæ ·çš„é”™è¯¯ã€‚ä½†æ˜¯æŠŠgiteeæ¢æˆgithub æ²¡é—®é¢˜ã€‚

åº”è¯¥æ˜¯ç½‘ç»œé—®é¢˜ï¼Œè°¢è°¢äº†ã€‚

## sanqiu0625

åˆå§‹åŒ–æŠ¥é”™
? ğŸ‚ ä½¿ç”¨ umi@4 è¿˜æ˜¯ umi@3 ? umi@4
ğŸ§ğŸ»å…¨é‡åŒºå—æš‚æ—¶ä¸æ”¯æŒ umi@4

> clone repo url: https://gitee.com/ant-design/ant-design-pro
> 'git' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº
> æˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚
> Ã— An error occured while running #writing
> C:\Users\12924\AppData\Roaming\npm\node_modules\@ant-design\pro-cli\node_modules\execa\lib\error.js:60

                error = new Error(message);
                        ^

Error: Command failed with exit code 1: git clone https://gitee.com/ant-design/ant-design-pro --depth=1 nianapi-forntend at makeError (C:\Users\12924\AppData\Roaming\npm\node_modules\@ant-design\pro-cli\node_modules\execa\lib\error.js:60:11)
at handlePromise (C:\Users\12924\AppData\Roaming\npm\node_modules\@ant-design\pro-cli\node_modules\execa\index.js:118:26)
at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
at async AntDesignProGenerator.writing (C:\Users\12924\AppData\Roaming\npm\node_modules\@ant-design\pro-cli\src\create\generators\ant-design-pro\index.js:119:5) {
shortMessage: 'Command failed with exit code 1: git clone https://gitee.com/ant-design/ant-design-pro --depth=1 nianapi-forntend',
command: 'git clone https://gitee.com/ant-design/ant-design-pro --depth=1 nianapi-forntend',
escapedCommand: 'git clone "https://gitee.com/ant-design/ant-design-pro" "--depth=1" nianapi-forntend',
exitCode: 1,
signal: undefined,
signalDescription: undefined,
stdout: undefined,
stderr: undefined,
failed: true,
timedOut: false,
isCanceled: false,
killed: false
}

Node.js v18.16.0
