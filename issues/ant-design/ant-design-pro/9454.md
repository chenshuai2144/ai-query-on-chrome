# ğŸ§[é—®é¢˜]V5ç‰ˆæœ¬ ä½¿ç”¨ errorConfig çš„ adaptor é€‚é…, æœªå‡ºç°é¢„æœŸä¸­çš„å…¨å±€æç¤º

### ğŸ› bug æè¿°

### [é—®é¢˜]V5ç‰ˆæœ¬ ä½¿ç”¨ errorConfig çš„ adaptor é€‚é…, æœªå‡ºç°é¢„æœŸä¸­çš„å…¨å±€æç¤º

### ğŸ“· å¤ç°æ­¥éª¤

ç”±äºåå°è¿”å›æ•°æ®ç»“æ„ å’Œ æ–‡æ¡£è§„èŒƒä¸åŒ , åœ¨ app.jsx ä¸­ å¯¹ request çš„é…ç½®ä¸­, é…ç½®errorConfig çš„ adaptor

### ğŸ æœŸæœ›ç»“æœ

æœŸæœ›é€šè¿‡ adaptor å¤„ç†å ant design pro å¯ä»¥æŠ›å‡ºå…¨å±€é”™è¯¯æç¤º

### ğŸ’» å¤ç°ä»£ç 

```javascript
// app.jsx
export const request = {
  errorHandler,
  requestInterceptors: [authHeaderInterceptor],
  responseInterceptors: [responseInterceptors],
  errorConfig: {
    adaptor: (response) => {
      const res = {
        ...response,
        errorCode: response.code,
        // åå°è¿”å› code ä¸º '0' ä»£è¡¨æˆåŠŸ
        success: response.code === "0",
        errorMessage: response.message,
        showType: 2,
      };
      console.log("adaptoré‡Œçš„data", res);
      return res;
    },
  },
};
```

```json
// package.json
{
  "name": "ant-design-pro",
  "version": "5.0.0",
  "private": true,
  "description": "An out-of-box UI solution for enterprise applications",
.....

```

## chenshuai2144

å¥½åƒä¸æ”¯æŒè¦è‡ªå·±å¤„ç†äº†ï¼Œä½ å¯ä»¥æŠ„ä¸€ä¸‹ç®—æ³•ã€‚

https://github.com/umijs/plugins/blob/316374a98469fcadd7488af0248c137683e68ddb/packages/plugin-request/src/request.ts#L151
