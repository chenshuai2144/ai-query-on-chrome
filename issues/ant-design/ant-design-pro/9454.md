# 🧐[问题]V5版本 使用 errorConfig 的 adaptor 适配, 未出现预期中的全局提示

### 🐛 bug 描述

### [问题]V5版本 使用 errorConfig 的 adaptor 适配, 未出现预期中的全局提示

### 📷 复现步骤

由于后台返回数据结构 和 文档规范不同 , 在 app.jsx 中 对 request 的配置中, 配置errorConfig 的 adaptor

### 🏞 期望结果

期望通过 adaptor 处理后 ant design pro 可以抛出全局错误提示

### 💻 复现代码

```javascript
// app.jsx
export const request = {
  errorHandler,
  requestInterceptors: [authHeaderInterceptor],
  responseInterceptors: [responseInterceptors],
  errorConfig: {
    adaptor: (response) => {
      const res = {
        ...response,
        errorCode: response.code,
        // 后台返回 code 为 '0' 代表成功
        success: response.code === "0",
        errorMessage: response.message,
        showType: 2,
      };
      console.log("adaptor里的data", res);
      return res;
    },
  },
};
```

```json
// package.json
{
  "name": "ant-design-pro",
  "version": "5.0.0",
  "private": true,
  "description": "An out-of-box UI solution for enterprise applications",
.....

```

## chenshuai2144

好像不支持要自己处理了，你可以抄一下算法。

https://github.com/umijs/plugins/blob/316374a98469fcadd7488af0248c137683e68ddb/packages/plugin-request/src/request.ts#L151
