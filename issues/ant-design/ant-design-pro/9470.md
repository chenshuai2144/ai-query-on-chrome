# ğŸ›[BUG] åˆ‡æ¢è·¯ç”±æœ‰æ—¶å°±ä¼šæŠ¥é”™ Warning: Can't perform a React state update on an unmounted component

### ğŸ› bug æè¿°

åˆå§‹åŒ–é¡¹ç›®ä¹‹åï¼Œè¿è¡Œåˆå§‹é¡¹ç›®ï¼Œåˆ‡æ¢è·¯ç”±å°±ä¼šæŠ¥é”™

### ğŸ“· å¤ç°æ­¥éª¤

æ ¹æ®å®˜ç½‘çš„å¿«é€Ÿå¼€å§‹æ­¥éª¤ï¼Œåˆå§‹åŒ–é¡¹ç›®ï¼Œé€‰æ‹©ant design proï¼Œå†é€‰æ‹©Typescriptï¼Œå†é€‰æ‹©simple
ç„¶åå®‰è£…ä¾èµ–ï¼Œç„¶åyarn start è¿è¡Œé¡¹ç›®
ç„¶ååœ¨é¡µé¢ä¸Šåˆ‡æ¢è·¯ç”±æœ‰æ—¶å€™å°±ä¼šæŠ¥é”™
[![Tg01YD.png](https://s4.ax1x.com/2021/12/29/Tg01YD.png)](https://imgtu.com/i/Tg01YD)

### ğŸ æœŸæœ›ç»“æœ

<!--
æè¿°ä½ åŸæœ¬æœŸæœ›çœ‹åˆ°çš„ç»“æœ
-->

### ğŸ’» å¤ç°ä»£ç 

åˆå§‹åŒ–é¡¹ç›®å°±å¯ä»¥å¤ç°

### Â© ç‰ˆæœ¬ä¿¡æ¯

- Ant Design Pro ç‰ˆæœ¬: [5.0.0]
- umi ç‰ˆæœ¬
- æµè§ˆå™¨ç¯å¢ƒ Chrome 96.0.4664.45
- å¼€å‘ç¯å¢ƒ [e.g. windows 10]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

æŠ¥é”™ä¿¡æ¯ï¼š

Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.
at PageHeader (http://localhost:8000/vendors-node_modules_antd_es_affix_index_js-node_modules_antd_es_page-header_index_js-node_mo-f3e00b.js:1152:60)
at div
at ProPageHeader (http://localhost:8000/vendors-node_modules_ant-design_pro-layout_es_components_PageContainer_index_js.js:319:65)
at div
at PageContainer (http://localhost:8000/vendors-node_modules_ant-design_pro-layout_es_components_PageContainer_index_js.js:384:24)
at Welcome (http://localhost:8000/p\_\_Welcome.js:151:58)
at LoadableComponent (http://localhost:8000/umi.js:141692:68)
at Route
console.<computed> @ devScripts.js:6523
overrideMethod @ react_devtools_backend.js:4045
printWarning @ react-dom.development.js:67
error @ react-dom.development.js:43
warnAboutUpdateOnUnmountedFiberInDEV @ react-dom.development.js:23914
scheduleUpdateOnFiber @ react-dom.development.js:21840
dispatchAction @ react-dom.development.js:16139
onResize @ index.js:108
(anonymous) @ index.js:74
Promise.then (async)
(anonymous) @ index.js:73
(anonymous) @ observerUtil.js:11
(anonymous) @ observerUtil.js:10
onResize @ observerUtil.js:6

## cy188

è¿™ä¸ªé—®é¢˜å…¶ä»–äººæ²¡æœ‰é‡åˆ°è¿‡å—ï¼Ÿ

## qiangguoguo

5.2.0 ä¹Ÿé‡åˆ°äº†è¿™ä¸ªé”™è¯¯

## yuwenzhuifeng

+1

## yuandalu

ç¡®å®é‡åˆ°äº†ï¼Œå¸Œæœ›æœ‰äººå¸®å¿™çœ‹ä¸‹ï¼Œè¿½äº†ä¸‹ä»£ç è²Œä¼¼æ˜¯PageContainerç»„ä»¶æŠ¥çš„ï¼Œåœ¨æ·±å…¥æä¸å¤ªæ˜ç™½äº†

## qq1170623178

ç½‘ç»œè¯·æ±‚å›æ¥ä¹‹åä½¿ç”¨setStateï¼Œå¦‚æœç»„ä»¶è¢«é”€æ¯çš„è¯å°±ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ï¼Œå¸Œæœ›reactèƒ½æŠŠè¿™ä¸ªæŠ¥é”™æ”¾å®½ä¸€ç‚¹ï¼Œè™½ç„¶æ²¡å•¥å½±å“ï¼Œæˆ–è€…å½“ä¸ªå‘Šè­¦ä¹Ÿè¡Œ

## chenshuai2144

[qq1170623178](https://github.com/qq1170623178)

ä¸å¥½å¥½å¤„ç†å¾ˆå®¹æ˜“å†…å­˜æ³„éœ²çš„ï¼Œæœ€å¥½ç”¨ç”Ÿå‘½å‘¨æœŸé”€æ¯ä¸€ä¸‹

## gaona233

æ‰€ä»¥è§£å†³æ–¹æ¡ˆæ˜¯å•¥ï¼Œä¸ºå•¥å°±å…³æ‰äº†

## gaona233

æ‰€ä»¥è§£å†³æ–¹æ¡ˆæ˜¯å•¥ï¼Œä¸ºå•¥å°±å…³æ‰äº†
