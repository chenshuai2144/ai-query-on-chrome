# åˆ†æ®µè¿›åº¦æ¡çš„Infoä¿¡æ¯æ˜¾ç¤ºä¸ç¬¦åˆé¢„æœŸ

`ğŸ› Bug`,`ğŸ‘·ğŸ»â€â™‚ï¸ Someone working on it`,`unconfirmed`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/antd-reproduction-template-forked-nurj39?file=/index.js:328-336)

### Steps to reproduce

1. progressè®¾ç½® successå±æ€§
2. åŠ¨æ€å¢åŠ å‡å°‘ percent
3. infoçš„ç™¾åˆ†æ¯”æ²¡æœ‰å‘ç”Ÿå˜åŒ–

### What is expected?

ç‚¹å‡»å‘ç”Ÿä¹‹å æ˜¾ç¤ºå¯¹åº”çš„ç™¾åˆ†æ¯”

### What is actually happening?

ä¸€ç›´æ˜¾ç¤ºä¸º0

| Environment | Info   |
| ----------- | ------ |
| antd        | 5.2.0  |
| React       | 18     |
| System      | mac    |
| Browser     | google |

---

progressInfoä¸­ React.useMemoçš„ä¾èµ–ä¸º percentNumber ä½†æ˜¯ percentNumberåœ¨é‡Œé¢æ²¡æœ‰ä½¿ç”¨
text = textFormatter(validProgress(percent), validProgress(successPercent));
percentå¼•èµ·percentNumberçš„å˜åŒ– progressInfo ä¼šé‡æ–°æ‰§è¡Œ ä½†æ˜¯ textçš„å–å€¼ä¸ç¬¦åˆé¢„æœŸ

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## Yuiai01

percentNumber ä¼šä¼˜å…ˆå– success ä¸­çš„ percentï¼Œæ‰€ä»¥å¯¼è‡´äº†åç»­ percent æ›´æ”¹ï¼Œè¿›åº¦æ¡ä¹Ÿæ²¡æœ‰è¿›è¡Œæ›´æ”¹ï¼ŒåŠ ä¸Šä¾èµ–é¡¹åº”è¯¥å°±å¥½äº†~
<img width="1135" alt="image" src="https://user-images.githubusercontent.com/112228030/221387737-56a60d21-b498-440b-813e-7bdc4f52e6ed.png">

## kiner-tang

@Yuiai01 æ¥ä¸ªprä¿®å¤ä¸€ä¸‹ï¼Ÿ

## Yuiai01

> @Yuiai01 æ¥ä¸ªprä¿®å¤ä¸€ä¸‹ï¼Ÿ

å¥½~ åœ¨å†™æµ‹è¯•ç”¨ä¾‹äº†

## Wxh16144

> percentNumber ä¼šä¼˜å…ˆå– success ä¸­çš„ percent

æˆ‘åœ¨æƒ³è¿™ä¸ªæ˜¯ä¸æ˜¯å°±æ˜¯é¢„æœŸè¡Œä¸ºï¼Ÿå¦‚æœæœ‰ success åˆ™ä½¿ç”¨ success é‡Œé¢çš„ percent, å¦‚æœè¦ä¿®æ”¹ä¹Ÿæ˜¯ä¿®æ”¹ succnes.percent

ç›´æ¥è¿™æ ·åšå°±å¥½äº†

```tsx
const App = () => {
  const [percent, setPercent] = React.useState(0);
  return (
    <>
      <Progress percent={percent} />
      <Progress success={{ percent }} />
      <Progress type="dashboard" percent={percent} success={{ percent }} />
      <Progress type="circle" percent={percent} success={{ percent }} />
      <button type="button" onClick={() => setPercent((v) => (v + 5) % 100)}>
        Change Percent
      </button>
    </>
  );
};

export default App;
```

ä¸Šè¿°ä»£ç å‘ç°ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼š
![image](https://user-images.githubusercontent.com/32004925/221392391-ed35b90e-548d-4e0f-9106-cf70e287d8ed.png)

cc @zombieJ @MadCcc

## Yuiai01

> > percentNumber ä¼šä¼˜å…ˆå– success ä¸­çš„ percent
>
> æˆ‘åœ¨æƒ³è¿™ä¸ªæ˜¯ä¸æ˜¯å°±æ˜¯é¢„æœŸè¡Œä¸ºï¼Ÿå¦‚æœæœ‰ success åˆ™ä½¿ç”¨ success é‡Œé¢çš„ percent, å¦‚æœè¦ä¿®æ”¹ä¹Ÿæ˜¯ä¿®æ”¹ succnes.percent
>
> ç›´æ¥è¿™æ ·åšå°±å¥½äº†
>
> ```tsx
> const App = () => {
>   const [percent, setPercent] = React.useState(0);
>   return (
>     <>
>       <Progress percent={percent} />
>       <Progress success={{ percent }} />
>       <Progress type="dashboard" percent={percent} success={{ percent }} />
>       <Progress type="circle" percent={percent} success={{ percent }} />
>       <button type="button" onClick={() => setPercent((v) => (v + 5) % 100)}>
>         Change Percent
>       </button>
>     </>
>   );
> };
>
> export default App;
> ```
>
> ä¸Šè¿°ä»£ç å‘ç°ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼š ![image](https://user-images.githubusercontent.com/32004925/221392391-ed35b90e-548d-4e0f-9106-cf70e287d8ed.png)
>
> cc @zombieJ @MadCcc

å¤§ä½¬ï¼Œæˆ‘è§‰å¾— success.percent æ˜¯è¿›åº¦æ¡ success çŠ¶æ€çš„èŠ‚ç‚¹ï¼Œè€Œ percent æ˜¯ç”¨äºè®°å½•è¿›åº¦æ¡çš„è¿›åº¦ï¼ŒèŠ‚ç‚¹åº”è¯¥å›ºå®šï¼Œè€Œä¸èƒ½éšç€è¿›åº¦çš„æ›´æ”¹è€Œæ›´æ”¹ğŸ¤”ğŸ¤”

## Wxh16144

> æˆ‘è§‰å¾— success.percent æ˜¯è¿›åº¦æ¡ success çŠ¶æ€çš„èŠ‚ç‚¹ï¼Œè€Œ percent æ˜¯ç”¨äºè®°å½•è¿›åº¦æ¡çš„è¿›åº¦ï¼ŒèŠ‚ç‚¹åº”è¯¥å›ºå®šï¼Œè€Œä¸èƒ½éšç€è¿›åº¦çš„æ›´æ”¹è€Œæ›´æ”¹

ä½ æ˜¯å¯¹çš„ï¼Œæˆ‘å½“åˆæ²¡è€ƒè™‘æ¸…æ¥šã€‚æˆ‘èµåŒä½ é‚£è¾¹ PR çš„ä¿®å¤è¿‡ç¨‹ã€‚ æ·»åŠ åˆ°ä¾èµ–é¡¹å°±å¥½äº†ã€‚
