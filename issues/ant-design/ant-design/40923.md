在React中，如果需要在多个组件之间传递状态或配置，可以使用Context API或者Redux等状态管理库。其中，ConfigProvider是Ant Design提供的用于全局设置组件样式和主题的工具类。传统的做法是使用ConfigProvider包裹组件，如：const ThemeContext = React.createContext(); const App = () => { return ( <ThemeContext.Consumer> { theme => <div style={{ backgroundColor: theme.colorPrimary }}> Hello World </div> } </ThemeContext.Consumer> ); }; 但是，还可以通过调用ConfigProvider的mergedToken方法，直接在需要的地方改变主题颜色，而不需要包裹组件，这样更加简洁明了。例如：const ThemeContext = React.createContext(); const App = () => { return ( <ThemeContext.Consumer> { theme => <div style={{ backgroundColor: theme.colorPrimary }}> Hello World </div> } </ThemeContext.Consumer> ); } const theme = { colorPrimary: "green" }; document.getElementById('root').appendChild(React.createElement(ConfigProvider.mergedToken(theme), null));
