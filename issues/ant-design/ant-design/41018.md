# TimePicker.RangePicker onBlur v4.24.8 do not have target.value

`unconfirmed`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/antd-reproduction-template-forked-5xlhc5?file=/index.js)

### Steps to reproduce

TimePicker.RangePicker onBlur v4.24.8 do not have input value but in v4.23.6 it is there

open: https://codesandbox.io/s/antd-reproduction-template-forked-ly94ee?file=/index.js see that there are logged values for each input onBlur in the console

open: https://codesandbox.io/s/antd-reproduction-template-forked-5xlhc5?file=/index.js see that values are empty after each input onBlur

### What is expected?

behavior of v4.23.6 is correct.
after each onBlur input must have value

### What is actually happening?

input value is empty in v4.24.8

| Environment | Info   |
| ----------- | ------ |
| antd        | 4.24.8 |
| React       | 18.2.0 |
| System      | macos  |
| Browser     | chrome |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## komarovalexander

I found that rc-picker "~2.7.0" change could be the reason of the issue, if I change dependency to rc-picker "~2.6.11" TimePicker.RangePicker onBlur works as expected

## Wxh16144

Thank you for providing the address that accurately describes the problem.

I took a look at the history. It was done intentionally inside this https://github.com/ant-design/ant-design/pull/38411

But it is not the case in version 5.x.

## komarovalexander

it is strange because if you set rc-picker "~2.6.11" as a dependency to v4.24.8 - it will work as it should.

what is the best way to hide ok button and set the value on onBlur event now?
I used advices from there https://github.com/ant-design/ant-design/issues/21189 but seems none of them will work now

we do not have plans to migrate to version 5 at this time
thanks!

## zombieJ

Why using `onBlur` to get input value instead of `onChange` get parsed date value?

## komarovalexander

@zombieJ without "ok" button `onChange` does not work at all: https://codesandbox.io/s/antd-reproduction-template-forked-x6lrcm?file=/index.js

## zombieJ

It's a XY problem. We should support this requirement.

merge into #21189

## komarovalexander

@zombieJ do you have any estimations when this https://github.com/ant-design/ant-design/issues/21189 will be fixed for range picker in v4.x?

## jurassic-period

Hi. Faced with the need to add 2 datepickers, with the ability to choose the time. Requiring no button presses, let everything work after the loss of focus. There was no choice, re-read the topic and acted radically)
On the home element, you can click the desired submit, but the elements are not unique. I had to make them unique. The first picker opening creates the first button, we hang a class on it, the second picker opening already knows what the first button can be. Maybe someone will need it as an emergency solution.
`    const pickerColl = document.getElementsByClassName('ant-picker-ok');`

                   <DatePicker
                        defaultValue={startAt ? dayjs(startAt) : undefined}
                        showTime
                        format={TIME_FORMAT}
                        onChange={onChangeStart}
                        placeholder='Time start'
                        onBlur={() => {
                            let btn;
                            if (pickerColl.length < 2) {
                                btn = pickerColl[0].children[0] as HTMLElement;
                                btn.classList.add('startAt');
                            } else {
                                const btn1 = pickerColl[0].children[0] as HTMLElement;
                                const btn2 = pickerColl[1].children[0] as HTMLElement;
                                if (btn1.classList.contains('endAt')) {
                                    if (btn2.classList.contains('startAt')) {
                                        btn = btn2;
                                    } else {
                                        btn2.classList.add('startAt');
                                        btn = btn2;
                                    }
                                } else if (btn2.classList.contains('endAt')) {
                                    if (btn1.classList.contains('startAt')) {
                                        btn = btn1;
                                    } else {
                                        btn1.classList.add('startAt');
                                        btn = btn1;
                                    }
                                }
                            }
                            btn?.click();
                        }}
                    />

The second datepicker, by analogy, simply swapping the classes
