# onFieldsChangeä¼šå‡ºå‘ä¸¤æ¬¡

`ğŸ› Bug`,`ğŸ‘·ğŸ»â€â™‚ï¸ Someone working on it`,`unconfirmed`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/36bh64)

### Steps to reproduce

```
  <Form
      onFieldsChange={()=>{
      console.log('bbb')} // è¿™é‡Œæ¯æ¬¡è¡¨å•é¡¹æ›´æ”¹éƒ½ä¼šè§¦å‘ä¸¤æ¬¡
      }
    >
      <Form.Item
        label="Username"
        name="username"
        rules={[{ required: true, message: 'Please input your username!' }]}
      >
        <Input />
      </Form.Item>
    </Form>
```

### What is expected?

è§¦å‘ä¸€æ¬¡

### What is actually happening?

è§¦å‘ä¸¤æ¬¡

| Environment | Info  |
| ----------- | ----- |
| antd        | 5.2.3 |
| React       | 18    |
| System      | mac   |
| Browser     | edge  |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## kiner-tang

æˆ‘çœ‹çœ‹

## idler8

https://ant.design/components/form-cn#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%97%E6%AE%B5%E8%AE%BE%E7%BD%AE-rules-%E5%90%8E%E6%9B%B4%E6%94%B9%E5%80%BC-onfieldschange-%E4%BC%9A%E8%A7%A6%E5%8F%91%E4%B8%89%E6%AC%A1
é¢„æœŸå˜åŒ–

> ä¸ºä»€ä¹ˆå­—æ®µè®¾ç½® rules åæ›´æ”¹å€¼ onFieldsChange ä¼šè§¦å‘ä¸‰æ¬¡ï¼Ÿ
> å­—æ®µé™¤äº†æœ¬èº«çš„å€¼å˜åŒ–å¤–ï¼Œæ ¡éªŒä¹Ÿæ˜¯å…¶çŠ¶æ€ä¹‹ä¸€ã€‚å› è€Œåœ¨è§¦å‘å­—æ®µå˜åŒ–ä¼šç»å†ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š
> Trigger value change
> Rule validating
> Rule validated
> åœ¨è§¦å‘è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨ isFieldValidating ä¼šç»å† false > true > false çš„å˜åŒ–è¿‡ç¨‹ã€‚

## kiner-tang

> https://ant.design/components/form-cn#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%97%E6%AE%B5%E8%AE%BE%E7%BD%AE-rules-%E5%90%8E%E6%9B%B4%E6%94%B9%E5%80%BC-onfieldschange-%E4%BC%9A%E8%A7%A6%E5%8F%91%E4%B8%89%E6%AC%A1 é¢„æœŸå˜åŒ–
>
> > ä¸ºä»€ä¹ˆå­—æ®µè®¾ç½® rules åæ›´æ”¹å€¼ onFieldsChange ä¼šè§¦å‘ä¸‰æ¬¡ï¼Ÿ
> > å­—æ®µé™¤äº†æœ¬èº«çš„å€¼å˜åŒ–å¤–ï¼Œæ ¡éªŒä¹Ÿæ˜¯å…¶çŠ¶æ€ä¹‹ä¸€ã€‚å› è€Œåœ¨è§¦å‘å­—æ®µå˜åŒ–ä¼šç»å†ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š
> > Trigger value change
> > Rule validating
> > Rule validated
> > åœ¨è§¦å‘è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨ isFieldValidating ä¼šç»å† false > true > false çš„å˜åŒ–è¿‡ç¨‹ã€‚

æ–‡æ¡£é‡Œé¢è¯´ä¼šè§¦å‘ä¸‰æ¬¡ï¼Œä½†å®æµ‹å´è§¦å‘äº†2æ¬¡ï¼Œæˆ‘ä»¬æ­£åœ¨ç¡®è®¤æ˜¯æ–‡æ¡£è€æ—§è¿˜æ˜¯ç¨‹åºå¼‚å¸¸

## idler8

å˜åŒ–åº”è¯¥å‡ºåœ¨è¿™é‡Œ
https://github.com/react-component/field-form/commit/55de0f372323f064759b2fc510af5cea0c32507f
åŠ æ²¹

## zombieJ

Update. æµ‹è¯•äº†ä¸€ä¸‹ç°åœ¨çš„ç¡®æ˜¯ä¸¤æ¬¡ï¼Œåœ¨æ ¡éªŒæ—¶åŸ forceUpdate è¢«åˆå¹¶äº†ã€‚éœ€è¦å†çœ‹ä¸€ä¸‹å…·ä½“åŸå› ã€‚

## zombieJ

ç¡®è®¤äº†ä¸€ä¸‹æ˜¯æ¼äº†ä¸€æ¬¡ï¼Œè¿™åœ¨ redux ä¸‹çŠ¶æ€å°±é”™äº†ã€‚å±…ç„¶ä¸€ç›´æ²¡äººæŠ¥ï¼Œçœ‹æ¥ redux åœºæ™¯å·²ç»åŸºæœ¬æ²¡äº†ã€‚ã€‚ã€‚
