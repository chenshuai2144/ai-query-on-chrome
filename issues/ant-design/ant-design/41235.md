# tooltipè¢«é®æŒ¡äº†æ˜¯å¦ç¬¦åˆé¢„æœŸ

`ğŸ› Bug`,`ğŸ¤” Need Reproduce`

### What problem does this feature solve?

https://ant.design/components/tooltip-cn#components-tooltip-demo-shift åœ¨å®˜ç½‘æä¾›çš„demoä¸­ ä½ç½®æ˜¯å¦å¯ä»¥è‡ªåŠ¨ä¿®å¤

### What does the proposed API look like?

æœŸæœ›æ˜¯å¯ä»¥è‡ªåŠ¨è°ƒæ•´ä½ç½® ä¸è¢«é®æŒ¡

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## ghost

  <img width="610" alt="image" src="https://user-images.githubusercontent.com/35122287/224970619-931c1a59-3809-4af2-a096-f44e57dbbbae.png">

## zombieJ

ç¥å¥‡ï¼Œæœ¬åœ°æ˜¯å¥½çš„ã€‚build å®Œå°±æ˜¯é”™çš„ï¼š
<img width="344" alt="æˆªå±2023-03-15 18 15 28" src="https://user-images.githubusercontent.com/5378891/225278935-9af5e5cb-3237-4e2d-8387-b5fe6c5e14f3.png">

## ghost

å¤§ä½¬ ç°åœ¨çœ‹æ˜¯å¥½äº†çš„ã€‚

## zombieJ

> å¤§ä½¬ ç°åœ¨çœ‹æ˜¯å¥½äº†çš„ã€‚

æˆ‘è¿™è¾¹çœ‹è¿˜æ˜¯æŒ‚çš„ï¼Œ @PeachScript è¯´æ˜¯æ„å»ºç›¸å…³çš„äº‹æƒ…ï¼Œè¿˜åœ¨çœ‹å“ˆ~

## ghost

è¿™ä¸ªé—®é¢˜åœ¨æœ€æ–°ç‰ˆçš„ rc-triggerã€‚v6ä¸Šä¹Ÿæ˜¯å­˜åœ¨è¿™ç§é—®é¢˜çš„ã€‚
rc-tooltipä¸­è°ƒç”¨rc-triggerçš„æ—¶å€™ å¦‚æœèµ°é»˜è®¤çš„ topè®¾ç½®çš„è¯ ä»–ä¸ä¼šè°ƒæ•´leftå’Œrightçš„å€¼ å°±ä¼šå‡ºç°leftå°äº0çš„æƒ…å†µ
åœ¨rc-triggerä¸­çš„ useAlignçš„hooké€»è¾‘æ„Ÿè§‰è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚
ç”¨5.3ç‰ˆæœ¬çš„è¯ ä½¿ç”¨çš„æ˜¯ rc-alignä¸­çš„dom-alignå°±æ˜¯è¡¨ç°æ­£å¸¸
é»˜è®¤çš„topä½ç½® åœ¨rc-triggerä¸­çš„è¿™ä¸ªè®¡ç®—å¯èƒ½æ˜¯è´Ÿæ•° ä½†æ˜¯åœ¨ rc-tooltipä¸­ä¼ é€’çš„ placementInfo ä¸º
const autoAdjustOverflowTopBottom = {
shiftX: 64,
adjustY: 1,
};
ä¼šå¯¼è‡´leftå’Œrightçš„ä½ç½®ä¸è°ƒæ•´
<img width="910" alt="image" src="https://user-images.githubusercontent.com/35122287/225492441-f73ad756-9d6b-4352-83e6-7c5401909df3.png">
<img width="799" alt="image" src="https://user-images.githubusercontent.com/35122287/225492770-e1708c7a-d4f0-4613-ba1e-6bb487fa8569.png">

ä½ç½®ä¸è°ƒæ•´å°±ä¼šå‡ºç°left<0è¢«é®æŒ¡çš„é—®é¢˜

5.3 æ­£å¸¸ leftè°ƒæ•´ä¸º0äº†
<img width="364" alt="image" src="https://user-images.githubusercontent.com/35122287/225493127-dee6f2b9-b88f-4b89-8874-f0a1815ad5a2.png">

æ–°ç‰ˆçš„leftä¸ºè´Ÿå€¼ è¡¨ç°ä¸æ­£å¸¸

<img width="1325" alt="image" src="https://user-images.githubusercontent.com/35122287/225493274-53265170-1478-488b-b39a-5dd372d5a58e.png">

åœ¨5.3ä¸­çš„è¯ overflowçš„å€¼ç»Ÿä¸€ä¸º: overflow: autoAdjustOverflow,
<img width="454" alt="image" src="https://user-images.githubusercontent.com/35122287/225492884-75056d7f-61df-4c83-b101-fc21e59f7847.png">

## zombieJ

> è¿™ä¸ªé—®é¢˜åœ¨æœ€æ–°ç‰ˆçš„ rc-trigger

è¿™ä¸ªæä¸ª codesandbox çœ‹çœ‹ï¼Ÿ

## ghost

è¿™ä¸ªåº”è¯¥ä¸æ˜¯antdçš„é—®é¢˜ æ˜¯æˆ‘åœ¨ç”¨ @rc-component/trigger æœ€æ–°ç‰ˆçš„æ—¶å€™å‘ç°çš„ã€‚ å¦‚æœæ˜¯ "@rc-component/trigger": "^1.5.5", è¿™ä¸ªä¾èµ–å°±å­˜åœ¨é—®é¢˜äº†
å¤§ä½¬å¯ä»¥çœ‹çœ‹ useAlignè¿™ä¸ªä»£ç  æˆ‘è§‰å¾—å°±æ˜¯ä½ç½®æ²¡è°ƒæ•´

ç°åœ¨antdä¸­çš„rc-triggeræ˜¯ "rc-trigger": "^5.3.4",çš„ç‰ˆæœ¬ è¿˜ä¸æ˜¯æœ€æ–°çš„å°±æ²¡è¿™ä¸ªé—®é¢˜

## afc163

> è¿™ä¸ªæä¸ª codesandbox çœ‹çœ‹ï¼Ÿ

ä¸ç”¨ç®¡æ˜¯ä¸æ˜¯ antd é—®é¢˜ï¼Œæä¸ª codesandbox é‡ç°ï¼Œ@rc-component/trigger çš„é—®é¢˜ä¹Ÿæ˜¯æˆ‘ä»¬æ¥è§£å†³ã€‚

## ghost

codesanä¸­çš„å…ƒç´ ä¸æ˜¯è¢«è®¾ç½®äº† position: staticå—
position: static å±æ€§å¯é˜²æ­¢ left äº§ç”Ÿå½±å“ã€‚
ä¸å¦¨å°è¯•å°† position è®¾ä¸ºé™¤ static ä¹‹å¤–çš„æŸä¸ªå€¼ã€‚ è¿™ä¸ªæ€ä¹ˆæ¶ˆé™¤æ‰

<img width="806" alt="ä¼ä¸šå¾®ä¿¡20230319-182446@2x" src="https://user-images.githubusercontent.com/35122287/226169144-a9379ea5-036a-43bc-a739-a460a1f17121.png">

å¤§è‡´ä¸Šå’Œè¿™ä¸ªå·®ä¸å¤šçš„
https://github.com/react-component/trigger/issues/333

useAlignä¸­ è°ƒæ•´ä½ç½®çš„æ—¶å€™åˆ¤æ–­äº†
popupPoints[1] === 'r'
popupPoints[1] === 'l' çš„æƒ…å†µã€‚å¦‚æœæ˜¯ cå°±ä¸è°ƒæ•´äº†

## zombieJ

> codesanä¸­çš„å…ƒç´ ä¸æ˜¯è¢«è®¾ç½®äº†...

è¿™ä¸ªåœ°å€å‘ä¸€ä¸‹å“ˆ

## ghost

>

https://codesandbox.io/s/antd-reproduction-template-forked-z6txrc?file=/index.css
https://codesandbox.io/s/antd-reproduction-template-forked-ohjzzy?file=/index.js

æˆ‘æŒ‰ç…§ ant-tooltipçš„å®šä½ç»™è®¾ç½®äº†ä¸€ä¸ª absoluteçš„å®šä½

<img width="567" alt="position" src="https://user-images.githubusercontent.com/35122287/226267930-6548feae-02e6-4758-8c7f-efb4e70ede2a.png">

å¯ä»¥çœ‹long contentå’Œè¾ƒçŸ­çš„å†…å®¹çš„å¯¹æ¯”

<img width="453" alt="1" src="https://user-images.githubusercontent.com/35122287/226267997-4c33d1e5-89c3-48a5-8e26-1689f05f7bb5.png">

<img width="473" alt="2" src="https://user-images.githubusercontent.com/35122287/226268016-92742798-6eea-4075-a7ee-dd98a6573122.png">

tooltipå†…éƒ¨æ˜¯ä½¿ç”¨äº† trigger ç„¶årc-triggeråœ¨åšä½ç½®è°ƒæ•´çš„æ—¶å€™
åœ¨useAlignä¸­è®¡ç®—nextOffsetXçš„æ—¶å€™ å¦‚æœå†…å®¹å¾ˆé•¿çš„è¯å°±ä¼šå¯¼è‡´å‡ºç°è´Ÿå€¼çš„æƒ…å†µ
ä¸‹é¢çš„adjuståªè°ƒæ•´äº† popupPoints[1] === 'r' å’Œ popupPoints[1] === 'l'çš„æƒ…å†µ
å¦‚æœ popupPoints[1] === 'c' å°±ä¸æ»¡è¶³ifæ¡ä»¶äº†

## Yuiai01

![image](https://user-images.githubusercontent.com/112228030/226328093-90c95c5d-8834-4392-81a4-95e0f745db76.png)
å¥‡æ€ªå“©ï¼Œæˆ‘è¿™å’‹ä¸è·Ÿä½ ä¸€æ · ğŸ¤”

## afc163

@Lliuxs é—®é¢˜è§£å†³äº†ä¹ˆï¼Ÿ
