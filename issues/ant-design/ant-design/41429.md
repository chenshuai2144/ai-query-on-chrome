# V5.3.2 modelä¸­ä½¿ç”¨Form&refçš„ä½“ç°å’Œä¹‹å‰ä¸åŒï¼Œæ–‡æ¡£ä¸­æœªåšè¯´æ˜

`ğŸ› Bug`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/ji-chu-chou-ti-antd-5-3-2-forked-niyy61?file=/demo.tsx)

### Steps to reproduce

https://codesandbox.io/s/ji-chu-chou-ti-antd-5-3-2-forked-niyy61?file=/demo.tsx:0-1549

```
import React, { useEffect, useState, useRef, useLayoutEffect } from "react";
import { Button, Drawer, Form, Input } from "antd";

const App: React.FC = () => {
  const [open, setOpen] = useState(false);
  const [form] = Form.useForm();
  const formRef = useRef();

  const showDrawer = () => {
    setOpen(true);
  };

  const onClose = () => {
    setOpen(false);
  };

  useEffect(() => {
    if (open) {
     // V5.3.2å’Œä¹‹å‰ç‰ˆæœ¬æ­¤å¤„åˆæ¬¡æ‰“å°ä¸åŒ
      console.log("form", form);
      console.log("formRef", formRef.current);
    }
  }, [open, form, formRef]);

  return (
    <>
      <Button type="primary" onClick={showDrawer}>
        Open
      </Button>
      <Drawer
        title="Basic Drawer"
        placement="right"
        onClose={onClose}
        open={open}
      >
        <Form
          name="basic"
          labelCol={{ span: 8 }}
          wrapperCol={{ span: 16 }}
          style={{ maxWidth: 600 }}
          initialValues={{ remember: true }}
          autoComplete="off"
          ref={formRef}
          form={form}
        >
          <Form.Item
            label="Username"
            name="username"
            rules={[{ required: true, message: "Please input your username!" }]}
          >
            <Input />
          </Form.Item>

          <Form.Item
            label="Password"
            name="password"
            rules={[{ required: true, message: "Please input your password!" }]}
          >
            <Input.Password />
          </Form.Item>
        </Form>
      </Drawer>
    </>
  );
};

export default App;

```

### What is expected?

antd 5.3.2å’Œä¹‹å‰ç‰ˆæœ¬ åœ¨åˆæ¬¡ç‚¹å‡»æ‰“å¼€å¼¹æ¡†æ—¶çš„æ‰“å°ä¸ä¸€è‡´ï¼Œæ–‡æ¡£æœªè¯´æ˜ï¼›
5.3.2ä¸ºnullï¼›
5.3.1æœ‰å®ä¾‹ã€‚
![1679626616638](https://user-images.githubusercontent.com/4608910/227412782-7eab643e-feaf-4aec-83b3-52caa75fe11c.jpg)
![1679626613072](https://user-images.githubusercontent.com/4608910/227412798-14a4c85e-ffff-4aa6-a223-3815626ba117.jpg)

### What is actually happening?

æœŸæœ›å†å‡çº§æ–‡æ¡£ä¸­æåŠæ­¤å¤„å½±å“

| Environment | Info   |
| ----------- | ------ |
| antd        | 5.3.2  |
| React       | 18     |
| System      | mac    |
| Browser     | chrome |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## zombieJ

bug ref https://github.com/react-component/drawer/pull/409

## echoyl

æ ‡è®°ä¸‹ DrawerForm ç¬¬ä¸€æ¬¡å¼¹å‡ºæ²¡æœ‰formRef ç¬¬äºŒæ¬¡ä»¥åå¼¹å‡ºæ‰æœ‰formRef å¯¼è‡´formè¡¨å•æ•°æ®ç¬¬ä¸€æ¬¡æ²¡æ³•åˆå§‹åŒ–

## Statfine

> bug ref [react-component/drawer#409](https://github.com/react-component/drawer/pull/409)

æ˜¯å¦è€ƒè™‘å›ºå®šreact-componentç»„ä»¶çš„ç‰ˆæœ¬ï¼Œ å¦‚æœreact-componentç»„ä»¶å‡çº§ä¹Ÿä¼šå½±å“ç°æœ‰antdæ•ˆæœ @zombieJ

## zombieJ

rc ç¬¬ä¸€å±‚éƒ½æ˜¯å›ºå®šåˆ° minor çš„ï¼Œåº•å±‚çš„æ¯”è¾ƒé€šç”¨åˆ™ä¸å›ºå®šå“ˆ
