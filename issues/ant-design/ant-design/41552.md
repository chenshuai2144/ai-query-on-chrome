# drawerå†…ä½¿ç”¨tabsæ—¶ï¼ŒæŸäº›çŠ¶æ€ä¼šå‡ºç° duplicated key é”™è¯¯

`ğŸ› Bug`,`help wanted`,`Inactive`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/ecstatic-aryabhata-jly1w4?file=/src/App.js)

### Steps to reproduce

1. æ‰“å¼€æŠ½å±‰ï¼Œç„¶åç›´æ¥å…³é—­ï¼ŒConsole æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œgood
2. å†æ¬¡æ‰“å¼€æŠ½å±‰ï¼Œå°† Tabs çš„å¤´éƒ¨æ»šåŠ¨è‡³æœ€åä¸€ä¸ª tabï¼ˆæ— éœ€æ¿€æ´»è¯¥tabå†…å®¹ï¼‰,ç„¶åå…³é—­æŠ½å±‰ï¼Œä¼šå‘ç° Console æŠ¥ duplicate key
3. åŸå› åº”è¯¥æ˜¯ Tabs moreIcon çš„ Context.Provider è®¡ç®—å­˜åœ¨é—®é¢˜

### What is expected?

æ— è®º Tabs æ˜¯å¤„äºä»€ä¹ˆçŠ¶æ€ä¸‹åˆ‡æ¢æŠ½å±‰æ˜¯å¦å¯è§ï¼Œéƒ½ä¸åº”è¯¥æœ‰ä»»ä½•æŠ¥é”™

### What is actually happening?

åœ¨ Tabs å¤´éƒ¨çš„ä¸€äº›ç‰¹æ®Šä½ç½®ï¼Œåˆ‡æ¢æŠ½å±‰çš„å¯è§æ€§ï¼Œä¼šæç¤ºç»‘å®šäº†é‡å¤çš„ key å€¼

| Environment | Info                                      |
| ----------- | ----------------------------------------- |
| antd        | 5.3.2                                     |
| React       | 18.2.0                                    |
| System      | Window10 20H2                             |
| Browser     | Chrome 110.0.5481.178ï¼ˆæ­£å¼ç‰ˆæœ¬ï¼‰ï¼ˆ64ä½ï¼‰ |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## Xcstar1360

å¤ç°æ­¥éª¤éœ€è¦æ›´æ–°ä¸€ä¸‹ï¼ŒæŒ‰ç…§ä¸Šé¢çš„å¤ç°æ­¥éª¤ä¸èƒ½100%å‡ºç°ï¼š

1. æ‰“å¼€æŠ½å±‰ï¼Œç„¶åç›´æ¥å…³é—­ï¼ŒConsole æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œgood
2. å†æ¬¡æ‰“å¼€æŠ½å±‰ï¼Œä½¿ç”¨ Tabs çš„ moreIcon åˆ‡æ¢è‡³æœ€åä¸€ä¸ª tabï¼Œç„¶åå…³é—­æŠ½å±‰
   æŒ‰ç…§ä¸Šé¢ä¸¤æ­¥å¯ä»¥ç¨³å®šå¤ç°

## zombieJ

æœ‰æ„æ€ã€‚ã€‚ã€‚

## Ec-tracker

ä»¥sandboxä¸­çš„ç¤ºä¾‹æµ‹è¯•çœ‹ä¸‹æ¥æ˜¯å› ä¸ºrc-tabsé‡ŒTabNavListä¸­useVisibleRangeè¿™ä¸ªhooksè¿™é‡Œå‡ºäº†é—®é¢˜ï¼š
![image](https://user-images.githubusercontent.com/46723726/236249252-d0fcb9e5-6509-453b-a85f-212d6fbb20d9.png)
è¿™é‡Œçš„visibleStartå˜æˆäº†2è€ŒvisibleEndå˜æˆäº†0ï¼Œç›´æ¥å¯¼è‡´æ¥ä¸‹æ¥çš„è¿™éƒ¨åˆ†æ ¹æ®visibleStartå’ŒvisibleEndæˆªå–æ•°ç»„å†åˆå¹¶æ—¶å‡ºç°é”™è¯¯äº†ï¼š
![image](https://user-images.githubusercontent.com/46723726/236250711-ad40d34f-14e3-4c86-9dcb-bcf79517814c.png)
å¯ä»¥çœ‹åˆ°åˆå¹¶æ—¶ï¼Œç”±äºæˆªå–çš„ä¸¤ä¸ªæ•°ç»„æœ‰é‡å å…ƒç´ æœ€ç»ˆå¯¼è‡´ç”ŸæˆhiddenTabsä¹Ÿæœ‰äº†é‡å¤çš„å…ƒç´ ã€‚hiddenTabsæ˜¯ä¹‹åç”Ÿæˆdropdownåˆ—è¡¨æ‰€éœ€è¦çš„ã€‚

å›åˆ°ä¹‹å‰useVisibleRange Hooks, ä¸ªäººæ¨æµ‹æ˜¯å› ä¸ºåœ¨draweréšè—åè¿™ä¸ªvisbleTabContentValueå˜ä¸ºäº†0, å¯¼è‡´äº†ä¹‹åè®¡ç®—startIndexå’ŒendIndexå‡ºç°äº†é€»è¾‘é”™è¯¯ã€‚
![image](https://user-images.githubusercontent.com/46723726/236252204-73170772-a503-485d-8e02-d26a8ae863e4.png)

## linxianxi

https://github.com/react-component/tabs/pull/664 åº”è¯¥è§£å†³äº†

## heiyu4585

å·²è§£å†³
