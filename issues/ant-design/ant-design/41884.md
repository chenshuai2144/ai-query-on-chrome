# [Theme] V4 Component Token Migration

`üí° Feature Request`,`üë∑üèª‚Äç‚ôÇÔ∏è Someone working on it`,`5.x`

### Summary

Migrate component less variables in v4 to Component Token in v5.

[v4 less variables](https://github.com/ant-design/ant-design/blob/4.x-stable/components/style/themes/default.less)

### How to migrate?

In v5, each component has type `ComponentToken` in `style/index.ts`. v4 less variables should be transformed into one of `ComponentToken` and initialized with related Design Token in `genComponentStyleHook`. Then the usage of token in style should also be updated.

Currently many of them has been transformed into `xxxToken` in each component, and we need to put them into `ComponentToken`. If v4 less variable is not in `xxxToken`, we should check if it is suitable for v5.

### Example PR

https://github.com/ant-design/ant-design/pull/42000

1. Migrate Component Token
2. List all less variables in "Migrate less variables to Component Token"

Table may like this:

| Less variables                     | Component Token              | Note                        |
| ---------------------------------- | ---------------------------- | --------------------------- |
| `@modal-header-padding-vertical`   | -                            | Deprecated for style change |
| `@modal-header-padding-horizontal` | -                            | Deprecated for style change |
| `@modal-body-padding`              | -                            | Deprecated for style change |
| `@modal-header-bg`                 | `modalHeaderBg`              | -                           |
| `@modal-header-padding`            | -                            | Deprecated for style change |
| `@modal-header-border-width`       | -                            | Deprecated for style change |
| `@modal-header-border-style`       | -                            | Deprecated for style change |
| `@modal-header-title-line-height`  | `modalHeaderTitleLineHeight` | -                           |
| `@modal-header-title-font-size`    | `modalHeaderTitleFontSize`   | -                           |
| `@modal-header-border-color-split` | -                            | Deprecated for style change |
| `@modal-header-close-size`         | -                            | Deprecated for style change |
| `@modal-content-bg`                | `modalContentBg`             | -                           |
| `@modal-heading-color`             | `modalHeadingColor`          | -                           |
| `@modal-close-color`               | `modalCloseIconColor`        | -                           |
| `@modal-footer-bg`                 | `modalFooterBg`              | -                           |
| `@modal-footer-border-color-split` | -                            | Deprecated for style change |
| `@modal-footer-border-style`       | -                            | Deprecated for style change |
| `@modal-footer-padding-vertical`   | -                            | Deprecated for style change |
| `@modal-footer-padding-horizontal` | -                            | Deprecated for style change |
| `@modal-footer-border-width`       | -                            | Deprecated for style change |
| `@modal-mask-bg`                   | `colorBgMask`                | -                           |
| `@modal-confirm-body-padding`      | -                            | Deprecated for style change |
| `@modal-confirm-title-font-size`   | `modalHeaderTitleFontSize`   | -                           |
| `@modal-border-radius`             | `borderRadiusLG`             | -                           |

### Tokens should be migrated

Tokens that should be migrated may meet any of the following conditionsÔºö

1. It is still in use in v5, which mean you will find it in `XXXToken`.
2. It is used in v4, and lost in v5. If CSS in v5 is the same as v4, we should add this ComponentToken and initialize it with current v5 token used. If CSS has been changed, we could mark it as deprecated.

### Task list

- [x] Form @poyiding #42774
- [x] TimePicker @poyiding #42607
- [x] Spin @MadCcc #44334
- [x] Input @MadCcc #44325
- [x] Tree @MadCcc https://github.com/ant-design/ant-design/pull/44282
- [x] Button @MadCcc #44090
- [x] Checkbox @poyiding #42097
- [x] Descriptions @jrr997 #42038
- [x] Divider @hms181231 #42627
- [x] Dropdown @poyiding #42258
- [x] Empty @hms181231 #42359
- [x] Radio (Radio Buttons) @Yuiai01 #42050
- [x] Layout @MadCcc #44174
- [x] Mentions @heiyu4585 #42711
- [x] Select @MadCcc #44228
- [x] Cascader @MadCcc #44261
- [x] Anchor @MuxinFeng #42141
- [x] Tooltip @guan404ming #42046
- [x] Popover @heiyu4585 #42337
- [x] Modal @MadCcc #42000
- [x] Progress @hms181231 #42757
- [x] Menu @MadCcc #43576
- [x] Table @MadCcc #44118
- [x] Tag @heiyu4585 #42053
- [x] Calendar @MuxinFeng #42194
- [x] Carousel @MuxinFeng #42157
- [x] Badge @Wxh16144 #42778
- [x] Rate @MuxinFeng #42135
- [x] Card @heiyu4585 #42061
- [x] Tabs @heiyu4585 #42186
- [x] Avatar @heiyu4585 #42063
- [x] Switch @Yuiai01 #42192
- [x] Pagination @heiyu4585 #42330
- [x] Breadcrumb @heiyu4585 #42342
- [x] Slider @heiyu4585 #42428
- [x] Collapse @Wxh16144 #42938
- [x] Skeleton @kiner-tang #42134
- [x] Transfer @heiyu4585 #42431
- [x] Message @kiner-tang #42080
- [x] Alert @any1024 #42142
- [x] List @jrr997 #42041
- [x] Statistic @kiner-tang #42083
- [x] Drawer @kiner-tang #42084
- [x] Timeline @jrr997 #42491
- [x] Typography @jrr997 #42442
- [x] Upload @jrr997 #42042
- [x] Steps @heiyu4585 #42065
- [x] Notification @kiner-tang #42079
- [x] Result @kiner-tang #42081
- [x] Image @guan404ming #42048
- [x] Segmented @kiner-tang#42136

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## MiryksV

Hi @MadCcc,
Thanks for the list of V4 Component Token Migration. Do you have an estimate when all Component Tokens will be migrated ?

## MadCcc

> Hi @MadCcc, Thanks for the list of V4 Component Token Migration. Do you have an estimate when all Component Tokens will be migrated ?

Yeah, these work would be done in May, and would be published with 5.6.0.

## MiryksV

Thank you for the estimate, hope it will be good by then :slightly_smiling_face:

## kiner-tang

mark

## Wxh16144

My pick task:

- [x] Badge #42778
- [x] Collapse #42938

  ## heiyu4585

  My pick task:

Tag
card

## linhf123

My pick task:

Alert

## yoyo837

@heiyu4585 Update the Task list in the issue summary is great.

## kiner-tang

Message,Result

## Yuiai01

My pick task:

Radio
Switch

## hms181231

My pick task:

Empty
Divider

## jrr997

My pick task:

Descriptions
List

## MuxinFeng

My pick task:
Rate Anchor

## poyiding

My pick task:

Checkbox
Dropdown
TimePicker

## guan404ming

My pick task:
Tooltip Image

## jrr997

My pick task:

Timeline
Typography
Upload

## c0dedance

My pick task:
Input

## li-jia-nan

My pick task:

BackTop

## MadCcc

> My pick task:
>
> BackTop

@li-jia-nan BackTop Â∫üÂºÉ‰∫ÜÂ∞±‰∏çËøÅÁßª‰∫Ü

## yoyo837

> My pick task: Button Checkbox

Button Êòì‰∏ª‰∫Ü, Êç¢‰∏™.

## MadCcc

> > My pick task: Button Checkbox
>
> Button Êòì‰∏ª‰∫Ü, Êç¢‰∏™.

ÁßÅËÅäËøá‰∫ÜÔºåÊàëËøôËæπ‰ºöÊää‰∏Ä‰∫õÊîπÂä®ÊØîËæÉÂ§ßÁöÑÁªÑ‰ª∂ own Êéâ

## MuxinFeng

My Pick List:

Calendar
Carousel

## weslwi

My pick task:
Table

## david-cord

Hi there, Thank you for this initiative. It's currently blocking our migration.

I See `Layout` is checked however you still can't set `layoutHeaderHeight` for example despite it being defined internally. Can we please expose these and consider this component not complete? I believe there are other config values for this component also not exposed (at least on 5.4.7)

## MadCcc

> Hi there, Thank you for this initiative. It's currently blocking our migration.
>
> I See `Layout` is checked however you still can't set `layoutHeaderHeight` for example despite it being defined internally. Can we please expose these and consider this component not complete? I believe there are other config values for this component also not exposed (at least on 5.4.7)

I will check it.

## david-cord

> > Hi there, Thank you for this initiative. It's currently blocking our migration.
> > I See `Layout` is checked however you still can't set `layoutHeaderHeight` for example despite it being defined internally. Can we please expose these and consider this component not complete? I believe there are other config values for this component also not exposed (at least on 5.4.7)
>
> I will check it.

Any news here @MadCcc . I see Layout is still marked as complete when there are many internal tokes unexposed, i.e. layoutHeaderHeight

## SnowingFox

hi, @MadCcc, I see that there are many components that you are responsible for, but they are in a pending state now. May I ask if I need to share some of them? I want to participate in open source.

## MadCcc

> hi, @MadCcc, I see that there are many components that you are responsible for, but they are in a pending state now. May I ask if I need to share some of them? I want to participate in open source.

Thanks for your will to contributing! But it is a delayed work and I'm going to finish it this month.
And sry for everyone watching this issue, my bad to not finish all the work in time.
The rest components need careful migration, so I will do it myself :)

## yoyo837

@david-cord See #44174

## david-cord

> @david-cord See #44174

Cc @daniel-encord
