# Popconfirm åˆ¤æ–­ inShadow çš„æ–¹å¼æƒ…å†µæœªå®Œå…¨è¦†ç›–ï¼Œå¯¼è‡´é‡ç° issues/41428

`ğŸšŒ External Dependency`

### Reproduction link

ä¸»åº”ç”¨
[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/p/sandbox/elegant-wildflower-0w5n37?file=%2Fsrc%2Fmain.tsx%3A1%2C1)

å­åº”ç”¨
[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/p/sandbox/popconfirm-bug-sub-app-2i1t4f-2i1t4f?file=%2Fsrc%2Fmain.tsx%3A1%2C1)

### Steps to reproduce

åˆ›å»ºä¸»åº”ç”¨ï¼Œåˆ›å»ºå­åº”ç”¨ï¼Œå­åº”ç”¨ä½¿ç”¨antd çš„Popconfirm

### What is expected?

Popconfirmå†…å®¹ç‚¹å‡»ä¸ä¼šé—ªçƒå¹¶æ¶ˆå¤±

### What is actually happening?

Popconfirm é—ªçƒå¹¶ç«‹é©¬æ¶ˆå¤± å’Œ issues/41428 è¡¨ç°ä¸€ç›´

| Environment | Info                |
| ----------- | ------------------- |
| antd        | 5.4.7               |
| React       | 18.0.0              |
| System      | macOS 13.3 (22E252) |
| Browser     | google @latest      |

---

// åœ¨rc-component/trigger ä¸­
const inShadow = targetRoot && targetRoot !== targetEle.ownerDocument;
å¯¹æ— ç•Œåœºæ™¯åˆ¤æ–­å¤±æ•ˆï¼Œæ— ç•Œçš„å­åº”ç”¨çš„htmlå…ƒç´ è¢«shadowDomåŒ…å«

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## zombieJ

ä½ çš„é‡ç°é‡Œæ²¡æœ‰ Popconfirmï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯æ²¡æœ‰æ›´æ–° Codesandbox å“ˆ~

## canGeEr

> ä½ çš„é‡ç°é‡Œæ²¡æœ‰ Popconfirmï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯æ²¡æœ‰æ›´æ–° Codesandbox å“ˆ~

å®åœ¨æŠ±æ­‰ï¼Œå› ä¸ºä¸ç†Ÿæ‚‰Codesandboxå¤ç°åˆæ¶‰åŠåˆ°å¤šåº”ç”¨ï¼Œæ‰€ä»¥ä¸€å¼€å§‹æƒ³ç€å·æ‡’hhhã€‚åŸç¬¬ä¸€æ¡è¯„è®ºå·²æ›´æ–° é‡ç°é“¾æ¥

## zombieJ

æ‰“äº†ä¸€ä¸‹æ–­ç‚¹ï¼Œå…ƒç´ çš„ `getRootNode` å’Œ `ownDocument` éƒ½è¢«åŠ«æŒæŒ‡å‘åŒä¸€ä¸ª iframe ä¸­çš„ `document` å¯¼è‡´æ— æ³•åˆ¤æ–­å‡ºæ˜¯å¦æ˜¯åœ¨ shadow ä¸­ã€‚è¿™ä¸ªç»„ä»¶ä¾§æ²¡æ³•åšä»€ä¹ˆäº†ï¼Œåªèƒ½è®©æ— ç•Œæ¥å¤„ç†ä¸€ä¸‹è¿™ä¸ªé€»è¾‘äº†ã€‚ä¸€ç§æ€è·¯æ˜¯ window.addEventListener é‡Œä¹ŸåŒæ ·åŠ«æŒæ‰ï¼ŒæŠŠ `target` ä¹Ÿä»£ç†æˆçœŸå®èŠ‚ç‚¹ï¼ŒæŠŠå…¨éƒ¨éƒ½æ¨¡æ‹Ÿæ‰ï¼Œä¸è¿‡å…·ä½“è¿˜æ˜¯éœ€è¦å‘æ— ç•Œåé¦ˆå“ˆ~
