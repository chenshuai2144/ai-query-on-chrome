# å…³äºmessageé™æ€æ–¹æ³•è°ƒç”¨æ—¶é™çº§æ— æ•ˆé—®é¢˜

`unconfirmed`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/s53b1i)

### Steps to reproduce

åœ¨request æ‹¦æˆªå™¨ç»Ÿä¸€çš„æŠ¥é”™æé†’

### What is expected?

messageèƒ½å¤Ÿå–æ¶ˆwhereçš„ä½¿ç”¨

### What is actually happening?

ä»ç„¶ä½¿ç”¨

| Environment | Info  |
| ----------- | ----- |
| antd        | 5.4.7 |
| React       | react |
| System      | mac   |
| Browser     | 86    |

---

æˆ‘æ¸…æ¥šçŸ¥é“ä½¿ç”¨useAppçš„æ–¹æ¡ˆï¼Œä½†æ˜¯åŸæœ‰ä¸šåŠ¡çš„requestè¯·æ±‚æƒ…å†µä¸‹ï¼Œåœ¨æ‹¦æˆªå™¨é‚£å±‚ç»Ÿä¸€å¤„ç†messageç›¸å…³ï¼Œä½†æ˜¯å› ä¸ºé™çº§æ— æ•ˆä»¥è‡³äºä½ç‰ˆæœ¬çš„æµè§ˆå™¨æ— æ³•æ­£ç¡®æ˜¾ç¤ºmessageï¼Œè¿™ä¸ªæœ‰ä»€ä¹ˆå»ºè®®æˆ–è€…å¤„ç†æ–¹æ¡ˆå—

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## RedJue

æˆ‘åœ¨é¡¹ç›®é‡Œé‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œä¹Ÿæ˜¯é™æ€æ–¹æ³•é™çº§å¤±è´¥ï¼Œä½ å¯ä»¥é€šè¿‡ `@ant-design/static-style-extract` è¿™ä¸ªåŒ…ç»Ÿä¸€å¯¼å‡ºé™çº§çš„ `css` ï¼Œåˆ¤æ–­ä½ç‰ˆæœ¬æµè§ˆå™¨çš„æ—¶å€™å¼•å…¥

## chongqiangchen

> æˆ‘åœ¨é¡¹ç›®é‡Œé‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œä¹Ÿæ˜¯é™æ€æ–¹æ³•é™çº§å¤±è´¥ï¼Œä½ å¯ä»¥é€šè¿‡ `@ant-design/static-style-extract` è¿™ä¸ªåŒ…ç»Ÿä¸€å¯¼å‡ºé™çº§çš„ `css` ï¼Œåˆ¤æ–­ä½ç‰ˆæœ¬æµè§ˆå™¨çš„æ—¶å€™å¼•å…¥

å’¦ï¼Œå®˜ç½‘æœ‰ç±»ä¼¼çš„è¿™ä¸ªåŒ…ä½¿ç”¨çš„æ–‡æ¡£ä¸

## chongqiangchen

> > æˆ‘åœ¨é¡¹ç›®é‡Œé‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œä¹Ÿæ˜¯é™æ€æ–¹æ³•é™çº§å¤±è´¥ï¼Œä½ å¯ä»¥é€šè¿‡ `@ant-design/static-style-extract` è¿™ä¸ªåŒ…ç»Ÿä¸€å¯¼å‡ºé™çº§çš„ `css` ï¼Œåˆ¤æ–­ä½ç‰ˆæœ¬æµè§ˆå™¨çš„æ—¶å€™å¼•å…¥
>
> å’¦ï¼Œå®˜ç½‘æœ‰ç±»ä¼¼çš„è¿™ä¸ªåŒ…ä½¿ç”¨çš„æ–‡æ¡£ä¸

å“¦å“¦ï¼Œçœ‹åˆ°äº†ç›¸å…³ä»‹ç»ï¼Œé‚£æ˜¯ä¸æ˜¯å¯ä»¥ä»…å¯¼å‡ºmessageè¿™äº›ç›¸å…³çš„æ ·å¼å³å¯ï¼Œä½ å½“æ—¶æƒ³åˆ°è¿™ä¸ªæ–¹æ¡ˆæ˜¯ä¸ºäº†åˆ©ç”¨è¿™ä¸ªæ–¹æ³•åšä½ç‰ˆæœ¬å…¼å®¹è¿˜æ˜¯ä»…ä»…é’ˆå¯¹messageè¿™ç§é™çº§æ— æ•ˆï¼Ÿ

## RedJue

> > > æˆ‘åœ¨é¡¹ç›®é‡Œé‡åˆ°è¿‡ç±»ä¼¼æƒ…å†µï¼Œä¹Ÿæ˜¯é™æ€æ–¹æ³•é™çº§å¤±è´¥ï¼Œä½ å¯ä»¥é€šè¿‡ `@ant-design/static-style-extract` è¿™ä¸ªåŒ…ç»Ÿä¸€å¯¼å‡ºé™çº§çš„ `css` ï¼Œåˆ¤æ–­ä½ç‰ˆæœ¬æµè§ˆå™¨çš„æ—¶å€™å¼•å…¥
> >
> > å’¦ï¼Œå®˜ç½‘æœ‰ç±»ä¼¼çš„è¿™ä¸ªåŒ…ä½¿ç”¨çš„æ–‡æ¡£ä¸
>
> å“¦å“¦ï¼Œçœ‹åˆ°äº†ç›¸å…³ä»‹ç»ï¼Œé‚£æ˜¯ä¸æ˜¯å¯ä»¥ä»…å¯¼å‡ºmessageè¿™äº›ç›¸å…³çš„æ ·å¼å³å¯ï¼Œä½ å½“æ—¶æƒ³åˆ°è¿™ä¸ªæ–¹æ¡ˆæ˜¯ä¸ºäº†åˆ©ç”¨è¿™ä¸ªæ–¹æ³•åšä½ç‰ˆæœ¬å…¼å®¹è¿˜æ˜¯ä»…ä»…é’ˆå¯¹messageè¿™ç§é™çº§æ— æ•ˆï¼Ÿ

å®˜æ–¹çš„é™çº§æ–¹æ¡ˆï¼Œæˆ‘è¿™é‡Œé™æ€æ–¹æ³•é™çº§å¤±è´¥ï¼Œå¯èƒ½è·Ÿæˆ‘ç”¨äº† `vite` æœ‰å…³ç³»ï¼Œæ‰“åŒ…å‡ºæ¥æ‹¿ä¸åˆ°ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥æ²¡æ³•æ³¨å…¥è¿›å»å¯¹åº”çš„é™æ€æ–¹æ³•ï¼Œé€€è€Œæ±‚å…¶æ¬¡ç”¨äº†åŸå§‹çš„ `css` å¼•å…¥ã€‚

## chongqiangchen

å’¦ï¼Œé‚£æåˆ°è¿™ä¸ªæˆ‘æƒ³é—®ä¸‹ï¼š
https://codesandbox.io/s/antd-reproduction-template-forked-mx6117

ä¸ºä»€ä¹ˆæˆ‘è¿™æ ·å†™å¥½åƒæ²¡ç”¨ï¼Œå®˜æ–¹æä¾›çš„useAppè°ƒç”¨messageäº§å‡ºçš„æ ·å¼è¿˜æ˜¯æœ‰where

## chongqiangchen

> å’¦ï¼Œé‚£æåˆ°è¿™ä¸ªæˆ‘æƒ³é—®ä¸‹ï¼š https://codesandbox.io/s/antd-reproduction-template-forked-mx6117
>
> ä¸ºä»€ä¹ˆæˆ‘è¿™æ ·å†™å¥½åƒæ²¡ç”¨ï¼Œå®˜æ–¹æä¾›çš„useAppè°ƒç”¨messageäº§å‡ºçš„æ ·å¼è¿˜æ˜¯æœ‰where

è¿™ä¸ªå´åˆæ˜¯æœ‰æ•ˆæœçš„
https://codesandbox.io/s/antd-reproduction-template-forked-5o4pjx?file=/index.js

## RedJue

> > å’¦ï¼Œé‚£æåˆ°è¿™ä¸ªæˆ‘æƒ³é—®ä¸‹ï¼š https://codesandbox.io/s/antd-reproduction-template-forked-mx6117
> > ä¸ºä»€ä¹ˆæˆ‘è¿™æ ·å†™å¥½åƒæ²¡ç”¨ï¼Œå®˜æ–¹æä¾›çš„useAppè°ƒç”¨messageäº§å‡ºçš„æ ·å¼è¿˜æ˜¯æœ‰where
>
> è¿™ä¸ªå´åˆæ˜¯æœ‰æ•ˆæœçš„ https://codesandbox.io/s/antd-reproduction-template-forked-5o4pjx?file=/index.js

`@ant-design/cssinjs` ç‰ˆæœ¬å¾—å’Œ `antd` é‡Œçš„ä¿æŒä¸€è‡´ï¼Œä¸ç„¶ä¼šå¯¼è‡´æ¶ˆè´¹çš„ `context` ä¸ä¸€æ ·ï¼Œè·å–ä¸åˆ°é…ç½®

## chongqiangchen

> > > å’¦ï¼Œé‚£æåˆ°è¿™ä¸ªæˆ‘æƒ³é—®ä¸‹ï¼š https://codesandbox.io/s/antd-reproduction-template-forked-mx6117
> > > ä¸ºä»€ä¹ˆæˆ‘è¿™æ ·å†™å¥½åƒæ²¡ç”¨ï¼Œå®˜æ–¹æä¾›çš„useAppè°ƒç”¨messageäº§å‡ºçš„æ ·å¼è¿˜æ˜¯æœ‰where
> >
> > è¿™ä¸ªå´åˆæ˜¯æœ‰æ•ˆæœçš„ https://codesandbox.io/s/antd-reproduction-template-forked-5o4pjx?file=/index.js
>
> `@ant-design/cssinjs` ç‰ˆæœ¬å¾—å’Œ `antd` é‡Œçš„ä¿æŒä¸€è‡´ï¼Œä¸ç„¶ä¼šå¯¼è‡´æ¶ˆè´¹çš„ `context` ä¸ä¸€æ ·ï¼Œè·å–ä¸åˆ°é…ç½®

å¥½çš„ï¼Œç„¶åmessageé™æ€æ–¹æ³•è¿™ä¸ªæˆ‘ç›´æ¥é‡‡ç”¨åœ¨appä¸‹eventåšä¸ªç›‘å¬è°ƒç”¨useApp messageå®Œæˆï¼Œå°±ä¸éœ€è¦æŠŠæ ·å¼æŠ½å‡ºå¤„ç†äº†ï¼Œè§£å†³äº†ï¼Œå¯ä»¥closeäº†~

## Ivan-hl

@chongqiangchen æ²¡å¤ªæ‡‚ä½ æœ€ç»ˆæ€ä¹ˆå¤„ç†çš„ï¼Œ æˆ‘è¿™ä¹Ÿæ˜¯éœ€è¦åœ¨axiosæ‹¦æˆªå™¨ä¸­è¿›è¡Œmessageæç¤ºï¼Œ è°ƒç”¨çš„æ˜¯useAppçš„é™æ€æ–¹æ³•ï¼Œä½†ä¾æ—§æ— æ³•æ¶ˆè´¹styleproviderçš„é™çº§

## chongqiangchen

> @chongqiangchen æ²¡å¤ªæ‡‚ä½ æœ€ç»ˆæ€ä¹ˆå¤„ç†çš„ï¼Œ æˆ‘è¿™ä¹Ÿæ˜¯éœ€è¦åœ¨axiosæ‹¦æˆªå™¨ä¸­è¿›è¡Œmessageæç¤ºï¼Œ è°ƒç”¨çš„æ˜¯useAppçš„é™æ€æ–¹æ³•ï¼Œä½†ä¾æ—§æ— æ³•æ¶ˆè´¹styleproviderçš„é™çº§

app.tsxå±‚åŠ äº†ä¸€ä¸ªevent.on('message', callback)æ¥æ”¶äº‹ä»¶ï¼Œåœ¨axioså†™äº†ä¸€ä¸ªmessage.successç­‰å‡½æ•°ï¼Œæ ¸å¿ƒæ˜¯event.emit('message', args);

## GKLL

> > @chongqiangchen æ²¡å¤ªæ‡‚ä½ æœ€ç»ˆæ€ä¹ˆå¤„ç†çš„ï¼Œ æˆ‘è¿™ä¹Ÿæ˜¯éœ€è¦åœ¨axiosæ‹¦æˆªå™¨ä¸­è¿›è¡Œmessageæç¤ºï¼Œ è°ƒç”¨çš„æ˜¯useAppçš„é™æ€æ–¹æ³•ï¼Œä½†ä¾æ—§æ— æ³•æ¶ˆè´¹styleproviderçš„é™çº§
>
> app.tsxå±‚åŠ äº†ä¸€ä¸ªevent.on('message', callback)æ¥æ”¶äº‹ä»¶ï¼Œåœ¨axioså†™äº†ä¸€ä¸ªmessage.successç­‰å‡½æ•°ï¼Œæ ¸å¿ƒæ˜¯event.emit('message', args);

åœ¨app.tsxå±‚åŠ äº†ä¸€ä¸ªevent.on('message', callback)æ¥æ”¶äº‹ä»¶é‡Œé¢æœ‰ç¤ºä¾‹å—ï¼Ÿ @chongqiangchen

## chongqiangchen

ğŸ¤”ï¸å°±æ˜¯ç”¨EventEmitteråœ¨appé‚£å±‚ç›‘å¬ï¼Œè§¦å‘è°ƒç”¨useAppä¸­çš„messageå°±è¡Œäº†çš„ï¼Œæˆ‘åªæ˜¯è¿™æ ·ç®€å•å¤„ç†ä¸€ä¸‹

haha **_@_**.\*\*\*>äº2023å¹´7æœˆ18æ—¥ å‘¨äºŒ19:16å†™é“ï¼š

> @chongqiangchen <https://github.com/chongqiangchen> æ²¡å¤ªæ‡‚ä½ æœ€ç»ˆæ€ä¹ˆå¤„ç†çš„ï¼Œ
> æˆ‘è¿™ä¹Ÿæ˜¯éœ€è¦åœ¨axiosæ‹¦æˆªå™¨ä¸­è¿›è¡Œmessageæç¤ºï¼Œ è°ƒç”¨çš„æ˜¯useAppçš„é™æ€æ–¹æ³•ï¼Œä½†ä¾æ—§æ— æ³•æ¶ˆè´¹styleproviderçš„é™çº§
>
> app.tsxå±‚åŠ äº†ä¸€ä¸ªevent.on('message',
> callback)æ¥æ”¶äº‹ä»¶ï¼Œåœ¨axioså†™äº†ä¸€ä¸ªmessage.successç­‰å‡½æ•°ï¼Œæ ¸å¿ƒæ˜¯event.emit('message', args);
>
> åœ¨app.tsxå±‚åŠ äº†ä¸€ä¸ªevent.on('message', callback)æ¥æ”¶äº‹ä»¶é‡Œé¢æœ‰ç¤ºä¾‹å—ï¼Ÿ @chongqiangchen
> <https://github.com/chongqiangchen>
>
> â€”
> Reply to this email directly, view it on GitHub
> <https://github.com/ant-design/ant-design/issues/42302#issuecomment-1640026254>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ALMF42GI2VGDHUERGJ7JB33XQZWBJANCNFSM6AAAAAAX7DBBAA>
> .
> You are receiving this because you were mentioned.Message ID:
> **_@_**.\*\*\*>

## GKLL

è°¢è°¢å•¦
