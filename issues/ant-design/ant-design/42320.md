# antdçš„formçš„shouldUpdateæ‰§è¡Œäº†validatoræ²¡æœ‰æ‰§è¡Œ

`ğŸ¤” Need Reproduce`,`unconfirmed`

### Reproduction link

[http://www.baidu.com](http://www.baidu.com)

### Steps to reproduce

aå’Œbçš„æ ¡éªŒéƒ½ç›¸äº’ä¾èµ–ï¼Œè¿™é‡Œç”¨shouldUpdateå»åšï¼Œç»“æœshouldUpdateæ‰§è¡Œäº†ï¼Œå¯¹åº”çš„validatoræ²¡æœ‰æ‰§è¡Œã€‚è¿™ç§åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ
<Form.Item
noStyle
shouldUpdate={(pre: any, current: any) => {
const result = JSON.stringify(pre.a) !== JSON.stringify(current.a)
|| JSON.stringify(pre.b) !== JSON.stringify(current.b);
console.log('shouldUpdate', result);
return result;
}}

> {
> () => (
> <Form.Item name="a" label="aæ–¹å¼" required rules={[
> ({ getFieldValue }) => ({
> validator(_, value) {
> // ä¾èµ–b
> console.log('validate);
> },
> })]}>
> <Radio.Group disabled={disabled}>
> <Radio value={'ddd'}>ddd
> <Radio value={'xxx'}>xxx
> </Radio.Group>
> </Form.Item>
> )
> }
> </Form.Item>

### What is expected?

shouldUpdateæ‰§è¡Œåèƒ½å¤Ÿæ‰§è¡Œvalidator

### What is actually happening?

æ²¡æœ‰æ‰§è¡Œ

| Environment | Info     |
| ----------- | -------- |
| antd        | 4.24.10  |
| React       | react    |
| System      | æ—        |
| Browser     | chrome90 |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## nkli

https://codesandbox.io/s/antd-reproduction-template-forked-5w67rv?file=/index.js

Implementation steps: Enter 1 at the beginning and 4 at the end
Expected result: Start Digit check needs to be removed

## linxianxi

æ‰§è¡Œæ ¡éªŒè¦ç”¨ dependencies https://ant.design/components/form-cn#dependencies

## nkli

dependenciesä¸shouldUpdateåŒæ—¶ä½¿ç”¨ä¼šè­¦å‘ŠæŠ¥é”™ï¼Œä½†æˆ‘çš„åœºæ™¯å¿…é¡»ä½¿ç”¨shouldUpdateï¼Œé‚£shouldUpdateèƒ½å¦æ”¯æŒruleçš„validatoræ›´æ–°å‘¢

## linxianxi

dependencies åŒæ—¶æœ‰æ›´æ–°å’Œæ ¡éªŒçš„åŠŸèƒ½å•Šã€‚https://codesandbox.io/s/antd-reproduction-template-forked-gthq1b?file=/index.js

## nkli

æ‚¨è¯´çš„æ²¡é”™ï¼Œå¤§éƒ¨åˆ†åœºæ™¯dependencieså°±èƒ½å¤Ÿè§£å†³æ›´æ–°çš„é—®é¢˜ï¼Œä½†æ˜¯è¡¨å•çš„ä¾èµ–å¤„ç†æœ‰æ—¶å€™ä¸ä»…ä»…æ˜¯æ›´æ–°å’Œæ ¡éªŒï¼Œè¿˜æ¶‰åŠè¡¨å•çš„æ˜¾éšï¼ŒshouldUpdateå¤„ç†èµ·æ¥æ¯”dependenciesæ›´æ–¹ä¾¿ï¼Œçœ‹çœ‹shouldUpdateèƒ½å¦æ”¯æŒæ£€éªŒçš„æ›´æ–°ã€‚
å¦‚è‹¥ä¸è¡Œï¼Œä¹Ÿéº»çƒ¦è¯´æ˜ä¸€ä¸‹å…·ä½“ä¸èƒ½å®ç°çš„åŸå› ï¼Œæ„Ÿè°¢ã€‚

## linxianxi

dependencies ä¹Ÿèƒ½å¤„ç†æ˜¾éšå•Šï¼Œä¸Šé—®é¢˜çš„æ²™ç›’é“¾æ¥å§

## nkli

# dependencies ä¹Ÿèƒ½å¤„ç†æ˜¾éšå•Šï¼Œä¸Šé—®é¢˜çš„æ²™ç›’é“¾æ¥å§

è¿™ç§å¦‚ä½•å¤„ç†å‘¢ï¼Œæœ‰ç¤ºä¾‹ä¹ˆ
