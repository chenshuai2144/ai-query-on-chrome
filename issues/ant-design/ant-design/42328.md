# [select] å¼€å¯OptGroup ï¼Œå¹¶è‡ªå®šä¹‰fieldNamesæ—¶ï¼Œåˆ†ç»„labelä¸æ˜¾ç¤º

`help wanted`,`ğŸ‘·ğŸ»â€â™‚ï¸ Someone working on it`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/fen-zu-antd-5-4-7-forked-qup60h?file=/demo.tsx:687-697)

### Steps to reproduce

1.

```ts
[
  {
    label: "Manager",
    options: [
      { name: "Jack", data: "jack" },
      { name: "Lucy", data: "lucy" },
    ],
  },
  {
    label: "Engineer",
    options: [{ name: "yiminghe", data: "Yiminghe" }],
  },
];
```

2.

```
 fieldNames={{ value: "data", label: "name" }}
```

### What is expected?

æ­£å¸¸æ˜¾ç¤º

### What is actually happening?

åˆ†ç»„labelæ²¡æœ‰æ­£å¸¸æ˜¾ç¤º

![image](https://github.com/ant-design/ant-design/assets/81673017/828992a2-1688-46d0-80db-fdef5b69b7e8)

| Environment | Info                  |
| ----------- | --------------------- |
| antd        | 5.4.7                 |
| React       | "react": "^18.0.0",   |
| System      | win11                 |
| Browser     | Chrome 108.0.5359.125 |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## RSS1102

æœ€è¿‘å‡ å¤©æ²¡æœ‰ç©ºä½™æ—¶é—´ï¼Œæˆ‘å°½å¿«æŠ½å‡ºæ—¶é—´çœ‹ä¸‹ï¼Œèƒ½å¦PRï¼ˆåœ¨åˆ«äººè®¤é¢†ä¹‹å‰ï¼‰ã€‚ğŸ™†â€â™€ï¸ğŸ™†â€â™€ï¸

## afc163

å½“ç„¶~

## BoyYangzai

@RSS1102 @afc163
hello æˆ‘çœ‹äº†ä¸‹æºç å‘ç°è¿™é‡Œçš„é—®é¢˜åœ¨äº
æºç ä¸­ OptGroup æœ€åä½¿ç”¨çš„ä¸€ç›´æ˜¯ `label` å­—æ®µ è€Œ `label` æ¥è‡ªäº `data['label']`
ä½†æ˜¯å½“ä½ è®¾ç½®äº† `fieldNames` ä¹‹å è¿™é‡Œå°±å˜æˆäº† `label = data['name']` æ­¤æ—¶è¿™é‡Œä¸ºç©º
æ‰€ä»¥åªéœ€è¦æŠŠä½ çš„ä¾‹å­ä¸­çš„ `label` æ”¹æˆ `name` å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº† æˆ‘è®¤ä¸ºè¿™æ˜¯ç¬¦åˆé¢„æœŸçš„
https://codesandbox.io/s/fen-zu-antd-5-4-7-forked-knxnby?file=/demo.tsx
![image](https://github.com/ant-design/ant-design/assets/94534613/57b81e69-de09-4e34-a3db-af9836dacc82)

## RSS1102

> @RSS1102 @afc163 ä½ å¥½ æˆ‘çœ‹äº†ä¸‹æºç å‘ç°è¿™é‡Œçš„é—®é¢˜åœ¨äº æºç ä¸­ OptGroup æœ€åä½¿ç”¨çš„ä¸€ç›´æ˜¯`label`ä¸€æ®µ å¹¶ä¸”`label`æ¥è‡ªäº`data['label']` ä½†æ˜¯å½“ä½ è®¾ç½®äº†`fieldNames`ä¹‹å è¿™é‡Œå°±å˜æˆäº†`label = data['name']` è¿™ä¸ªæ—¶å€™è¿™é‡Œä¸ºç©º æ‰€ä»¥åªéœ€è¦æŠŠä½ çš„ä¾‹å­ä¸­çš„`label`æ”¹æˆ`name`å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†æˆ‘è®¤ä¸ºè¿™æ˜¯ç¬¦åˆé¢„æœŸçš„ https://codesandbox.io/s/fen-zu-antd-5-4-7-forked-knxnby?file=/demo.tsx ![å›¾åƒ](https://user-images.githubusercontent.com/94534613/238148223-57b81e69-de09-4e34-a3db-af9836dacc82.png)

ä½†æ˜¯æˆ‘è®¤ä¸º`options`ä¸­çš„æ•°æ®ä¸åº”è¯¥è¢«ç»„ä»¶æ‰€å›ºå®šï¼ˆæˆ‘å½“å‰ä¸šåŠ¡ä¸Šå°±è¿™æ ·é¿å¼€è¿™ä¸ªé—®é¢˜çš„ï¼Œå‡ºç°äº†å¤§é‡å†—ä½™æ“ä½œæ•°æ®çš„ä»£ç ï¼‰ã€‚
å‡è®¾æœ‰å¯èƒ½åŸå§‹æ•°æ®ä»ä¸º`  options: [{ name: "yiminghe", data: "Yiminghe" }]`ï¼Œåˆ™éœ€è¦å¯¹æºæ•°æ®è¿›è¡Œæ“ä½œå¤„ç†ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸å¯¹çš„ã€‚

---

æˆ‘è®¤ä¸ºï¼š

1. åº”è¯¥ä¿æŒæ•°æ®çš„ç®€æ´ï¼Œä¸åº”è¯¥æ“ä½œæºæ•°æ®ã€‚
2. å½“åŒä¸€ä¸ªæ•°æ®æºé¢å¯¹å¤šä¸ª`<Select/>`æ—¶ï¼Œéœ€è¦ç»‘å®šçš„`label`å¯èƒ½ä¸åŒã€‚
   è¿˜æ˜¯éœ€è¦å¯¹ç»„ä»¶è¿›è¡Œfixã€‚

## BoyYangzai

@RSS1102 Hello æˆ‘çš„ç†è§£æ˜¯è¿™é‡Œæ— éœ€å¯¹åŸæ•°æ®åšè¿‡å¤šçš„æ”¹åŠ¨
å‚è€ƒ https://codesandbox.io/s/fen-zu-antd-5-4-7-forked-knxnby?file=/demo.tsx
åŸæ•°æ®ä»ç„¶æ˜¯è‡ªå®šä¹‰ name å’Œ data å­—æ®µ
åªä¸è¿‡ OptGroup çš„ label å­—æ®µ ä¹Ÿç›¸åº”çš„å˜æˆäº† name å­—æ®µ è¿™å¹¶æ²¡æœ‰è¿‡å¤šæ“ä½œæºæ•°æ® åªéœ€è¦ä¸€ä¸ªç®€å•çš„functionå°±èƒ½æå®š å¦‚ä¸‹
![image](https://github.com/ant-design/ant-design/assets/94534613/f4057378-7dbd-4f51-a83e-026c53d1f570)

å› ä¸ºæš‚æ—¶ä¸å¤ªæ¸…æ¥šåŸä½œè€…çš„ç”¨æ„ -- åŸå…ˆè¿™ä¸ª filedNames çš„ `è‡ªå®šä¹‰èŠ‚ç‚¹å­—æ®µ` æ˜¯å¦åŒ…å«äº† `OptGroup`ä¸­çš„ `label`
æ‰€ä»¥ç›®å‰æœ‰ä¸¤ç§è§£æ³•ï¼š1.åŒ…å« åˆ™æ·»åŠ FAQ
![image](https://github.com/ant-design/ant-design/assets/94534613/ad11dbcb-16f3-44c6-9f10-f94cfd1f91cb) 2.ä¸åŒ…å« æ›´æ”¹æºç  åªéœ€æ·»åŠ ä¸€è¡Œä»£ç å³å¯
![image](https://github.com/ant-design/ant-design/assets/94534613/6c65263b-9795-45ac-bd50-ea9fac273bee)
![image](https://github.com/ant-design/ant-design/assets/94534613/ed72cfb5-6dea-476c-ba2f-0444dbe90d03)

## RSS1102

> 2.ä¸åŒ…å« æ›´æ”¹æºç  åªéœ€æ·»åŠ ä¸€è¡Œä»£ç å³å¯

æˆ‘è®¤ä¸ºä»æ•°æ®çš„å®šä¹‰ç»“æ„æ¥è¯´:
æ— åˆ†ç»„æ•°æ®ç»“æ„

```ts
[
  {
     { name: "Jack", data: "jack" },
     { name: "Lucy", data: "lucy" }
 },
]
```

åˆ†ç»„æ•°æ®ç»“æ„

```ts
  {
        label: "Manager",
        options: [
          { name: "Jack", data: "jack" },
          { name: "Lucy", data: "lucy" }
        ]
      },
```

å…¶ä¸­`label`å”¯ä¸€çš„æ„ä¹‰å°±æ˜¯å®šä¹‰åˆ†ç»„çš„åç§°ï¼Œå¦‚æœä½¿ç”¨åˆ«å`label`å°±å¤±å»äº†ä»–æ•°æ®å­˜åœ¨çš„æ„ä¹‰ã€‚

---

æ‰€ä»¥æˆ‘è®¤ä¸º `filedNames `ä¿®æ”¹`label`æ—¶ï¼ˆ`  fieldNames={{ label: "name" }}`ï¼‰å°±ä¸åº”è¯¥å½±å“åˆ†ç»„åç§°ã€‚
ï¼ˆæˆ‘ä¸ªäººç†è§£æ˜¯æ˜¯è¿™æ ·çš„ï¼‰

## BoyYangzai

@RSS1102 æ”¶åˆ° è¿™ä¸ªæˆ‘ä»¬å‘¨ä¸€ç­‰å¤§ä½¬ä¸Šç­ä¹‹åå†è®¨è®ºä¸€ä¸‹ æ„Ÿè°¢åé¦ˆ
@afc163 @zombieJ @MadCcc

## RSS1102

> ç›®å‰

ğŸ˜³okï¼Œé‚£ä½ æ¥PRå§ã€‚

## zombieJ

`fieldNames` è¦æ§åˆ¶è‡ªç„¶æ˜¯ä¸€èµ·æ§åˆ¶çš„ï¼Œå¦åˆ™ optGrp çš„ `label` å…¶å®å°±æ²¡å­—æ®µå¯ä»¥æ§åˆ¶äº†ã€‚

## RSS1102

> fieldNames

æˆ‘ä¸ªäººæƒ³æ³•ï¼š1.æ–¹æ¡ˆ1ï¼šå•ç‹¬æ”¹optionçš„`label`
{
labe:xxx
option:[]
}
`label`å°±å·²ç»è¢«å®šä¹‰äº†ï¼Œåˆ†ç»„çš„æ—¶å€™å°±å·²ç»ç»™è¿™ä¸ªåˆ†ç»„å®šä¹‰äº†åˆ«åäº†

2. å¯¹äº`fieldNames `APIè¿›è¡Œæ‰©å±•ï¼Œæ¯”å¦‚å¢åŠ `optionGroupName`è¿›è¡Œå•ç‹¬æ§åˆ¶

---

å¦‚æœç”¨`fieldNames `åŒæ—¶æ§åˆ¶`Select`ç»„ä»¶çš„`label`å±•ç¤ºï¼Œå’Œ`Option-label`æ˜¯ä¸æ˜¯ä¸å¤ªåˆé€‚ï¼Œæœ¬æ¥å°±æ˜¯ä¸åŒçš„ä¸¤ä¸ªåå­—ï¼Œæ§åˆ¶ä¹‹åå˜æˆç›¸åŒäº†

## zombieJ

æ²¡å¤ªæ˜ç™½ï¼ŒoptGrp çš„å±•ç¤ºæ ‡é¢˜æ˜¯ `label`ï¼ŒoptItem çš„å±•ç¤ºæ ‡é¢˜ä¹Ÿæ˜¯ `label`ã€‚`fieldNames` åšæ˜ å°„ä¹Ÿæ˜¯ `label`ã€‚ä¸¤ä¸ªä¸åŒçš„åå­—æŒ‡çš„æ˜¯ä»€ä¹ˆå“ˆï¼Ÿ

## RSS1102

> æ²¡æœ‰å¤ªæ˜ç™½ï¼ŒoptGrp çš„æ˜¾ç¤ºæ ‡é¢˜æ˜¯`label`ï¼ŒoptItem çš„æ˜¾ç¤ºæ ‡é¢˜ä¹Ÿæ˜¯`label`ã€‚`fieldNames`åšæŠ•å½±ä¹Ÿæ˜¯`label`ã€‚ä¸¤ä¸ªä¸ç›¸åŒçš„åç§°æœç´¢çš„æ˜¯ä»€ä¹ˆå“ˆï¼Ÿ

`Options`æ•°æ®æ ¼å¼

```ts
[
  {
    label: "Manager",
    options: [
      { name: "Jack", data: "jack" },
      { name: "Lucy", data: "lucy" },
    ],
  },
  {
    label: "Engineer",
    options: [{ name: "yiminghe", data: "Yiminghe" }],
  },
];
```

éœ€æ±‚ï¼š

1. ï¼š`Select`ç»„ä»¶éœ€è¦é€‰ä¸­ç¬¬ä¸€ä¸ªåˆ†ç»„ç¬¬ä¸€ä¸ªé¡¹ï¼ˆå³` { name: "Jack", data: "jack" }`ï¼‰æ—¶ï¼Œå±•ç¤ºçš„æ˜¯**Jack**ï¼Œè·å¾—çš„ç»“æœæ˜¯**jack**
   åˆ™ä½¿ç”¨` fieldNames={{ label:"name"value: "data" }}`è¿›è¡Œæ˜ å°„æ˜¾ç¤ºã€‚
2. åˆ†ç»„çš„æ ‡é¢˜ä¿æŒä¸å˜ã€‚

---

å½“å‰Questionæ˜¯ï¼š
å¦‚æœæˆ‘ä½¿ç”¨äº†` fieldNames={{ label:"name"value: "data" }}`æ“ä½œäº†labelï¼Œåˆ†ç»„labelå°±ä¼šæ”¹å˜ï¼ˆå½“å‰æ˜¯ä¸æ˜¾ç¤ºï¼‰ã€‚ä½†æ˜¯æˆ‘å®é™…ä¸æƒ³è®©ä»–æ”¹å˜ã€‚(æˆ–è€…è¯´æˆ‘æƒ³è®©åˆ†ç»„labelå•ç‹¬æ§åˆ¶ï¼‰

## zombieJ

OKï¼Œè¿™ä¹ˆçœ‹èµ·æ¥æ˜¯æ•°æ®æºç»™çš„æ•°æ®åˆ†ç»„ä¿¡æ¯å’Œæ•°æ®ä¿¡æ¯çš„ label field æ˜¯ä¸ä¸€è‡´çš„å¯¹å§

## RSS1102

> OKï¼Œè¿™ä¹ˆçœ‹èµ·æ¥æ˜¯æ•°æ®æºç»™çš„æ•°æ®åˆ†ç»„ä¿¡æ¯å’Œæ•°æ®ä¿¡æ¯çš„ label field æ˜¯ä¸ä¸€è‡´çš„å¯¹å§

åº”è¯¥æ˜¯è¿™æ ·ç†è§£çš„ã€‚

---

ç›®çš„/éœ€æ±‚ï¼š

1. ä½¿ç”¨`fieldNames`æ“ä½œ`label:"name"`æ—¶ï¼Œä¸ä¼šå½±å“åˆ°æ¯ä¸ªOptionçš„labelï¼ˆå³æ¯ä¸ªåˆ†ç»„çš„labelï¼‰ã€‚

## zombieJ

> ç›®çš„/éœ€æ±‚ï¼š
>
> 1. ä½¿ç”¨`fieldNames`æ“ä½œ`label:"name"`æ—¶ï¼Œä¸ä¼šå½±å“åˆ°æ¯ä¸ªOptionçš„labelï¼ˆå³æ¯ä¸ªåˆ†ç»„çš„labelï¼‰ã€‚

è¿™ä¸ªæ˜¯ breaking changeï¼ŒæŠŠä¸šåŠ¡éœ€æ±‚å¸¦åˆ°ç»„ä»¶é‡Œå»äº†ï¼Œä¸é€‚åˆã€‚å€’æ˜¯ `groupLabel` å¯ä»¥è€ƒè™‘ä¸€ä¸‹ã€‚

## RSS1102

> > ç›®çš„/éœ€æ±‚ï¼š
> >
> > 1. ä½¿ç”¨`fieldNames`æ“ä½œ`label:"name"`æ—¶ï¼Œä¸ä¼šå½±å“åˆ°æ¯ä¸ªé€‰é¡¹çš„æ ‡ç­¾ï¼ˆå³æ¯ä¸ªåˆ†ç»„çš„æ ‡ç­¾ï¼‰ã€‚
>
> è¿™ä¸ªæ˜¯breaking changeï¼ŒæŠŠä¸šåŠ¡éœ€è¦å¸¦åˆ°ç»„é‡Œå»äº†ï¼Œä¸åˆé€‚ã€‚å€’æ˜¯`groupLabel`å¯ä»¥è€ƒè™‘ä¸€ä¸‹ã€‚

åŒæ„åè€…ã€‚æ•´ä½“çš„éœ€æ±‚ã€‚
[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/fen-zu-antd-5-4-7-forked-qup60h?file=/demo.tsx:687-697)
åœ¨è¿™ç§æƒ…å†µä¸‹å‡ºç°äº†åˆ†ç»„`label`çš„é—®é¢˜ï¼Œæ˜¯æˆ‘ä½¿ç”¨æ–¹æ³•ä¸å¯¹å—ï¼Ÿ
å¦‚æœä¸æ˜¯çš„è¯ æˆ‘è®¤ä¸ºè¦ä¹ˆæ˜¯æ‰©å±•APIï¼ˆä½¿ç”¨`groupLabel`ï¼‰ï¼Œè¦ä¹ˆæ˜¯å‡å°‘APIçš„å½±å“ï¼Œé¿å…æ‰ã€‚

## zombieJ

å¦‚æœæ˜¯æ–°çš„ `groupLabel` å®ƒçš„é€»è¾‘åº”è¯¥æ˜¯ï¼Œå…ˆçœ‹æœ‰æ²¡æœ‰ `groupLabel`ï¼Œæ²¡æœ‰çš„è¯ä½¿ç”¨ `label`ï¼Œæœ€åä½¿ç”¨é»˜è®¤çš„ `.label`

## RSS1102

> å¦‚æœæ˜¯æ–°çš„ `groupLabel` å®ƒçš„é€»è¾‘åº”è¯¥æ˜¯ï¼Œå…ˆçœ‹æœ‰æ²¡æœ‰ `groupLabel`ï¼Œæ²¡æœ‰çš„è¯ä½¿ç”¨ `label`ï¼Œæœ€åä½¿ç”¨é»˜è®¤çš„ `.label`

å¯¹çš„ï¼Œæˆ‘ä¹Ÿæ˜¯è¿™æ ·æƒ³çš„ï¼Œè¦æˆ‘todoå˜›ï¼Ÿ
@BoyYangzai ä½ è¦å¯¹è¿™ä¸ªAPIè¿›è¡Œprå—ï¼Ÿ

## BoyYangzai

> > å¦‚æœæ˜¯æ–°çš„ `groupLabel` å®ƒçš„é€»è¾‘åº”è¯¥æ˜¯ï¼Œå…ˆçœ‹æœ‰æ²¡æœ‰ `groupLabel`ï¼Œæ²¡æœ‰çš„è¯ä½¿ç”¨ `label`ï¼Œæœ€åä½¿ç”¨é»˜è®¤çš„ `.label`
>
> å¯¹çš„ï¼Œæˆ‘ä¹Ÿæ˜¯è¿™æ ·æƒ³çš„ï¼Œè¦æˆ‘todoå˜›ï¼Ÿ @BoyYangzai ä½ è¦å¯¹è¿™ä¸ªAPIè¿›è¡Œprå—ï¼Ÿ

ğŸ‘Œ æˆ‘æ¥å§ è¿™éƒ¨åˆ†æºç  å·²ç»çœ‹è¿‡ä¸€éäº†
