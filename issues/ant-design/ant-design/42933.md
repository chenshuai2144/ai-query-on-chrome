# Select è‡ªå®šä¹‰ä¸‹æ‹‰é¢æ¿, å½“ç‚¹å‡»é¢æ¿ä¸­çš„æŒ‰é’®+å·æ—¶, ä¼šä¸¢å¤± æœç´¢å€¼

`unconfirmed`

### Reproduction link

[https://stackblitz.com/edit/react-djm2de?file=demo.tsx](https://stackblitz.com/edit/react-djm2de?file=demo.tsx)

https://stackblitz.com/edit/react-13vdsn?file=demo.tsx

### Steps to reproduce

è¾“å…¥ 1, ç„¶åç‚¹å‡» ä¸‹æ‹‰é¢æ¿ä¸­çš„ å·

### What is expected?

ç‚¹å‡» å·, ä¸è¦æ¸…ç©ºæœç´¢å€¼

### What is actually happening?

ç‚¹å‡» å·, æœç´¢å€¼è¢«æ¸…ç©ºäº†

| Environment | Info   |
| ----------- | ------ |
| antd        | 5.6.1  |
| React       | 18     |
| System      | macos  |
| Browser     | chrome |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## linxianxi

è¿™ä¸ªæŒºæ€ªï¼Œæœç´¢æœ‰å€¼æ—¶ï¼Œç‚¹å‡»æŒ‰é’®æ²¡ååº”ğŸ¤”ï¸ï¼Œæ²¡è§¦å‘ click äº‹ä»¶

## vaynevayne

ä¼šä¸ä¼šè¿™ä¸ªé—®é¢˜å’Œè‡ªåŠ¨å…³é—­popoverçš„issueæ˜¯åŒä¸€ä¸ªåŸå› 

## Ali-ovo

ä½ å¯ä»¥é€šè¿‡é…ç½® `searchValueï¼ŒonSearch` è¿™ä¸¤ä¸ªAPIæ¥è¾¾æˆ `å—æ§çš„è¾“å…¥æ¡†`ï¼Œè¿™æ ·åœ¨ä½ ç‚¹å‡»çš„æ—¶å€™ è¾“å…¥æ¡†çš„å€¼å¯ä»¥ä¸ä¼šè¢«æ¸…ç©ºã€‚
åº”è¯¥æ˜¯åœ¨ä½ ç‚¹å‡»â•çš„æ—¶å€™ï¼Œ inputè¾“å…¥æ¡†çš„è¾“å…¥å€¼è¢«æ¸…ç©ºï¼Œå¯¼è‡´é¡µé¢ rerender ï¼Œç‚¹å‡»çš„äº‹ä»¶ç›´æ¥ä¸¢å¤±äº†

## linxianxi

@zombieJ æ˜¯æœ‰ bugï¼Œç‚¹å‡» dropdownRender é™¤äº† menu ä»¥å¤–çš„åœ°æ–¹éƒ½ä¼šè§¦å‘ onDropdownVisibleChange falseï¼ŒæŒ‰ç†è¯´æ˜¯ä¸åº”è¯¥è§¦å‘çš„ã€‚æœç´¢æœ‰å€¼æ—¶ç‚¹å‡»è¿™ä¸ª + å·ä¹Ÿä¸ä¼šè§¦å‘ click

## zombieJ

æœ‰å‡ ç‚¹ï¼š

- ç‚¹å‡»å…³é—­æ˜¯å› ä¸ºå¤±å»ç„¦ç‚¹ï¼Œcase 1 `preventDefault` æ”¾é”™ä½ç½®äº†: https://stackblitz.com/edit/react-djm2de-7yvdju?file=demo.tsx
- `searchText` åœ¨å¤±å»ç„¦ç‚¹æ—¶ä¼šé‡ç½®ï¼Œ`autoClearSearchValue` æ„æ€æ˜¯è¾“å…¥æ¡†èšç„¦æ—¶æ— è®ºé€‰æ‹©ä»€ä¹ˆéƒ½ä¼šä¿ç•™è¾“å…¥æ¡†é‡Œçš„å€¼ã€‚æ‰€ä»¥å®ƒæ‰è¯´æ˜æ˜¯ `mode` ä¸ºå¤šé€‰æ—¶æ‰ä¼šç”Ÿæ•ˆã€‚
- å§‹ç»ˆä¿æŒ `searchText` å‚è€ƒ @Ali-ovo çš„å›å¤ï¼Œå—æ§å³å¯ã€‚

## zombieJ

> @zombieJ æ˜¯æœ‰ bugï¼Œç‚¹å‡» dropdownRender é™¤äº† menu ä»¥å¤–çš„åœ°æ–¹éƒ½ä¼šè§¦å‘ onDropdownVisibleChange falseï¼ŒæŒ‰ç†è¯´æ˜¯ä¸åº”è¯¥è§¦å‘çš„ã€‚æœç´¢æœ‰å€¼æ—¶ç‚¹å‡»è¿™ä¸ª + å·ä¹Ÿä¸ä¼šè§¦å‘ click

ä»æ— éšœç¢è®¾è®¡è§’åº¦å‡ºå‘ Select æ˜¯å¤±å»ç„¦ç‚¹åå…³é—­ï¼Œåªè¦ `preventDefault` ä¸ä¸¢å¤±ç„¦ç‚¹å³å¯ã€‚å¦‚æœæ˜¯ä¸‹æ‹‰è¿˜å¸¦éœ€è¦ç„¦ç‚¹çš„å…ƒç´ å¦‚è¾“å…¥æ¡†ï¼Œåˆ™éœ€è¦è‡ªè¡Œå—æ§å¤„ç†ï¼šhttps://ant-design.antgroup.com/components/select-cn#faq

## vaynevayne

> ä½ ä»¬ä»£ç é‡Œç›®å‰æ˜¯: å¤±å»input çš„ç„¦ç‚¹, è€Œå®é™…ä¸Šéœ€è¦ä¿®æ­£ä¸ºå¤±å» dropdown çš„ç„¦ç‚¹, è¯•æƒ³å¦‚æœå¤±å» input å°±å…³é—­,é‚£ç‚¹å‡» option å²‚ä¸æ˜¯åº”è¯¥å…³é—­, é‚£ä¸ºä»€ä¹ˆä¸å…³é—­å‘¢

## zombieJ

dropdown æ²¡æœ‰ç„¦ç‚¹ï¼Œoption ç‚¹å‡»ä¸ä¼šå¤±å»ç„¦ç‚¹ã€‚
