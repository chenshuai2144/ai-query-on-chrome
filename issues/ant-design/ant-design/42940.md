# v5.x æ‰“åŒ…åuseBreakpointæŠ¥é”™Cannot read properties of undefined (reading 'useBreakpoint')

`unconfirmed`

### Reproduction link

[http://localhost:8099/](http://localhost:8099/)

### Steps to reproduce

vite build

### What is expected?

æ— æŠ¥é”™æ­£å¸¸åŠ è½½

### What is actually happening?

Uncaught TypeError: Cannot read properties of undefined (reading 'useBreakpoint')

| Environment | Info      |
| ----------- | --------- |
| antd        | undefined |
| React       | react     |
| System      | mac       |
| Browser     | chrome    |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## BoyYangzai

@gouqingping
ä½ çš„é“¾æ¥æ˜¯ä¸ªæœ¬åœ°é“¾æ¥ æ— æ³•æŸ¥çœ‹
å¯ä»¥ä¸Šä¼ ä¸€ä¸ªå¤ç°çš„Githubä»“åº“

## gouqingping

> Hello @gouqingping. Please provide a online reproduction by forking codesandbox of [antd@5.x](https://u.ant.design/codesandbox-repro) or [antd@4.x](https://u.ant.design/codesandbox-repro-4x), or provide a minimal GitHub repository. Issues labeled by `Need Reproduce` will be closed if no activities in 3 days.
>
> ä½ å¥½ @gouqingping, æˆ‘ä»¬éœ€è¦ä½ æä¾›ä¸€ä¸ªåœ¨çº¿çš„é‡ç°å®ä¾‹ä»¥ä¾¿äºæˆ‘ä»¬å¸®ä½ æ’æŸ¥é—®é¢˜ã€‚ä½ å¯ä»¥é€šè¿‡ç‚¹å‡»è¿™é‡Œåˆ›å»ºä¸€ä¸ª [antd@5.x](https://u.ant.design/codesandbox-repro) æˆ– [antd@4.x](https://u.ant.design/codesandbox-repro-4x) çš„ codesandboxï¼Œæˆ–è€…æä¾›ä¸€ä¸ªæœ€å°åŒ–çš„ GitHub ä»“åº“ã€‚3 å¤©å†…æœªè·Ÿè¿›æ­¤ issue å°†ä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚
>
> ![](https://camo.githubusercontent.com/3f51b5a32e6e5d5adabdebc5ef968150bdabc8d17a8dc1a535b8fb255d2165d0/68747470733a2f2f67772e616c697061796f626a656374732e636f6d2f7a6f732f616e7466696e63646e2f79396b776737445643642f726570726f647563652e676966)

åªéœ€è¦å¯åŠ¨ä¸€ä¸ªreact18ä»¥åŠantd v5.6.0 å’Œantd pro v2.5.5 ç„¶åéšä¾¿è°ƒç”¨å‡ ä¸ªç»„ä»¶æ‰“åŒ…åè¿è¡Œæ§åˆ¶å°å°±ä¼šæŠ¥é”™

## BoyYangzai

@gouqingping
è¿™ä¸ªåŸå› å¯èƒ½ä¸å¥½è¯´ ç›®å‰æ²¡äººåé¦ˆè¿‡è¿™ä¸ªé—®é¢˜ æ›´åƒæ˜¯ä¸ªä¾‹
åŒ…æ‹¬ Vite æ‰“åŒ…å™¨çš„é…ç½® ç‰ˆæœ¬ ç¯å¢ƒçš„ä¸€ç³»åˆ—åŸå›  å¯èƒ½éš¾ä»¥å¤ç°
å»ºè®®æŠŠæœ‰é—®é¢˜çš„é¡¹ç›®ç›´æ¥ä¼ åˆ° Github ä¿è¯æˆ‘ä»¬è¿™è¾¹å¯ä»¥è·å¾—å’Œä½ ä¸€æ ·çš„é¡¹ç›®æ‰“åŒ…é…ç½®

## gouqingping

> @gouqingping
> è¿™ä¸ªåŸå› å¯èƒ½ä¸å¥½è¯´ ç›®å‰æ²¡äººåé¦ˆè¿‡è¿™ä¸ªé—®é¢˜ æ›´åƒæ˜¯ä¸ªä¾‹
> åŒ…æ‹¬ Vite æ‰“åŒ…å™¨çš„é…ç½® ç‰ˆæœ¬ ç¯å¢ƒçš„ä¸€ç³»åˆ—åŸå›  å¯èƒ½éš¾ä»¥å¤ç°
> å»ºè®®æŠŠæœ‰é—®é¢˜çš„é¡¹ç›®ç›´æ¥ä¼ åˆ° Github ä¿è¯æˆ‘ä»¬è¿™è¾¹å¯ä»¥è·å¾—å’Œä½ ä¸€æ ·çš„é¡¹ç›®æ‰“åŒ…é…ç½®

å¥½çš„ï¼Œæˆ‘æ™šç‚¹ä¸Šä¼ ä¸€ä¸ªdemo

## gouqingping

@BoyYangzai ä¸Šä¼ åˆ°äº†è¿™ä¸ªä»“åº“ï¼Œä½¿ç”¨ yarn install åç„¶åæ‰§è¡Œyarn buildï¼Œç„¶åå°†è¿™ä¸ªdemo æ‰“åŒ…æˆdockeré•œåƒ
docker build -t antd-react-templete:v1.0 .
docker run -i -t -d -p 8099:80 antd-react-templete:v1.0
æµè§ˆå™¨æ‰“å¼€ http://localhost:8099/ f12 æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å° å°±ä¼šå‡ºç° Uncaught TypeError: Cannot read properties of undefined (reading 'useBreakpoint')
https://github.com/gouqingping/antd-react-templete

## BoyYangzai

@gouqingping
ä½ çš„ demo æ²¡åŠæ³•ç›´æ¥ build ä¼šæŠ¥é”™ æˆ‘æ”¹äº†ä¸€ä¸‹æˆåŠŸå¯åŠ¨äº†
æœ¬åœ° dev çš„æ—¶å€™æ²¡é—®é¢˜ buildä¹‹å previewæŠ¥é”™äº† ä½†æ˜¯å’Œä½ çš„é”™è¯¯ä¸å¤ªä¸€æ · ä½†ä¹Ÿæ˜¯antdçš„ æ‰¾ä¸åˆ°xxx
æˆ‘æ’æŸ¥äº†ä¸€ä¸‹
ä½ çš„ `rollupOptions` è¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯æœ‰é—®é¢˜çš„
ä½ æœ¬åœ°æ³¨é‡Šæ‰ é‡æ–°build+previewè¯•è¯• å¦‚æœæŠ¥é”™å°±å¯ä»¥é”å®šåœ¨è¿™é‡Œäº†
æˆ‘è¿™é‡Œæ³¨é‡Šæ‰ä¹‹åæ²¡æŠ¥é”™äº†
![image](https://github.com/ant-design/ant-design/assets/94534613/25ac0f81-f852-4d15-b0a5-6562368d39ef)

## gouqingping

æ˜¯æˆ‘ç¯å¢ƒé—®é¢˜

## BoyYangzai

> æ˜¯æˆ‘ç¯å¢ƒé—®é¢˜

ğŸ‘Œ

## gouqingping

@BoyYangzai æˆ‘åˆšæ‰ä¹Ÿæ’æŸ¥å‡ºäº†è¿™ä¸ªé—®é¢˜ å¾ˆå°´å°¬

## BoyYangzai

> @BoyYangzai æˆ‘åˆšæ‰ä¹Ÿæ’æŸ¥å‡ºäº†è¿™ä¸ªé—®é¢˜ å¾ˆå°´å°¬

å“ˆå“ˆå“ˆå“ˆ å‡ ä¹æ˜¯åŒæ—¶å‘çš„ å¤ªå·§äº†å“ˆå“ˆå“ˆå“ˆ
æ²¡å…³ç³» æ²¡é—®é¢˜äº†å°±å¥½ğŸ¤

## gouqingping

@BoyYangzai å¤ªæ„Ÿè°¢ä½ äº†ï¼Œå¹¸è‹¦äº†
