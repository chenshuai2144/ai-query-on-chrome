# Flickering in Tabs

`needs-more-info`

### Reproduction link

https://stackblitz.com/edit/nextjs-nxw3bu?file=pages%2Findex.js

### Steps to reproduce

Set a breakpoint on the DOM tree modification

<br />

**animated={false}**:

<br />

<img width="1166" alt="Screenshot 2023-07-14 at 00 38 48" src="https://github.com/ant-design/ant-design/assets/803674/ae498b77-3363-40c5-8307-3f477ec1eecf">

<br />
<br />

**animated={true}**:

<br />

<img width="1203" alt="Screenshot 2023-07-14 at 00 29 22" src="https://github.com/ant-design/ant-design/assets/803674/324f21ba-b3a6-4edb-a2e6-1e8d064b7b7b">

### What is expected?

No flickering

### What is actually happening?

I set a breakpoint on the DOM tree modification and identified the reason why the component is flickering. The content for the clicked tab is being added below the previous one and is not being fixed.
If I make the container a fixed height, the problem goes away, but this poses a risk as the interface will only work correctly at one resolution and within only one tab.

The problem is that the previous node is not being deleted/hiding before the next one appears:

<img width="976" alt="Screenshot 2023-07-14 at 01 06 10" src="https://github.com/ant-design/ant-design/assets/803674/84b7268c-2dca-4fdc-a02b-32cce7d9a76a">

<br />
<br />

| Environment | Info           |
| ----------- | -------------- |
| antd        | 5.6.4          |
| React       | 18             |
| System      | macOS          |
| Browser     | Chrome, Safari |

---

I don't know where the [time goes](https://github.com/ant-design/ant-design/issues/43363) when the height of the tab is recalculated, but it seems like the component is broken in every sense, because in the fourth version, it was more or less alive.

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## zombieJ

Could you help provide an codesandbox or github repo instead?

## stackblitz[bot]

<a href='https://stackblitz.com/~/github.com/ant-design/ant-design/issues/43541?repros=nextjs-nxw3bu'><img src='https://developer.stackblitz.com/img/fix_this_issue_small.svg' alt='Fix this issue in StackBlitz Codeflow' align='left' width='117' height='20'></a> _Start a new pull request in [StackBlitz Codeflow](https://stackblitz.com/~/github.com/ant-design/ant-design/issues/43541?repros=nextjs-nxw3bu)._

- [**nextjs-nxw3bu** (Open reproduction)](https://stackblitz.com/edit/nextjs-nxw3bu?issueRepo=ant-design/ant-design&issueNumber=43541)

  ## monolithed

  @zombieJ, https://stackblitz.com/edit/nextjs-nxw3bu?file=pages%2Findex.js

Set a breakpoint on the DOM tree modification:

<img width="1467" alt="Screenshot 2023-07-24 at 21 59 09" src="https://github.com/ant-design/ant-design/assets/803674/204dbf23-1fcd-4edf-b2b6-0c9d6fe0c128">

## monolithed

It seems the incident with `animated={false}` is gone, possibly after the version update.

## silviaphungky

It's happened to me. I already add animated={false} but it still flickering @zombieJ @monolithed

https://github.com/ant-design/ant-design/assets/55534481/bce93f9a-6cc9-4557-9f78-bdaef47361da

## monolithed

@silviaphungky you absolutely right, I caught it again!

<img width="1424" alt="Screenshot 2023-08-01 at 17 26 54" src="https://github.com/ant-design/ant-design/assets/803674/7fe65832-6731-4c9c-8ac8-fc9606d27d48">

## Sanjeevani-octet

.ant-tabs-nav .ant-tabs-nav-wrap .ant-tabs-nav-list {
display: flex;
justify-content: center;
}
.ant-tabs-tab {
display: flex;
flex-basis: 49%;
text-align: center !important;
justify-content: center;
}

## zombieJ

I test the reproduce but not get the stack case. Could you help to check the demo?

## siddhrajcrest

I am also facing same issue in mac chrome, but not in safari, don't know what is wrong with it
