# select组件，mode="tags"时候，任意输入文字，失去焦点自动生成了tag

`unconfirmed`

### Reproduction link

[https://ant.design/components/select-cn](https://ant.design/components/select-cn)

### Steps to reproduce

https://ant.design/components/overview/官方网站中 选择select==>选择标签==>输入1111==>点击屏幕任意位置

### What is expected?

不生成tags，内容清空

### What is actually happening?

生成了tags

| Environment | Info     |
| ----------- | -------- |
| antd        | 5.7.1    |
| React       | 17.0.2   |
| System      | Apple M1 |
| Browser     | chrome   |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## sherllyLXL

所有antd版本都一样不是5.X版本独有

## Circkoooooo

> 所有antd版本都一样不是5.X版本独有

在`rc-select`里面能发现，对于失焦时候的不同类型select组件的处理逻辑就是不一样。 看样子的话你这个应该是要换一个标签了。

```javascript
if (mergedSearchValue) {
  // `tags` mode should move `searchValue` into values
  if (mode === "tags") {
    onSearch(mergedSearchValue, { source: "submit" });
  } else if (mode === "multiple") {
    // `multiple` mode only clean the search value but not trigger event
    onSearch("", {
      source: "blur",
    });
  }
}
```

```javascript
// [Submit] Tag mode should flush input
if (info.source === "submit") {
  const formatted = (searchText || "").trim();
  // prevent empty tags from appearing when you click the Enter button
  if (formatted) {
    const newRawValues = Array.from(
      new Set() < RawValueType > [...rawValues, formatted],
    );
    triggerChange(newRawValues);
    triggerSelect(formatted, true);
    setSearchValue("");
  }

  return;
}

if (info.source !== "blur") {
  if (mode === "combobox") {
    triggerChange(searchText);
  }

  onSearch?.(searchText);
}
```

## zombieJ

继 @Circkoooooo ，这个是预期行为。

如果需要不需要这个功能，可以自行 HOC 哈：
https://codesandbox.io/s/biao-qian-antd-5-7-1-forked-3prsmm?file=/demo.tsx
