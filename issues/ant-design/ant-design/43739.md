# 升级antd5 后配置ConfigProvider.config未正常生成全局CSS变量

`unconfirmed`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/antd-reproduction-template-forked-qjgfqd?file=/index.js)

### Steps to reproduce

### 配置1

1.1 配置：

```jsx
useEffect(() => {
  ConfigProvider.config({
    prefixCls: "iic-ant",
    theme: {
      primaryColor: "red", // antd 5.6.0 之前写法，不加这个无法自动生成全局变量
      // token: {
      //   // antd 5.6.0 之后写法
      //   colorPrimary: "red"
      // }
    },
  });
}, []);
```

1.2 控制台会报出警告：

```jsx
Warning: [antd: ConfigProvider] `config` of css variable theme is not work in v5. Please use new `theme` config instead.
    in App
```

但是会生成全局css变量：

````jsx
Warning: [antd: ConfigProvider] `config` of css variable theme is not work in v5. Please use new `theme` config instead.
    in App
```jsx
:root {
    --iic-ant-primary-color: rgb(255, 0, 0);
    --iic-ant-primary-color-disabled: #ffafa3;
    --iic-ant-primary-color-hover: #ff3029;
    --iic-ant-primary-color-active: #d90007;
    --iic-ant-primary-color-outline: rgba(255, 0, 0, 0.2);
    --iic-ant-primary-color-deprecated-bg: #ffeae6;
    --iic-ant-primary-color-deprecated-border: #ff887a;
    --iic-ant-primary-1: #ffeae6;
    --iic-ant-primary-2: #ffafa3;
    --iic-ant-primary-3: #ff887a;
    --iic-ant-primary-4: #ff5d52;
    --iic-ant-primary-5: #ff3029;
    --iic-ant-primary-6: #ff0000;
    --iic-ant-primary-7: #d90007;
    --iic-ant-primary-8: #b3000c;
    --iic-ant-primary-9: #8c000e;
    --iic-ant-primary-10: #66000e;
    --iic-ant-primary-color-deprecated-l-35: rgb(255, 179, 179);
    --iic-ant-primary-color-deprecated-l-20: rgb(255, 102, 102);
    --iic-ant-primary-color-deprecated-t-20: rgb(255, 51, 51);
    --iic-ant-primary-color-deprecated-t-50: rgb(255, 128, 128);
    --iic-ant-primary-color-deprecated-f-12: rgba(255, 0, 0, 0.12);
    --iic-ant-primary-color-active-deprecated-f-30: rgba(255, 234, 230, 0.3);
    --iic-ant-primary-color-active-deprecated-d-02: rgb(255, 225, 220);
}
### 配置2
```jsx
useEffect(() => {
    ConfigProvider.config({
      prefixCls: "iic-ant",
      theme: {
        // primaryColor: "red" // antd 5.6.0 之前写法，不加这个无法自动生成全局变量
        token: {
          // antd 5.6.0 之后写法
          colorPrimary: "red"
        }
      }
    });
  }, []);
````

1.2 未生成全局css变量;

### What is expected?

按照antd 5.6.0配置，正常生成全局css变量

### What is actually happening?

按照antd 5.6.0配置，未生成全局css变量

| Environment | Info                                            |
| ----------- | ----------------------------------------------- |
| antd        | 5.7.2                                           |
| React       | 17.0.1                                          |
| System      | MacBook Pro (13-inch, M1, 2020)                 |
| Browser     | Google Chrome 108.0.5359.71（正式版本） (arm64) |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## zombieJ

这个不是之前之后的写法，只是在 5.6.0 后加了一个提示。告之过去的写法在 v5 中不能动态改变主题，但是它还是会生成 css varaible 作为兼容。
`token` 的配置指的是静态方法中配置主题的方式哈~

## Obamabo

哦哦，感谢～

另外，想问一下，那配置：

```
useEffect(() => {
    ConfigProvider.config({
      prefixCls: "iic-ant",
      theme: {
        primaryColor: "red" // antd 5.6.0 之前写法，不加这个无法自动生成全局变量
      }
    });
  }, []);
```

如何解决这个警告：

```
Warning: [antd: ConfigProvider] `config` of css variable theme is not work in v5. Please use new `theme` config instead.
    in App
```

的问题呢？
