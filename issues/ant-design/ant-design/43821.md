# Form.List 在调用add函数增加后，字段的onChange事件并未调用Form.List属性中的rules进行校验

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/ji-ben-shi-yong-antd-5-7-3-forked-q3ljcx?file=/demo.tsx)

### Steps to reproduce

正如demo中的示例，点击添加按钮后会调用Form.List组件的rules属性进行校验，但当我触发了所有字段onChange时并未重新进行rules校验。

### What is expected?

当触发onChange时 能正常调用Form.List组件的rules进行校验

### What is actually happening?

触发onChange后并未触发rules校验

| Environment | Info                                                    |
| ----------- | ------------------------------------------------------- |
| antd        | 5.7.3                                                   |
| React       | 18.2.0                                                  |
| System      | windows                                                 |
| Browser     | Google Chrome 内核 114.0.5735.199（正式版本） （64 位） |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## CNunicorn6

![image](https://github.com/ant-design/ant-design/assets/37792649/bf68c202-0195-4ccb-9191-505f6b1b3a12)

## csic21

你这个rules只有在list变动以及手动触发校验才会生效，跟其他字段的onChange无关

## CNunicorn6

> 你这个rules只有在list变动以及手动触发校验才会生效，跟其他字段的onChange无关

虽然我觉得这个很奇怪，但是我查看了一下源码rc-field-form中使用shouldUpdate进行更新判断，貌似也没有别的办法了。谢谢你的解答。

```
// .....
  const shouldUpdate = (prevValue: StoreValue, nextValue: StoreValue, { source }) => {
    if (source === 'internal') {
      return false;
    }
    return prevValue !== nextValue;
  };

  return (
    <ListContext.Provider value={listContext}>
      <FieldContext.Provider value={fieldContext}>
        <Field
          name={[]}
          shouldUpdate={shouldUpdate}
          rules={rules}
          validateTrigger={validateTrigger}
          initialValue={initialValue}
          isList
          isListField={isListField ?? !!wrapperListContext}
        >
// .....
```
