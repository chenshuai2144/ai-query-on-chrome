# `<Dropdown>` performs a React state update on an unmounted component

`unconfirmed`

### Reproduction link

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/antd-reproduction-template-forked-jdj6x6?file=/index.js)

### Steps to reproduce

It will appear when the component <Dropdown> is unmounted triggered by both itself event handler or other components, as long as the dropdown menu is open or has been opened.

### What is expected?

Unmount completely without state updating

### What is actually happening?

Console reports "Warning: Can't perform a React state update on an unmounted component"

| Environment | Info                |
| ----------- | ------------------- |
| antd        | 4.24.14             |
| React       | 17.0.2              |
| System      | macOS               |
| Browser     | Chrome 117 (latest) |

---

No such warning in React 18.2.0 (latest).

Related issues: #27887

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## zombieJ

Pls upgrade React to latest version. It's not consider a bug any more.

> ### Notable Changes
>
> - No warning about setState on unmounted components: Previously, React warned about memory leaks when you call setState on an unmounted component. This warning was added for subscriptions, but people primarily run into it in scenarios where setting state is fine, **and workarounds make the code worse**. We've [remove](https://github.com/facebook/react/pull/22114) this warning.

ref: https://github.com/facebook/react/blob/main/CHANGELOG.md#react-2

duplicated of https://github.com/ant-design/ant-design/issues/41572#issuecomment-1491449544
