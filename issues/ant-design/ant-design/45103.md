# 当有两个 tree 组件时, 第二个的 defaultExpandAll 不会生效

`🤔 Need Reproduce`

### Reproduction link

[https://stackblitz.com/edit/react-dhxerd?file=demo.tsx](https://stackblitz.com/edit/react-dhxerd?file=demo.tsx)

### Steps to reproduce

在你们的 demo 里复现不了, 我是在 form 组件内部使用, 不知是否有其他用户遇到过

### What is expected?

生效

### What is actually happening?

第二个没展开

| Environment | Info      |
| ----------- | --------- |
| antd        | undefined |
| React       | 18        |
| System      | mac       |
| Browser     | chrome    |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

```jsx
<Grid.Col md={12}>
              <Input.Label>菜单权限</Input.Label>
              <Tree
                checkable
                defaultExpandAll
                checkedKeys={form.getInputProps('predefined_reports').value}
                onCheck={form.getInputProps('predefined_reports').onChange}
                treeData={treeData}
              />
            </Grid.Col>
            <Grid.Col md={12}>
              <Input.Label>字段权限</Input.Label>
              <Checkbox.Group
                style={{ width: '100%' }}
                value={form.getInputProps('reports_columns').value}
                onChange={form.getInputProps('reports_columns').onChange}
              >
                <Row>
                  {rawColumns?.map((item) => (
                    <Col span={8} key={item.key}>
                      <Checkbox value={item.key}>{item.title}</Checkbox>
                    </Col>
                  ))}
                </Row>
              </Checkbox.Group>
            </Grid.Col>
            <Grid.Col md={12}>
              <Input.Label>接口权限</Input.Label>
              <Tree
                checkable
                defaultExpandAll
                checkedKeys={form.getInputProps('permissions').value}
                onCheck={form.getInputProps('permissions').onChange}
                treeData={powerTree}
              />
            </Grid.Col>
```

## stackblitz[bot]

<a href='https://stackblitz.com/~/github.com/ant-design/ant-design/issues/45103?repros=react-dhxerd'><img src='https://developer.stackblitz.com/img/fix_this_issue_small.svg' alt='Fix this issue in StackBlitz Codeflow' align='left' width='117' height='20'></a> _Start a new pull request in [StackBlitz Codeflow](https://stackblitz.com/~/github.com/ant-design/ant-design/issues/45103?repros=react-dhxerd)._

- [**react-dhxerd** (Open reproduction)](https://stackblitz.com/edit/react-dhxerd?issueRepo=ant-design/ant-design&issueNumber=45103)

## zombieJ

大概率你的数据是异步导致的：
ref https://ant-design.antgroup.com/docs/react/faq-cn#%E5%BD%93%E6%88%91%E5%8A%A8%E6%80%81%E6%94%B9%E5%8F%98-defaultvalue-%E7%9A%84%E6%97%B6%E5%80%99%E5%AE%83%E5%B9%B6%E6%B2%A1%E6%9C%89%E7%94%9F%E6%95%88

## vaynevayne

嗯嗯, 确实是异步导致的, 多谢
