# 👑 [需求]pro-table的valueType. digit支持function类型返回

`❤️ help wanted`,`table`,`👏🏻  Welcome pr`,`AI Reply`

### 🥰 需求描述

pro-table的valueType. digit支持function类型返回
比如增加rate 与 precision字段返回.
例如原始值为1234.5.
valueType: () => ({type:'digit', rate: 2, precision: 2})
显示为12.35

<!--
详细地描述需求，让大家都能理解
-->

### 🧐 解决方案

<!--
如果你有解决方案，在这里清晰地阐述
-->

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## chenshuai2144

用filedProps 配置一下

## Renderz

> 用filedProps 配置一下

这个好像是提供给查询表单的props. 有适用于表格render时候做值预处理的么?

## chenshuai2144

透传过去的，都是传给下面的控件

> 我的意思是你提个 pr 支持一下filedProps 配置小数点  🤣

## Renderz

> 透传过去的，都是传给下面的控件
>
> > 我的意思是你提个 pr 支持一下filedProps 配置小数点  🤣

表格显示那里好改. 可编辑表格那部分的初始值设置比较恶心... 我再研究研究

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

如果是对每一行数据进行处理并显示的话，可以使用自定义render，像这样：

```JSX
import ProTable from '@ant-design/pro-table';

// 自定义render函数
const customRender = (text, record, index) => {
  const { rate, precision } = record;
  return (text / rate).toFixed(precision);
}

export default () => (
  <ProTable
    // ...其他配置
    columns={[
      {
        title: '数字',
        dataIndex: 'digit',
        valueType: () => ({
          type: 'digit',
          rate: 2,
          precision: 2,
        }),
        // 对数据进行处理并显示
        render: customRender,
      },
    ]}
  />
)
```

当我们定义了`render`后，会覆盖掉`valueType`默认的渲染逻辑，我们便可以在自定义的渲染逻辑里面进行更复杂的操作。

希望我的回答对你有所帮助。
