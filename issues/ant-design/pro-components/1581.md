# ğŸ‘‘ [éœ€æ±‚]ProTableä¸­çš„sorter

`table`,`ğŸ¤·ğŸ¼ How to use`,`ğŸ–ï¸  featrue`,`AI Reply`

### ğŸ¥° éœ€æ±‚æè¿°

ç›®å‰ProTableä¸­çš„sorterï¼Œä¼ é€’å‚æ•°çš„æ–¹å¼ä¸ºKeyï¼ˆsorter.fieldï¼‰ã€Valueï¼ˆsorter.orderï¼‰çš„æ–¹å¼ï¼Œè¿™ä¸ªæ–¹å¼ä¸é»˜è®¤çš„æœç´¢ä¼ å‚æ–¹å¼å†²çªã€‚

### ğŸ§ è§£å†³æ–¹æ¡ˆ

å»ºè®®æ”¹ä¸ºé€šè¿‡sortByä¸isAscendingä¸¤ä¸ªå‚æ•°æ¥ä¼ å€¼ã€‚å…¶ä¸­sortByä¸ºæ’åºå­—æ®µï¼ŒisAscendingä¸ºæ˜¯å¦å‡åºã€‚

### ğŸš‘ å…¶ä»–ä¿¡æ¯

æ— 

## chenshuai2144

ä½ è¿™ä¸ªæ•°æ®ç»“æ„è¡¨ç¤ºæ–¹å¼æˆ‘æœ‰ç‚¹çœ‹ä¸æ‡‚ï¼Œæœ‰å®ä¾‹å—ï¼Ÿ

## rockyxiaogang

> ä½ è¿™ä¸ªæ•°æ®ç»“æ„è¡¨ç¤ºæ–¹å¼æˆ‘æœ‰ç‚¹çœ‹ä¸æ‡‚ï¼Œæœ‰å®ä¾‹å—ï¼Ÿ

ç°æœ‰çš„ï¼š.../node_modules/@ant-design/pro-table/lib/typing.d.tsä¸­

```
/**
* @name ä¸€ä¸ªè·å¾— dataSource çš„æ–¹æ³•
*/
request?: (params: U & {
        pageSize?: number;
        current?: number;
        keyword?: string;
    }, sort: Record<string, SortOrder>, filter: Record<string, React.ReactText[]>) => Promise<RequestData<T>>;
```

sort: Record<string, SortOrder>è¿™ä¸ªå‚æ•°ä¼šä¸ToolBarä¸­é»˜è®¤çš„searchåŠŸèƒ½å†²çªã€‚

æ¯”å¦‚åœ¨åŒæ—¶åštitleå­—æ®µçš„æœç´¢å’Œæ’åºï¼š
aã€æœç´¢æ“ä½œtitle=keyword
bã€å‡åºæ“ä½œtitle=ascend
ä¼šé€ æˆtitle=ascendè¦†ç›–æ‰title=keyword

å¸Œæœ›æ”¹è¿›ä¸ºå¦‚ä¸‹æ ¼å¼ï¼š

```
request?: (params: U & {
        pageSize?: number;
        current?: number;
        keyword?: string;
    }, sortBy: string, isAscending:boolean, filter: Record<string, React.ReactText[]>) => Promise<RequestData<T>>;
```

æˆ–è€…

```
request?: (params: U & {
        pageSize?: number;
        current?: number;
        keyword?: string;
    }, sort: string, order:SortOrder, filter: Record<string, React.ReactText[]>) => Promise<RequestData<T>>;
```

## chenshuai2144

è¿˜æ˜¯æ²¡ææ‡‚ï¼Œè¿™æ ·æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Œåè€Œå¤šä¸ªä¸€ä¸ªå­—æ®µ

## shanzhaozhen

æˆ‘è§‰å¾—ç›®å‰æ’åºçš„é—®é¢˜ä¸»è¦æ˜¯é»˜è®¤å–dataIndexå­—æ®µï¼Œä½†æ˜¯å¦‚æœæ˜¯æœåŠ¡å™¨æ’åºæœ‰å¯èƒ½æ’åºçš„å®é™…å­—æ®µå¹¶ä¸æ˜¯dataIndexçš„å†…å®¹ï¼Œæ‰€ä»¥å¸Œæœ›å¯ä»¥æ·»åŠ sorterFieldçš„å­—æ®µï¼Œå¯ä»¥ç›´æ¥ä¼ åˆ°requestæ–¹æ³•ä¸­çš„sorterå­—æ®µå³å¯ï¼Œå…¶å®æ”¹åŠ¨ä¹Ÿä¸å¤§ï¼Œåªéœ€è¦ item.dataIndex æ”¹æˆ item.sorterField || item.dataIndex å³å¯ï¼ˆè¿˜æ²¡æœ‰è¯¦ç»†çœ‹è¿‡æ’åºå“ªéƒ¨åˆ†çš„æºç ï¼Œå®é™…æƒ…å†µè¿˜ä¸å¤ªäº†è§£ï¼‰ã€‚

## lazyboywu

ç›®å‰ ProTable sorter çš„æ ¹æœ¬åŸå› åœ¨äºï¼Œæ—¢ç„¶ ProTable æ˜¯åŸºäº Table ç»„ä»¶åšçš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦æ”¹å˜ Table ç»„ä»¶ä¹‹å‰è§„å®šçš„ sorter ç»“æ„ï¼Ÿ

> sortField: sorter.field,
> sortOrder: sorter.order
> // https://ant.design/components/table-cn/#components-table-demo-ajax

å¦å¤–ç€è¿™æ ·åšçš„ç›®çš„ä¸ä»…ä»…æ˜¯è¯´å¤šä¸€ä¸ªå­—æ®µçš„é—®é¢˜ï¼Œè€Œæ˜¯å› ä¸ºfieldå’Œorderæ˜¯å›ºå®šåï¼ˆstatic nameï¼‰ï¼Œæ— è®ºä»£ç ä¸­è¿˜æ˜¯å‚æ•°ä¸­è¯†åˆ«ï¼Œéƒ½å¯ä»¥æ–¹ä¾¿å¼•ç”¨è¯†åˆ«ï¼Œè€Œéæ˜¯ä¸€ä¸ªåŠ¨æ€kvç»“æ„

```json
{ "field": "xxxx", "order": "['ascend' | 'descend']" }
```

```json
{ "xxxx": "['ascend' | 'descend']" }
```

çœ‹ä¸Šé¢çš„ç»“æ„å°±èƒ½çŸ¥é“ï¼Œfieldå’Œorderæ›´æ˜“ç¼–ç å’Œä½¿ç”¨ï¼Œè€Œä¸€ä¸ªkvå°±è¦æ³›è§£æï¼ˆä¾‹å¦‚ç”¨Object.keys/Object.valuesï¼‰

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

æ˜ç™½äº†ï¼Œä½ æƒ³è¦æ·»åŠ çš„ `sorterField` å­—æ®µæ˜¯ä¸ºäº†è§£å†³ ProTable é»˜è®¤å– `dataIndex` å­—æ®µï¼Œä½†æ˜¯æœ‰äº›åº”ç”¨åœºæ™¯éœ€è¦æ˜¾å¼åœ°æŒ‡å®šæ’åºçš„å®é™…å­—æ®µçš„é—®é¢˜ã€‚

ä¸è¿‡ï¼Œå¦‚æœè¿™ä¸ªéœ€æ±‚æ˜¯ä¸ºäº†ä½¿ç”¨æœåŠ¡å™¨è¿›è¡Œæ’åºï¼Œä¸ºä»€ä¹ˆä¸èƒ½å°†éœ€è¦æ’åºçš„å®é™…å­—æ®µä¼ åˆ°æœåŠ¡ç«¯ï¼Œå†è®©æœåŠ¡ç«¯æ¥å¤„ç†æ’åºå‘¢ï¼Ÿå¦‚æœè¦è¿™æ ·åšçš„è¯ï¼Œä½ åªéœ€è¦åœ¨ request æ–¹æ³•ä¸­æ·»åŠ ä¸€ä¸ª `sortField` å‚æ•°å³å¯ï¼š

```javascript
request: (params, sorterField, sortOrder, filters) => {
  const query = {...params};
  if (sortField) {
    query.sortField = sorterField;
    query.sortOrder = sortOrder === 'descend' ? 'desc' : 'asc';
  }
  return myApi.getUsers(query, filters);
},
```

åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ query.sortField å’Œ query.sortOrder æŠŠéœ€è¦æ’åºçš„å­—æ®µå’Œæ’åºæ–¹å¼ä¼ åˆ°æœåŠ¡ç«¯ï¼Œç”±æœåŠ¡ç«¯è¿›è¡Œå®é™…çš„æ’åºã€‚è¿™ä¸ªæ–¹æ³•è¿˜å¯ä»¥ç›´æ¥è¢« ProTable çš„ `sorter` å‚æ•°ä½¿ç”¨ã€‚

ä¾‹å¦‚ï¼š

```jsx
<ProTable
  columns={columns}
  request={(params, sorter, filters) =>
    request(params, sorter.field, sorter.order, filters)
  }
/>
```

ç„¶ååœ¨èœå•æ ä¸­é€‰ä¸­ â€œNameâ€ ï¼ˆå³è¡¨æ ¼çš„ç¬¬ä¸€ä¸ªåˆ—ï¼‰æ’åºï¼Œå°±ä¼šå‘é€ä¸‹é¢çš„è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼š

```
GET /users?current=1&pageSize=20&sortField=name&sortOrder=asc
```

è¿™æ ·çš„è¯å°±ä¸éœ€è¦åœ¨è¯·æ±‚å‰æŠŠ `sorter` è½¬æ¢æˆæœåŠ¡å™¨éœ€è¦çš„æ•°æ®ç»“æ„äº†ã€‚

## chengmaoning

> > TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> > æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚
>
> æ˜ç™½äº†ï¼Œä½ æƒ³è¦æ·»åŠ çš„ `sorterField` å­—æ®µæ˜¯ä¸ºäº†è§£å†³ ProTable é»˜è®¤å– `dataIndex` å­—æ®µï¼Œä½†æ˜¯æœ‰äº›åº”ç”¨åœºæ™¯éœ€è¦æ˜¾å¼åœ°æŒ‡å®šæ’åºçš„å®é™…å­—æ®µçš„é—®é¢˜ã€‚
>
> ä¸è¿‡ï¼Œå¦‚æœè¿™ä¸ªéœ€æ±‚æ˜¯ä¸ºäº†ä½¿ç”¨æœåŠ¡å™¨è¿›è¡Œæ’åºï¼Œä¸ºä»€ä¹ˆä¸èƒ½å°†éœ€è¦æ’åºçš„å®é™…å­—æ®µä¼ åˆ°æœåŠ¡ç«¯ï¼Œå†è®©æœåŠ¡ç«¯æ¥å¤„ç†æ’åºå‘¢ï¼Ÿå¦‚æœè¦è¿™æ ·åšçš„è¯ï¼Œä½ åªéœ€è¦åœ¨ request æ–¹æ³•ä¸­æ·»åŠ ä¸€ä¸ª `sortField` å‚æ•°å³å¯ï¼š
>
> ```js
> request: (params, sorterField, sortOrder, filters) => {
>   const query = {...params};
>   if (sortField) {
>     query.sortField = sorterField;
>     query.sortOrder = sortOrder === 'descend' ? 'desc' : 'asc';
>   }
>   return myApi.getUsers(query, filters);
> },
> ```
>
> åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ query.sortField å’Œ query.sortOrder æŠŠéœ€è¦æ’åºçš„å­—æ®µå’Œæ’åºæ–¹å¼ä¼ åˆ°æœåŠ¡ç«¯ï¼Œç”±æœåŠ¡ç«¯è¿›è¡Œå®é™…çš„æ’åºã€‚è¿™ä¸ªæ–¹æ³•è¿˜å¯ä»¥ç›´æ¥è¢« ProTable çš„ `sorter` å‚æ•°ä½¿ç”¨ã€‚
>
> ä¾‹å¦‚ï¼š
>
> ```js
> <ProTable
>   columns={columns}
>   request={(params, sorter, filters) =>
>     request(params, sorter.field, sorter.order, filters)
>   }
> />
> ```
>
> ç„¶ååœ¨èœå•æ ä¸­é€‰ä¸­ â€œNameâ€ ï¼ˆå³è¡¨æ ¼çš„ç¬¬ä¸€ä¸ªåˆ—ï¼‰æ’åºï¼Œå°±ä¼šå‘é€ä¸‹é¢çš„è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼š
>
> ```
> GET /users?current=1&pageSize=20&sortField=name&sortOrder=asc
> ```
>
> è¿™æ ·çš„è¯å°±ä¸éœ€è¦åœ¨è¯·æ±‚å‰æŠŠ `sorter` è½¬æ¢æˆæœåŠ¡å™¨éœ€è¦çš„æ•°æ®ç»“æ„äº†ã€‚

è¿™ä¸ªAIå›ç­”çš„ä¸å¯¹ã€‚
ä¸Šé¢å·²ç»è¯´äº†å¢åŠ filed å’Œ orderç‹¬ç«‹ä¸¤ä¸ªå­—æ®µæ˜¯ä¸ºäº†åç«¯æ–¹ä¾¿è·å–ï¼Œtableä¹Ÿæ˜¯è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œåç«¯å¾ˆæ–¹ä¾¿å¤„ç†ã€‚ä½†ç›®å‰protableæ”¹å˜äº†è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œä½¿ç”¨{k:v}ï¼Œè¿™ç§åŠ¨æ€ç»“æ„ï¼Œåç«¯ä¸å¥½è·å–k,å’Œvã€‚
AIè¯´requestå¢åŠ ä¸¤ä¸ªå‚æ•°ï¼Œé—®é¢˜è¿™ä¸ªfunctionæ˜¯ç»„ä»¶ä¼ å…¥çš„ï¼Œè·Ÿç»„ä»¶çš„æ•°æ®ç»“æ„è®¾è®¡æœ‰å…³ï¼Œä¸æ˜¯ç”¨æˆ·å†™ä¸ªå‚æ•°åå°±æœ‰filedå’Œorderçš„ï¼Ÿéº»çƒ¦ä½œè€…çœ‹ä¸‹æ˜¯å¦èƒ½ç»§ç»­æŒ‰ç…§tableçš„sorteræ•°æ®ç»“æ„æ¥ã€‚

## WuJiY

ä½ è¿™ä¸ªå¤šåˆ—å­—æ®µæ’åºæ€ä¹ˆå¤„ç†ï¼Ÿ
