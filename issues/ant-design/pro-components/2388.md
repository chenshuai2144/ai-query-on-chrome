# ğŸ›[BUG] prolayout autoclose æ–‡æ¡£å†™çš„é»˜è®¤å€¼æ˜¯ trueï¼Œå®é™…å¡«ä»»ä½•å€¼éƒ½æœªç”Ÿæ•ˆ

### ğŸ› bug æè¿°

æ–‡æ¡£åœ°å€ï¼šhttps://procomponents.ant.design/components/layout#menu

<!--
è¯¦ç»†åœ°æè¿° bugï¼Œè®©å¤§å®¶éƒ½èƒ½ç†è§£
-->

### ğŸ“· å¤ç°æ­¥éª¤

<!--
æ¸…æ™°æè¿°å¤ç°æ­¥éª¤ï¼Œè®©åˆ«äººä¹Ÿèƒ½çœ‹åˆ°é—®é¢˜
-->

### ğŸ æœŸæœ›ç»“æœ

<!--
æè¿°ä½ åŸæœ¬æœŸæœ›çœ‹åˆ°çš„ç»“æœ
-->

### ğŸ’» å¤ç°ä»£ç 

<!--
æä¾›å¯å¤ç°çš„ä»£ç ï¼Œä»“åº“ï¼Œæˆ–çº¿ä¸Šç¤ºä¾‹
-->

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: [e.g. 4.0.0]
- umi ç‰ˆæœ¬
- æµè§ˆå™¨ç¯å¢ƒ
- å¼€å‘ç¯å¢ƒ [e.g. mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

## chenshuai2144

autoclose ä½ çš„ç†è§£æ˜¯ä»€ä¹ˆï¼Ÿ

æˆ‘è¿™é‡Œæ˜¯åšäº†ä¸€ä¸‹ mergeï¼Œæ‰“å¼€äº†ä¹‹å layout å°±ä¸ä¼šæ‰“å¼€èœå•çš„æ—¶å€™å…³é—­å…¶ä»–æ‰€æœ‰çš„èœå•

## liyupi

æŠ±æ­‰æˆ‘ç†è§£é”™äº†ï¼Œè¯·é—®æœ‰è€ƒè™‘æ”¯æŒç§»åŠ¨ç«¯ç‚¹å‡»åè‡ªåŠ¨æŠ˜å èœå•ä¹ˆ

## chenshuai2144

è¿™ä¸ªä¸ä¼šçš„ï¼Œä½ å¯ä»¥è¯•è¯• menuItemRender

## jakecastelli

Hi there ğŸ‘‹

In docs its written `autoClose` its default to `true` but in code it looks different:
![Screen Shot 2021-06-28 at 12 14 19 am](https://user-images.githubusercontent.com/38635403/123548873-ca631980-d7a5-11eb-8be1-23b1b6b797c8.png)

From my understanding `autoClose` was supposed to close the side menu on the mobile screen when the user selects an item.

Cheers

## wuhao930406

> æŠ±æ­‰æˆ‘ç†è§£é”™äº†ï¼Œè¯·é—®æœ‰è€ƒè™‘æ”¯æŒç§»åŠ¨ç«¯ç‚¹å‡»åè‡ªåŠ¨æŠ˜å èœå•ä¹ˆ
> å¯ä»¥åœ¨ app.ts

```javascript
export async function getInitialState() {
  return {
    name: "@umijs/max",
    collapsed: false,
  };
}

export const layout = ({ initialState, setInitialState }) => {
  return {
    logo: Settings?.logo,
    collapsed: initialState?.collapsed,
    onCollapse: (collapsed) => {
      setInitialState((s) => ({
        ...s,
        collapsed,
      }));
    },
    onPageChange: () => {
      setInitialState((s) => ({
        ...s,
        collapsed: true,
      }));
    },
    menu: {
      locale: false,
    },
  };
};
```

onPageChangeæ—¶å¼ºåˆ¶æ”¶èµ·èœå•
