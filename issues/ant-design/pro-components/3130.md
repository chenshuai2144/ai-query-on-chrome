# ğŸ›Formä¸­ ProFormField å¦‚ä½•è®¾ç½®èƒ½å¤Ÿå°†labelå’Œæ§ä»¶å˜æˆåŒä¸€è¡Œ

`form`,`ğŸ“¦  Need to reproduce`

### ğŸ§ é—®é¢˜æè¿°

ç›®å‰Formä¸­åµŒå¥—ProFormFieldä½¿ç”¨ï¼Œæ— è®ºå¦‚ä½•æ”¹å˜Formä¸­çš„layout é¡µé¢è¡¨å•é¡¹æ˜¾ç¤ºéƒ½æ˜¯lableå ç”¨ä¸€è¡Œï¼Œæ§ä»¶å ç”¨ä¸€è¡Œ
![image](https://user-images.githubusercontent.com/61463534/123926649-aaf30900-d9be-11eb-873a-f3d96b36c5f3.png)

## lzm0x219

ProFormç»„ä»¶çš„layoutå±æ€§

## ZhengHuang-20

> ProFormç»„ä»¶çš„layoutå±æ€§

è¯•äº†ä¸è¡Œ

## lzm0x219

show code

## ZhengHuang-20

```
  <ProForm
            {...{
              labelCol: { span: 8 },
              wrapperCol: { span: 16 },
            }}
            layout="horizontal"
            key={index}
            requiredMark={true}
            form={form}
            style={{ marginBottom: '20px' }}
          >
            {tpItem.columns.map((columnsItem, index) => {
              if (columnsItem.valueType) {
                if (columnsItem.enumType || columnsItem.searchHelp) {
                  return (
                    <ProFormField
                      style={{ flexDirection: 'row' }}
                      key={`columnsItem.dataIndex${index}`}
                      label={columnsItem.title}
                      name={columnsItem.dataIndex}
                      fieldProps={{
                        showSearch: true,
                        optionFilterProp: 'label',
                        // filterOption: (input, option) => { return option.props.children.indexOf(input) >= 0 },
                        allowClear: true,
                      }}
                      rules={
                        columnsItem.required
                          ? [{ required: true, message: `è¯·è¾“å…¥ ${columnsItem.title}!` }]
                          : []
                      }
                      mode={columnsItem.readOnly ? 'read' : 'edit'}
                      placeholder="æ¨¡ç³Šæœç´¢"
                      valueType={columnsItem.valueType}
                      width="md"
                      onChange={(code, obj) => {
                        if (columnsItem.child) {
                          changeColumns(columnsItem.child, columnsItem.dataIndex);
                        }
                        // debugger
                        if (columnsItem.searchHelp || columnsItem.enumType) {
                          let codeKey = `${columnsItem.dataIndex.replace('Code', '')}Name`;
                          // debugger
                          if (columnsItem.valueType === 'select') {
                            if (obj) {
                              nameObj[codeKey] = obj['data-item'].label;
                            }
                          } else if (columnsItem.valueType === 'radio') {
                            if (code) {
                              nameObj[codeKey] = code.target.label;
                            }
                          }
                          setNameObj({ ...nameObj });
                        }
                      }}
                      request={async ({ keyWords }) => {
                        if (columnsItem.enumType) {
                          let enumArr = await getDicEnum(columnsItem.enumType);
                          new Promise((resolve) => {
                            recordEnum(columnsItem, enumArr.arr);
                            resolve();
                          }).then(() => {
                            console.log('ç¡®å®šæ‰§è¡Œå®Œå•¦');
                          });

                          return enumArr.arr;
                        }
                        if (columnsItem.searchHelp && !columnsItem.parent) {
                          let enumArr = await getSearchHelpArr(columnsItem.searchHelp, {
                            name: keyWords,
                          });
                          new Promise((resolve) => {
                            recordEnum(columnsItem, enumArr);
                            resolve();
                          }).then(() => {
                            console.log('ç¡®å®šæ‰§è¡Œå®Œå•¦');
                          });

                          return enumArr;
                        } else {
                          return [];
                        }
                      }}
                    />
                  );
                } else {
                  return (
                    <ProFormField
                      key={index}
                      label={columnsItem.title}
                      name={columnsItem.dataIndex}
                      rules={
                        columnsItem.required
                          ? [{ required: true, message: `è¯·è¾“å…¥ ${columnsItem.title}!` }]
                          : []
                      }
                      mode={columnsItem.readOnly ? 'read' : 'edit'}
                      valueType={columnsItem.valueType}
                      width="md"
                      onChange={(...a) => {
                        if (columnsItem.valueType.indexOf('date') != -1) {
                          setTimeout(() => {
                            form.setFieldsValue({ [columnsItem.dataIndex]: a[1] });
                          }, 0);
                        }
                      }}
                    />
                  );
                }
              }
            })}
          </ProForm>
```

## lzm0x219

ç›´æ¥è„‘æº¢è¡€...

## chenshuai2144

è¯•äº†ä¸€ä¸‹å¯ä»¥çš„ï¼Œæ¥ä¸ª codesandbox æŠŠ

## ZhengHuang-20

> è¯•äº†ä¸€ä¸‹å¯ä»¥çš„ï¼Œæ¥ä¸ª codesandbox æŠŠ

è§£å†³äº† layoutåº”è¯¥åœ¨Modalè¿›è¡Œè®¾ç½®ï¼ŒProFormå¤–è¾¹è¿˜æœ‰ä¸€ä¸ªModal

## zzzy1826

> > è¯•äº†ä¸€ä¸‹å¯ä»¥çš„ï¼Œæ¥ä¸ª codesandbox æŠŠ
>
> è§£å†³äº† layoutåº”è¯¥åœ¨Modalè¿›è¡Œè®¾ç½®ï¼ŒProFormå¤–è¾¹è¿˜æœ‰ä¸€ä¸ªModal

å¯ä»¥é—®ä¸‹å¦‚ä½•è§£å†³çš„å—ï¼Œæˆ‘ç”¨çš„ModalFormï¼Œä½¿ç”¨layoutï¼Œä½†é‡Œé¢çš„ProFormDigitè¡¨å•é¡¹å’Œlabelè¿˜æ˜¯ä¸åœ¨ä¸€è¡Œ
