# 👑 [需求] EditableProTable，可以实现合并单元格吗？

`AI Reply`

### 🥰 需求描述

可编辑表格，可否实现合并单元格？类似下面这个原型

### 🧐 解决方案

我暂时没有解决方案

### 🚑 其他信息

![image](https://user-images.githubusercontent.com/18433582/138039573-1976af3a-6443-4697-bcda-88cd5a72458d.png)

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

您好，感谢您在 Github 的 issue 中提出了问题。关于您的问题，我可以提供以下解决方案来实现EditableProTable的单元格合并功能：

目前 EditableProTable 官方文档并没有提供单元格合并的 API。但您可以通过 antd Table 组件上的 API 实现单元格合并。具体实现方式如下：

1. 修改 EditableProTable 组件导入 antd Table 组件。

```jsx
import { Table } from "antd"; // 引入 antd Table 组件
```

2. 添加“columns”属性，定义表格列的具体设置。

```jsx
const columns: ColumnsType<DataSourceType> = [
  {
    title: 'Name',
    dataIndex: 'name',
    key: 'name',
    width: '30%',
    editable: true,
  },
  {
    title: 'Age',
    dataIndex: 'age',
    key: 'age',
    width: '20%',
    editable: true,
  },
  {
    title: 'Address',
    dataIndex: 'address',
    key: 'address',
    width: '40%',
    editable: true,
  },
];
```

3. 在 Table 组件上添加“onCell”属性，实现单元格合并。

```jsx
<Table
  components={{ body: { cell: EditableCell } }}
  bordered
  dataSource={dataSource}
  columns={columns}
  rowClassName={() => 'editable-row'}
  pagination={{ pageSize: 50 }}
  onCell={(record: any, rowIndex: number) => ({
    rowSpan:
      rowIndex === 0 ||
      dataSource[rowIndex - 1].name !== record.name ||
      dataSource[rowIndex - 1].age !== record.age
        ? 1
        : 0,
  })}
/>
```

在 onCell 中，我们实现了单元格合并。通过判断当前单元格的前一行是否和当前行的数据相同，如果相同，则将 rowSpan 设置为 0，使得该单元格不会显示出来，而前一行的单元格则可以跨越当前行的合并单元格占据的位置。

以上是我为您提供的一种实现方式，如果您有其他疑问或者问题，请继续在 Github issue 中提出来，我将会继续帮您解决问题。
