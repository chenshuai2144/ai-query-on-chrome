# 🐛[BUG] ProFormTextArea 使用onChange时，onChange内部拿不到useState的正确值。

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

<!--
详细地描述 bug，让大家都能理解
-->

代码如下，在修改描述的时候，会清空第一个输入框的值。是因为onchange没拿到正确的form值

### 📷 复现步骤

<!--
清晰描述复现步骤，让别人也能看到问题
-->

### 🏞 期望结果

<!--
描述你原本期望看到的结果
-->

### 💻 复现代码

<!--
提供可复现的代码，仓库，或线上示例
-->

```tsx
import React, { useState } from "react";
import { Input } from "antd";
import { ProFormTextArea } from "@ant-design/pro-form";
export default () => {
  const [form, setForm] = useState({});
  console.log(form);
  const getForm = () => form;
  return (
    <div>
      <Input
        value={form.name}
        onChange={(e: { target: { value: string } }) => {
          const value = e.target.value;
          const restForm = Object.assign({}, form);
          restForm.name = value;
          console.log(restForm);
          setForm(restForm);
        }}
      />
      <ProFormTextArea
        label="描述"
        fieldProps={{
          value: form.desc,
          onChange: (e: { target: { value: string } }) => {
            const value = e.target.value;
            const restForm = Object.assign({}, form);
            restForm.desc = value;
            setForm(restForm);
          },
        }}
      />
    </div>
  );
};
```

### © 版本信息

- ProComponents 版本: [e.g. 4.0.0]
- umi 版本
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## darknessjs

codesandbox:
https://codesandbox.io/s/ji-ben-shi-yong-forked-3m3vg?file=/App.tsx

## chenshuai2144

form就用form的工作，不要用这种黑科技

## darknessjs

1.没有用form，用Proform只是用了统一的label的样式
2.value+onChange的受控组件也叫黑科技了？

## chenshuai2144

ProFormTextArea 不是 TextArea。

你用了form 就不要用这种重写onchange的方法，因为value 和 onchange 被form 劫持了
