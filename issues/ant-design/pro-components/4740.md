# 🐛[BUG] ProFormUploadButton设置max=1，有fileList值为一条数据时，仍然显示上传按钮

### 🐛 bug 描述

<!--
详细地描述 bug，让大家都能理解
-->

用antd实现的是正常的

链接：https://codesandbox.io/s/shang-chuan-qian-cai-qie-tu-pian-antd-4-18-9-forked-riyq6t?file=/index.js

### 📷 复现步骤

用proFormUploadButton 显示错误

示例代码： https://codesandbox.io/s/shang-chuan-biao-dan-forked-be7eir?file=/App.tsx

<!--
清晰描述复现步骤，让别人也能看到问题，如果可能，尽量提供可执行代码，
如：https://codesandbox.io/ 在此处创建一个 codesandbox，方便我们更快的排查和复现问题
-->

### 🏞 期望结果

有fileList时，不展示上传按钮

<!--
描述你原本期望看到的结果
-->

### 💻 复现代码

https://codesandbox.io/s/shang-chuan-biao-dan-forked-be7eir?file=/App.tsx

<!--
提供可复现的代码，仓库，或线上示例
-->

### © 版本信息

- ProComponents 版本: [e.g. 4.0.0]
- umi 版本
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->
<img width="533" alt="image" src="https://user-images.githubusercontent.com/15198091/155978767-c5732b31-eceb-483e-a73a-5d96b5ca185d.png">

antd示例图

<img width="833" alt="image" src="https://user-images.githubusercontent.com/15198091/155978864-e3f3277b-d7ce-4956-80de-be4784083eda.png">

## Dunqing

在pro-components的世界里，传递值的属性都是value，ProFormUploadButton接收value会透传给fileList

不过也同时支持传递fileList，这里是一个bug没判断fileList的个数

改成这样就正常了

```typescript
      <ProFormUploadButton
        name="upload"
        label="Upload"
        max={1}
        value={fileList}
        fieldProps={{
          name: "file",
          listType: "picture-card"
        }}
        action="/upload.do"
        extra="longgggggggggggggggggggggggggggggggggg"
      />
```

## gaoobin

**哪个版本把这个bug修复了？**
给的这个解决方案有点扯，不应该是组件自己去判断数量吗
