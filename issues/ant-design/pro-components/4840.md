# 🧐[问题] StepsForm分部表单如何动态处理分部表单的个数

比如点击某个按钮，隐藏某一个分布表单，在点击显示出来

## chenshuai2144

这些 API 应该够了

```tsx
type StepsFormProps<T = Record<string, any>> = {
  /**
   * 返回 true 会重置步数，并且清空表单
   *
   * @name 提交方法
   */
  onFinish?: (values: T) => Promise<boolean | void>;
  current?: number;
  stepsProps?: StepsProps;
  formProps?: ProFormProps<T>;
  onCurrentChange?: (current: number) => void;
  /** 自定义步骤器 */
  stepsRender?: (
    steps: {
      key: string;
      title?: React.ReactNode;
    }[],
    defaultDom: React.ReactNode,
  ) => React.ReactNode;
  /** @name 当前展示表单的 formRef */
  formRef?: React.MutableRefObject<FormInstance<any> | undefined>;
  /** @name 所有表单的 formMapRef */
  formMapRef?: React.MutableRefObject<
    React.MutableRefObject<FormInstance<any> | undefined>[]
  >;
  /**
   * 自定义单个表单
   *
   * @param form From 的 dom，可以放置到别的位置
   */
  stepFormRender?: (from: React.ReactNode) => React.ReactNode;

  /**
   * 自定义整个表单区域
   *
   * @param form From 的 dom，可以放置到别的位置
   * @param submitter 操作按钮
   */
  stepsFormRender?: (
    from: React.ReactNode,
    submitter: React.ReactNode,
  ) => React.ReactNode;
  /** 按钮的统一配置，优先级低于分步表单的配置 */
  submitter?:
    | SubmitterProps<{
        step: number;
        onPre: () => void;
        form?: FormInstance<any>;
      }>
    | false;

  containerStyle?: React.CSSProperties;
} & FormProviderProps;
```

## haobarry

@chenshuai2144 我也有这个需求 能说下用哪个API嘛? 就是根据上一步的选项减少一个步骤这样..

## supercat55

解决了吗，动态展示子step的数量

## chenshuai2144

动态生成 StepForm 不行吗？

## supercat55

> 动态生成 StepForm 不行吗？

目前有种需求是根据第一步选择的数据，再来展示不同数量的step

## marchFantasy

```js
// 可以利用stepsRender属性，自定义步骤条，参考如下
 stepsRender={(steps, dom) => {
     // 根据业务逻辑，保留3个步骤
      if (needFilter) {
        return (
          <Steps current={current}>
            {[
              { title: '步骤1', key: 0 },
              { title: '步骤2', key: 1 },
              { title: '步骤3', key: 2 },
            ].map((item) => (
              <Steps.Step key={item.key} title={item.title} />
            ))}
          </Steps>
        );
      }
    // 默认返回4个步骤
      return dom;
    }}
```
