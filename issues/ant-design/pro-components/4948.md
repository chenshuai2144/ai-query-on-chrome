# 🧐[问题] How to customize label/value output in light ProFormSelect

`form`,`🎖️  featrue`,`AI Reply`

### 🧐[问题] Customizing the label/value output in light ProFormSelect

I am attempting to try and customize the "selected" value of a ProFormSelect item. Right now when I selected multiple items, it puts them in an array and then adds `...7items` to the end.
![Screen Shot 2022-03-24 at 2 39 29 PM](https://user-images.githubusercontent.com/2111847/159987534-da05afa7-b8af-4ac7-ba41-b3ca97761305.png)

I would like to be able to customize that text/string to be something like "7 items selected" or similar based on different parameters. Even customizing the text to include a space in between `7items` would be nice.

### :computer: 示例代码

Note: This component is within a regular `<ProForm>` and the `<ProFormSelect>` has the `proFieldProps: { light: true }`.

```
<ProFormSelect
  proFieldProps={{
    light: true
  }}
  placeholder="Status"
  name="Status"
  mode="multiple"
  fieldProps={{
    labelInValue: true,
  }}
  options={statusKeys}
/>
```

**Code Sandbox with different attempts:** https://codesandbox.io/s/schema-biao-dan-forked-zdgdxr?file=/App.tsx:2542-3375

1. The first thing I tried was to utilize the `lightProps: { labelFormatter: (value) => value }` option but that didn't work.
2. Next I tried using the `filedConfig={{ lightFilterLabelFormatter: (value) => value }` option but that didn't work
3. I also tried changing the `proFieldProps={{ mode: 'edit' }}` to see if that would initialize the `LightSelect` but that also didn't work.
4. Customizing the `label` property leads to just adding a label before the outputted value

### :ambulance: 其他信息

The reason we are utilizing the `proFieldProps={{ light: true }}` is because we are combining the styling of LightFilters with regular filters so thus it has to be wrapped in a `<ProForm>` and not in a table

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

#### :mag_right: 解决方案

To customize the label/value output in a light ProFormSelect, you can use the `fieldConfig: { lightFilterLabelFormatter: (value) => {} }` option to customize the output.

Here's an example of how to implement this:

```jsx
import React from "react";
import { ProFormSelect } from "@ant-design/pro-form";

const statusKeys = [
  { label: "Pending", value: "pending" },
  { label: "Active", value: "active" },
  { label: "Completed", value: "completed" },
];

const labelFormatter = (items) => {
  if (items && items.length > 0)
    return `${items.length} item${items.length > 1 ? "s" : ""} selected`;
  return "Select";
};

const fieldConfig = {
  lightFilterLabelFormatter: (value) => {
    if (value && value.length > 0) {
      const labels = value.map((item) => item.label);
      return labelFormatter(labels);
    }
    return "Select";
  },
};

const App = () => {
  return (
    <ProFormSelect
      proFieldProps={{
        light: true,
        fieldConfig,
      }}
      placeholder="Status"
      name="Status"
      mode="multiple"
      fieldProps={{
        labelInValue: true,
      }}
      options={statusKeys}
    />
  );
};

export default App;
```

In this example, the `lightFilterLabelFormatter` option is used to customize the output of the selected items in the ProFormSelect. The `value` parameter contains the array of selected items, and the code uses the `labelFormatter` method to create the desired output.

`labelFormatter` check if there are any items and returns a formatted string that replaces "...7items" to "7 items selected".

```jsx
const labelFormatter = (items) => {
  if (items && items.length > 0)
    return `${items.length} item${items.length > 1 ? "s" : ""} selected`;
  return "Select";
};
```

With this solution, you can customize the label/value output of a ProFormSelect in a light ProForm setup.
