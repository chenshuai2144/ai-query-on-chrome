# ğŸ›[BUG]Next-ProLayout ä¸­ä½¿ç”¨ PageContainer æ—¶ breadcrumbä¸ä¼šæ˜¾ç¤º

`â­•ï¸   bug`,`layout`,`AI Reply`

![image](https://user-images.githubusercontent.com/21276534/161751159-af39df6d-cfff-4065-b066-46eef62d1420.png)

è¿˜æœ‰å°±æ˜¯å·¦ä¾§çš„èœå•æ  3çº§èŠ‚ç‚¹é€‰ä¸­æ—¶,å¤ªä¸‘äº†....

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

æ‚¨å¥½ï¼Œæ„Ÿè°¢æ‚¨å‘æˆ‘ä»¬æŠ¥å‘Šè¯¥é—®é¢˜ã€‚

é’ˆå¯¹æ‚¨æåˆ°çš„ä¸¤ä¸ªé—®é¢˜ï¼š

1. Next-ProLayout ä¸­ä½¿ç”¨ PageContainer æ—¶ breadcrumbä¸æ˜¾ç¤º

å¯ä»¥é€šè¿‡è®¾ç½® `breadcrumbRender` å±æ€§æ¥è§£å†³è¯¥é—®é¢˜ã€‚å…·ä½“åšæ³•æ˜¯åœ¨ `PageContainer` æ ‡ç­¾ä¸­æ·»åŠ  `breadcrumbRender` å±æ€§ï¼Œè¿™ä¸ªå±æ€§å€¼éœ€è¦æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºæ ¹æ®å½“å‰è·¯ç”±ä¿¡æ¯ç”Ÿæˆé¢åŒ…å±‘ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç¤ºä¾‹ä»£ç ï¼š

```jsx
import ProLayout, { PageContainer } from "@ant-design/pro-layout";
import { Breadcrumb } from "antd";
import { Link } from "umi";

const breadcrumbMap = {
  "/dashboard": "Dashboard",
  "/dashboard/analysis": "Analysis",
  "/dashboard/monitor": "Monitor",
  "/dashboard/workplace": "Workplace",
};

const breadcrumbRender = (routers = []) => {
  const last = routers.pop();
  return (
    <Breadcrumb>
      {routers.map((router) => (
        <Breadcrumb.Item key={router.path}>
          <Link to={router.path}>{breadcrumbMap[router.path]}</Link>
        </Breadcrumb.Item>
      ))}
      {last && <Breadcrumb.Item>{breadcrumbMap[last.path]}</Breadcrumb.Item>}
    </Breadcrumb>
  );
};

export default (props) => {
  const {
    location: { pathname },
  } = props;
  return (
    <ProLayout
      {...props}
      location={{ pathname }}
      breadcrumbRender={breadcrumbRender}
    >
      <PageContainer />
    </ProLayout>
  );
};
```

å…¶ä¸­ `breadcrumbMap` å¯¹è±¡ç”¨äºå­˜å‚¨æ¯ä¸ªè·¯ç”±å¯¹åº”çš„é¢åŒ…å±‘åç§°ï¼Œ`breadcrumbRender` å›è°ƒå‡½æ•°åˆ™æ˜¯ç”¨äºæ ¹æ®å½“å‰è·¯ç”±ä¿¡æ¯ç”Ÿæˆé¢åŒ…å±‘ã€‚

2. å·¦ä¾§çš„èœå•æ  3çº§èŠ‚ç‚¹é€‰ä¸­æ—¶ï¼Œæ ·å¼ä¸ç¾è§‚

å¯ä»¥é€šè¿‡è‡ªå®šä¹‰èœå•æ çš„ `menuItemRender` å±æ€§æ¥è‡ªå®šä¹‰èœå•é¡¹çš„æ¸²æŸ“æ•ˆæœã€‚å…·ä½“æ–¹æ³•æ˜¯åœ¨ `ProLayout` æ ‡ç­¾ä¸­æ·»åŠ  `menuItemRender` å±æ€§ï¼Œè¿™ä¸ªå±æ€§å€¼éœ€è¦æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºç”Ÿæˆæ¯ä¸ªèœå•é¡¹çš„ HTML ç»“æ„ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç¤ºä¾‹ä»£ç ï¼š

```jsx
import ProLayout from "@ant-design/pro-layout";
import { history } from "umi";
import { Icon } from "@ant-design/compatible";
import { QuestionCircleOutlined } from "@ant-design/icons";

const menuItemRender = (menuItemProps, defaultDom) => {
  if (menuItemProps.isUrl) {
    return defaultDom;
  }

  const { path, icon, name, children } = menuItemProps;
  if (children && children.length > 0) {
    return (
      <li className="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open ant-menu-submenu-selected ant-menu-submenu-selected-start">
        <div className="ant-menu-submenu-title">
          {icon && <Icon type={icon} />}
          <span>{name}</span>
        </div>
        {children}
      </li>
    );
  }

  return (
    <li
      onClick={() => {
        history.push(path);
      }}
      style={{ padding: "0 20px" }}
    >
      {defaultDom}
    </li>
  );
};

export default (props) => {
  const {
    children,
    location: { pathname },
  } = props;
  return (
    <ProLayout
      {...props}
      menuItemRender={menuItemRender}
      selectedKeys={[pathname]}
    >
      {children}
    </ProLayout>
  );
};
```

å…¶ä¸­ `menuItemProps` å¯¹è±¡åŒ…å«äº†èœå•é¡¹çš„å®Œæ•´ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡è¯¥å¯¹è±¡é‡æ„ç”Ÿæˆè‡ªå®šä¹‰çš„èœå•é¡¹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä»…é’ˆå¯¹åŒ…å«å­èœå•çš„èœå•é¡¹è¿›è¡Œäº†è‡ªå®šä¹‰æ ·å¼çš„å¼€å‘ã€‚

è‡³æ­¤ï¼Œä¸¤ä¸ªé—®é¢˜éƒ½è§£å†³å®Œæ¯•ã€‚å¸Œæœ›å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚
