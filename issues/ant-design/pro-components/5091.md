# 🐛[BUG] ModalForm 第一次打开时 setFieldsValue 无效

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

<!--
详细地描述 bug，让大家都能理解
-->

使用 ModalForm 组件时，通过 visible 属性控制弹窗的展示或隐藏。
第一次打开 ModalForm 时，`formRef.current?.setFieldsValue()` 无效；关闭对话框，再次打开时，setFieldsValue 才会生效

### 📷 复现步骤

<!--
清晰描述复现步骤，让别人也能看到问题，如果可能，尽量提供可执行代码，
如：https://codesandbox.io/ 在此处创建一个 codesandbox，方便我们更快的排查和复现问题
-->

https://codesandbox.io/s/shi-yong-visible-he-onvisiblechange-forked-qtypdx?file=/App.tsx

### 🏞 期望结果

第一次打开 ModalForm 时，`formRef.current?.setFieldsValue()` 有效

<!--
描述你原本期望看到的结果
-->

### 💻 复现代码

<!--
提供可复现的代码，仓库，或线上示例
-->

### © 版本信息

- ProComponents 版本: [e.g. 4.0.0]
- pro-form: [1.64.1]
- umi 版本
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## Dunqing

same issue #5083

## terrysGp

有找到解决办法吗？
