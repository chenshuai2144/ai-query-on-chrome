# ğŸ›[BUG] å‡çº§ ant 4.2.0 Warning: [antd: Menu] `children` will be removed in next major version. Please use `items` instead.

Warning: [antd: Menu] `children` will be removed in next major version. Please use `items` instead.

## chenshuai2144

ref to https://github.com/ant-design/pro-components/commit/e7606ff2990719402b14d7bc1c2b32c2113ccfac

## puxiao

ä¿®æ”¹å¦‚ä¸‹å³å¯è§£å†³ï¼š

```diff
- <Menu>
-    <Menu.Item> ... </Menu.Item>
- </Menu>

+ const menuItems = [
+    {
+        key: 'center',
+        icon: <UserOutlined />,
+        label: 'ä¸ªäººä¸­å¿ƒ',
+    },
+    {
+        key: 'settings',
+        icon: <SettingOutlined />,
+        label: 'ä¸ªäººè®¾ç½®',
+    },
+    {
+        key: 'logout',
+        icon: <LogoutOutlined />,
+        label: 'é€€å‡ºç™»å½•',
+    },
+];
+ <Menu items={menuItems} />
```

æ›´å¤šç¤ºä¾‹å¯å‚è€ƒï¼š

https://github.com/ant-design/ant-design/pull/34559/commits/72468a2015f5aa7397d9b41792adc8f50e4f93ab

## gudh

anyone knows how to add className to menu item?

Seems [there](https://ant.design/components/menu/#MenuItemType) isn't a property for adding CSS classes

Before, v4.20.0, I was adding it directly to `Menu.item`

```jsx
<Menu.Item className="blabla"> ... </Menu.Item>
```

**Update**: I found the solution, actually `className` property is supported

```js
        {
            label: (
                <div>
                    Login
                </div>
            ),
            key: '1',
            className: 'd-md-none', // <-- Just add them here
        },
```

## zhugexinxin

![image](https://user-images.githubusercontent.com/42615243/165548526-dee84767-9ced-4050-9aa3-fa0495c53d05.png)
åœ¨antdproé‡Œå·²ç»å°†src/components/RightContent/AvatarDropdown.tsxæ–‡ä»¶åšäº†ä¿®æ”¹è¿˜æ˜¯æŠ¥è¿™ä¸ªè­¦å‘Š
![image](https://user-images.githubusercontent.com/42615243/165548738-4e143524-8000-436f-97c6-2c6df3b4d0e8.png)
çœ‹èµ·æ¥æ˜¯åƒæ˜¯ä¾§è¾¹æ çš„å°è£…é‡ŒæŠ¥çš„

## puxiao

@zhugexinxin æˆ‘çœ‹äº†ä¸€ä¸‹æºç ï¼š
https://github.com/ant-design/ant-design/blob/master/components/menu/index.tsx

```
devWarning(
    !!items && !children,
    'Menu',
    '`children` will be removed in next major version. Please use `items` instead.',
);
```

devWarning = (valid: boolean, component: string, message: string): void => { ... }

devWarning() ç¬¬ä¸€ä¸ªå‚æ•°å€¼åº”è¯¥ä¸º false(æ— æ•ˆ) æ—¶ä¼šå‘å‡ºè­¦å‘Šã€‚

æŒ‰ç…§ `!!items && !children` è¿™ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† itemsï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨ children æƒ…å†µä¸‹ï¼Œå…¶ç»“æœä¸º true(æœ‰æ•ˆ)ï¼Œç¡®å®ä¸åº”è¯¥æŠ¥è¿™ä¸ªè­¦å‘Šäº†ã€‚

## zhouzyc

ä¸€æ ·é—®é¢˜ï¼š
<img width="1038" alt="image" src="https://user-images.githubusercontent.com/18420689/165660382-93e0c79c-d8ff-4bb2-8ef1-05a8cf0e3a5a.png">
çœ‹è¿™ä¸ªé”™è¯¯åº”è¯¥æ˜¯ä¾§è¾¹æ æŠ¥å‡ºæ¥çš„ï¼Œç›®å‰è¿˜æ˜¯ä¸€ç›´å­˜åœ¨

## Mankvis

åŒæ ·çš„é—®é¢˜ï¼Œæš‚æœªè§£å†³

## zhugexinxin

> @zhugexinxin æˆ‘çœ‹äº†ä¸€ä¸‹æºç ï¼š https://github.com/ant-design/ant-design/blob/master/components/menu/index.tsx
>
> ```
> devWarning(
>     !!items && !children,
>     'Menu',
>     '`children` will be removed in next major version. Please use `items` instead.',
> );
> ```
>
> devWarning = (valid: boolean, component: string, message: string): void => { ... }
>
> devWarning() ç¬¬ä¸€ä¸ªå‚æ•°å€¼åº”è¯¥ä¸º false(æ— æ•ˆ) æ—¶ä¼šå‘å‡ºè­¦å‘Šã€‚
>
> æŒ‰ç…§ `!!items && !children` è¿™ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† itemsï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨ children æƒ…å†µä¸‹ï¼Œå…¶ç»“æœä¸º true(æœ‰æ•ˆ)ï¼Œç¡®å®ä¸åº”è¯¥æŠ¥è¿™ä¸ªè­¦å‘Šäº†ã€‚

layoutç‰ˆæœ¬æˆ‘å°è¯•å‡çº§åˆ°æœ€æ–°ä¹Ÿæ˜¯å¦‚æ­¤

## Mankvis

> ![image](https://user-images.githubusercontent.com/42615243/165548526-dee84767-9ced-4050-9aa3-fa0495c53d05.png)
>
> åœ¨antdproé‡Œå·²ç»å°†src/components/RightContent/AvatarDropdown.tsxæ–‡ä»¶åšäº†ä¿®æ”¹è¿˜æ˜¯æŠ¥è¿™ä¸ªè­¦å‘Š
>
> ![image](https://user-images.githubusercontent.com/42615243/165548738-4e143524-8000-436f-97c6-2c6df3b4d0e8.png)
>
> çœ‹èµ·æ¥æ˜¯åƒæ˜¯ä¾§è¾¹æ çš„å°è£…é‡ŒæŠ¥çš„

è¯·é—®æ‚¨è¿™ä¸ªé—®é¢˜è§£å†³äº†å—

## chenshuai2144

å·²ç»å‘å¸ƒäº†æ–°ç‰ˆæœ¬äº†ï¼Œæ›´æ–°ä¸€ä¸‹

## Es-Rell

> å·²ç»å‘å¸ƒäº†æ–°ç‰ˆæœ¬äº†ï¼Œæ›´æ–°ä¸€ä¸‹

@ant-design/pro-layout v6.35.0 Â æœ€æ–°ç‰ˆé—®é¢˜ä¾æ—§

## dake0505

> > å·²ç»å‘å¸ƒäº†æ–°ç‰ˆæœ¬äº†ï¼Œæ›´æ–°ä¸€ä¸‹
>
> @ant-design/pro-layout v6.35.0 Â æœ€æ–°ç‰ˆé—®é¢˜ä¾æ—§
> V6.37.0 é—®é¢˜ä¾æ—§

## zhouzyc

> å·²ç»å‘å¸ƒäº†æ–°ç‰ˆæœ¬äº†ï¼Œæ›´æ–°ä¸€ä¸‹

æ–°ç‰ˆæœ¬çš„npmä¼¼ä¹æ²¡æœ‰å‘å¸ƒ
<img width="1329" alt="image" src="https://user-images.githubusercontent.com/18420689/166853575-2d3a1a01-c257-40d8-8ed8-4c70b771a897.png">

## ImJasonIT

@ant-design/pro-layout v6.35.0 æœ€æ–°ç‰ˆé—®é¢˜ä¾æ—§

## Es-Rell

å¼ºåˆ¶æ›´æ–°6.37.0å·²è§£å†³

## xingw-z

æ›´æ–°äº† @ant-design/pro-layout@6.37.0 ä¹Ÿæ²¡æœ‰è§£å†³

## zhangyuezhong

æˆ‘ç”¨antd 4.20.6,æ²¡æœ‰ä½¿ç”¨pro-layoutï¼Œ ä¹Ÿå‡ºç°è¿™ä¸ªè­¦å‘Šã€‚

## puxiao

æˆ‘çœ‹ä½ ä»¬è¿˜åœ¨è¯´è¿™ä¸ªäº‹æƒ…ï¼Œ2 å‘¨å‰æˆ‘å¿˜äº†å‡çº§å“ªä¸ªåŒ…ä¹‹åå°±ä¸å†æŠ¥è¿™ä¸ªè­¦å‘Šäº†ã€‚

åæ¥ ant-pro å®˜æ–¹ä¹Ÿå‡çº§äº†ç‰ˆæœ¬ï¼Œç›®å‰æœ€æ–°ç‰ˆçš„ ant-proï¼Œå·²ç»ä¸æŠ¥è¿™ä¸ªé”™è¯¯äº†ã€‚

## Junaid300

I have impletement onClick event on Menu.Item
`<Menu >
      <Menu.Item key={1} onClick={handleLogOut}>
        Log Out
      </Menu.Item>
    </Menu>`
I was getting this warning
![image](https://user-images.githubusercontent.com/66414908/170932628-9f625dd3-b15a-4d68-8196-4d219c0f69ed.png)

and changed my code to this.

`<Menu  items={item} />`
Now how can i implement onClick event ?

## choi2k

> I have impletement onClick event on Menu.Item `<Menu > <Menu.Item key={1} onClick={handleLogOut}> Log Out </Menu.Item> </Menu>` I was getting this warning ![image](https://user-images.githubusercontent.com/66414908/170932628-9f625dd3-b15a-4d68-8196-4d219c0f69ed.png)
>
> and changed my code to this.
>
> `<Menu items={item} />` Now how can i implement onClick event ?

```js

const onMenuClick = (event: MenuInfo) => {
      const { key } = event
...
}

  const menuItems = [
    {
      key: 'logout',
      icon: <LogoutOutlined />,
      label: 'é€€å‡ºç™»å½•',
    },
  ]

  const menuHeaderDropdown = () => (
    <Menu className={styles.menu} selectedKeys={[]} onClick={onMenuClick} items={menuItems} />
  )
```

try this?

## Junaid300

@choi2k thank you it worked for me. I hope AntD community will update its documentation soon.

## buraketmen

How can we use the Popconfirm component in this new design?

```
<Popconfirm
    title="Are you sure?"
    placement="leftBottom"
    cancelButtonProps={{ type: 'primary', danger: true }}
    onConfirm={() => this.deleteRecord(record.id)}
    okText="Yes"
    cancelText="No"
>
    <Menu.Item key="Delete"><i className='ik ik-trash' />Delete</Menu.Item>
</Popconfirm>
```

## faysal-hub

warning.js:6 Warning: [antd: Menu] `children` will be removed in the next major version. Please use `items` instead. what about the link inside of the Menu.Item?? Thanks

### <Menu>

          <Menu.Item icon={<HomeOutlined />}>
            <Link to="/">Home</Link>
          </Menu.Item>

</Menu>

## peter-popluhar

> warning.js:6 Warning: [antd: Menu] `children` will be removed in the next major version. Please use `items` instead. what about the link inside of the Menu.Item?? Thanks
>
> ```
>       <Menu.Item icon={<HomeOutlined />}>
>         <Link to="/">Home</Link>
>       </Menu.Item>
> ```

Look at this example, there is a custom link in Items (Navigation Four - link):
https://ant.design/components/menu/#components-menu-demo-horizontal

## EbokianKnight

What if we need to render a badge or have custom styling for a single menu item?

## buraketmen

> How can we use the Popconfirm component in this new design?
>
> ```
> <Popconfirm
>     title="Are you sure?"
>     placement="leftBottom"
>     cancelButtonProps={{ type: 'primary', danger: true }}
>     onConfirm={() => this.deleteRecord(record.id)}
>     okText="Yes"
>     cancelText="No"
> >
>     <Menu.Item key="Delete"><i className='ik ik-trash' />Delete</Menu.Item>
> </Popconfirm>
> ```

Are there any updates regarding this problem?

## liuzhaowei55

![image](https://user-images.githubusercontent.com/1835787/196977937-900000d7-8a45-4672-95cd-396b18670ede.png)

@ant-design/pro-components 2.3.20
@ant-design/pro-layout 7.1.9
é¼ æ ‡ç§»ä¸Šå»è¿˜æ˜¯ä¼šæœ‰è¿™ä¸ªé”™è¯¯

## uneconomicalfairy14

> > warning.js:6 Warning: [antd: Menu] `children` will be removed in the next major version. Please use `items` instead. what about the link inside of the Menu.Item?? Thanks
> >
> > ```
> >       <Menu.Item icon={<HomeOutlined />}>
> >         <Link to="/">Home</Link>
> >       </Menu.Item>
> > ```
>
> Look at this example, there is a custom link in Items (Navigation Four - link): https://ant.design/components/menu/#components-menu-demo-horizontal

can someone convert this to the latest format

## leqnam

> > > warning.js:6 Warning: [antd: Menu] `children` will be removed in the next major version. Please use `items` instead. what about the link inside of the Menu.Item?? Thanks
> > >
> > > ```
> > >       <Menu.Item icon={<HomeOutlined />}>
> > >         <Link to="/">Home</Link>
> > >       </Menu.Item>
> > > ```
> >
> > Look at this example, there is a custom link in Items (Navigation Four - link): https://ant.design/components/menu/#components-menu-demo-horizontal
>
> can someone convert this to the latest format

Try this:

```
const onSelectMenu= (item: any): void => {
  history.push(item.key);
}

<Menu
  // mode=
  onClick={onSelectMenu}
  items={[
  {
    key: '/',
    icon: <HomeOutlined />,
    label: 'Home',
  },
]}
```

## RagnorLixiaomeng

in antd 5 what about the link inside of the Menu.Item?? Thanks,i still can't find the right way

       <Menu.Item icon={<HomeOutlined />}>
        <Link to="/">Home</Link>
      </Menu.Item>


