# 🐛[BUG] 升级 ant 4.2.0 Warning: [antd: Menu] `children` will be removed in next major version. Please use `items` instead.

Warning: [antd: Menu] `children` will be removed in next major version. Please use `items` instead.

## chenshuai2144

ref to https://github.com/ant-design/pro-components/commit/e7606ff2990719402b14d7bc1c2b32c2113ccfac

## puxiao

修改如下即可解决：

```diff
- <Menu>
-    <Menu.Item> ... </Menu.Item>
- </Menu>

+ const menuItems = [
+    {
+        key: 'center',
+        icon: <UserOutlined />,
+        label: '个人中心',
+    },
+    {
+        key: 'settings',
+        icon: <SettingOutlined />,
+        label: '个人设置',
+    },
+    {
+        key: 'logout',
+        icon: <LogoutOutlined />,
+        label: '退出登录',
+    },
+];
+ <Menu items={menuItems} />
```

更多示例可参考：

https://github.com/ant-design/ant-design/pull/34559/commits/72468a2015f5aa7397d9b41792adc8f50e4f93ab

## gudh

anyone knows how to add className to menu item?

Seems [there](https://ant.design/components/menu/#MenuItemType) isn't a property for adding CSS classes

Before, v4.20.0, I was adding it directly to `Menu.item`

```jsx
<Menu.Item className="blabla"> ... </Menu.Item>
```

**Update**: I found the solution, actually `className` property is supported

```js
        {
            label: (
                <div>
                    Login
                </div>
            ),
            key: '1',
            className: 'd-md-none', // <-- Just add them here
        },
```

## zhugexinxin

![image](https://user-images.githubusercontent.com/42615243/165548526-dee84767-9ced-4050-9aa3-fa0495c53d05.png)
在antdpro里已经将src/components/RightContent/AvatarDropdown.tsx文件做了修改还是报这个警告
![image](https://user-images.githubusercontent.com/42615243/165548738-4e143524-8000-436f-97c6-2c6df3b4d0e8.png)
看起来是像是侧边栏的封装里报的

## puxiao

@zhugexinxin 我看了一下源码：
https://github.com/ant-design/ant-design/blob/master/components/menu/index.tsx

```
devWarning(
    !!items && !children,
    'Menu',
    '`children` will be removed in next major version. Please use `items` instead.',
);
```

devWarning = (valid: boolean, component: string, message: string): void => { ... }

devWarning() 第一个参数值应该为 false(无效) 时会发出警告。

按照 `!!items && !children` 这个条件，我们使用了 items，并且没有使用 children 情况下，其结果为 true(有效)，确实不应该报这个警告了。

## zhouzyc

一样问题：
<img width="1038" alt="image" src="https://user-images.githubusercontent.com/18420689/165660382-93e0c79c-d8ff-4bb2-8ef1-05a8cf0e3a5a.png">
看这个错误应该是侧边栏报出来的，目前还是一直存在

## Mankvis

同样的问题，暂未解决

## zhugexinxin

> @zhugexinxin 我看了一下源码： https://github.com/ant-design/ant-design/blob/master/components/menu/index.tsx
>
> ```
> devWarning(
>     !!items && !children,
>     'Menu',
>     '`children` will be removed in next major version. Please use `items` instead.',
> );
> ```
>
> devWarning = (valid: boolean, component: string, message: string): void => { ... }
>
> devWarning() 第一个参数值应该为 false(无效) 时会发出警告。
>
> 按照 `!!items && !children` 这个条件，我们使用了 items，并且没有使用 children 情况下，其结果为 true(有效)，确实不应该报这个警告了。

layout版本我尝试升级到最新也是如此

## Mankvis

> ![image](https://user-images.githubusercontent.com/42615243/165548526-dee84767-9ced-4050-9aa3-fa0495c53d05.png)
>
> 在antdpro里已经将src/components/RightContent/AvatarDropdown.tsx文件做了修改还是报这个警告
>
> ![image](https://user-images.githubusercontent.com/42615243/165548738-4e143524-8000-436f-97c6-2c6df3b4d0e8.png)
>
> 看起来是像是侧边栏的封装里报的

请问您这个问题解决了吗

## chenshuai2144

已经发布了新版本了，更新一下

## Es-Rell

> 已经发布了新版本了，更新一下

@ant-design/pro-layout v6.35.0  最新版问题依旧

## dake0505

> > 已经发布了新版本了，更新一下
>
> @ant-design/pro-layout v6.35.0  最新版问题依旧
> V6.37.0 问题依旧

## zhouzyc

> 已经发布了新版本了，更新一下

新版本的npm似乎没有发布
<img width="1329" alt="image" src="https://user-images.githubusercontent.com/18420689/166853575-2d3a1a01-c257-40d8-8ed8-4c70b771a897.png">

## ImJasonIT

@ant-design/pro-layout v6.35.0 最新版问题依旧

## Es-Rell

强制更新6.37.0已解决

## xingw-z

更新了 @ant-design/pro-layout@6.37.0 也没有解决

## zhangyuezhong

我用antd 4.20.6,没有使用pro-layout， 也出现这个警告。

## puxiao

我看你们还在说这个事情，2 周前我忘了升级哪个包之后就不再报这个警告了。

后来 ant-pro 官方也升级了版本，目前最新版的 ant-pro，已经不报这个错误了。

## Junaid300

I have impletement onClick event on Menu.Item
`<Menu >
      <Menu.Item key={1} onClick={handleLogOut}>
        Log Out
      </Menu.Item>
    </Menu>`
I was getting this warning
![image](https://user-images.githubusercontent.com/66414908/170932628-9f625dd3-b15a-4d68-8196-4d219c0f69ed.png)

and changed my code to this.

`<Menu  items={item} />`
Now how can i implement onClick event ?

## choi2k

> I have impletement onClick event on Menu.Item `<Menu > <Menu.Item key={1} onClick={handleLogOut}> Log Out </Menu.Item> </Menu>` I was getting this warning ![image](https://user-images.githubusercontent.com/66414908/170932628-9f625dd3-b15a-4d68-8196-4d219c0f69ed.png)
>
> and changed my code to this.
>
> `<Menu items={item} />` Now how can i implement onClick event ?

```js

const onMenuClick = (event: MenuInfo) => {
      const { key } = event
...
}

  const menuItems = [
    {
      key: 'logout',
      icon: <LogoutOutlined />,
      label: '退出登录',
    },
  ]

  const menuHeaderDropdown = () => (
    <Menu className={styles.menu} selectedKeys={[]} onClick={onMenuClick} items={menuItems} />
  )
```

try this?

## Junaid300

@choi2k thank you it worked for me. I hope AntD community will update its documentation soon.

## buraketmen

How can we use the Popconfirm component in this new design?

```
<Popconfirm
    title="Are you sure?"
    placement="leftBottom"
    cancelButtonProps={{ type: 'primary', danger: true }}
    onConfirm={() => this.deleteRecord(record.id)}
    okText="Yes"
    cancelText="No"
>
    <Menu.Item key="Delete"><i className='ik ik-trash' />Delete</Menu.Item>
</Popconfirm>
```

## faysal-hub

warning.js:6 Warning: [antd: Menu] `children` will be removed in the next major version. Please use `items` instead. what about the link inside of the Menu.Item?? Thanks

### <Menu>

          <Menu.Item icon={<HomeOutlined />}>
            <Link to="/">Home</Link>
          </Menu.Item>

</Menu>

## peter-popluhar

> warning.js:6 Warning: [antd: Menu] `children` will be removed in the next major version. Please use `items` instead. what about the link inside of the Menu.Item?? Thanks
>
> ```
>       <Menu.Item icon={<HomeOutlined />}>
>         <Link to="/">Home</Link>
>       </Menu.Item>
> ```

Look at this example, there is a custom link in Items (Navigation Four - link):
https://ant.design/components/menu/#components-menu-demo-horizontal

## EbokianKnight

What if we need to render a badge or have custom styling for a single menu item?

## buraketmen

> How can we use the Popconfirm component in this new design?
>
> ```
> <Popconfirm
>     title="Are you sure?"
>     placement="leftBottom"
>     cancelButtonProps={{ type: 'primary', danger: true }}
>     onConfirm={() => this.deleteRecord(record.id)}
>     okText="Yes"
>     cancelText="No"
> >
>     <Menu.Item key="Delete"><i className='ik ik-trash' />Delete</Menu.Item>
> </Popconfirm>
> ```

Are there any updates regarding this problem?

## liuzhaowei55

![image](https://user-images.githubusercontent.com/1835787/196977937-900000d7-8a45-4672-95cd-396b18670ede.png)

@ant-design/pro-components 2.3.20
@ant-design/pro-layout 7.1.9
鼠标移上去还是会有这个错误

## uneconomicalfairy14

> > warning.js:6 Warning: [antd: Menu] `children` will be removed in the next major version. Please use `items` instead. what about the link inside of the Menu.Item?? Thanks
> >
> > ```
> >       <Menu.Item icon={<HomeOutlined />}>
> >         <Link to="/">Home</Link>
> >       </Menu.Item>
> > ```
>
> Look at this example, there is a custom link in Items (Navigation Four - link): https://ant.design/components/menu/#components-menu-demo-horizontal

can someone convert this to the latest format

## leqnam

> > > warning.js:6 Warning: [antd: Menu] `children` will be removed in the next major version. Please use `items` instead. what about the link inside of the Menu.Item?? Thanks
> > >
> > > ```
> > >       <Menu.Item icon={<HomeOutlined />}>
> > >         <Link to="/">Home</Link>
> > >       </Menu.Item>
> > > ```
> >
> > Look at this example, there is a custom link in Items (Navigation Four - link): https://ant.design/components/menu/#components-menu-demo-horizontal
>
> can someone convert this to the latest format

Try this:

```
const onSelectMenu= (item: any): void => {
  history.push(item.key);
}

<Menu
  // mode=
  onClick={onSelectMenu}
  items={[
  {
    key: '/',
    icon: <HomeOutlined />,
    label: 'Home',
  },
]}
```

## RagnorLixiaomeng

in antd 5 what about the link inside of the Menu.Item?? Thanks,i still can't find the right way

       <Menu.Item icon={<HomeOutlined />}>
        <Link to="/">Home</Link>
      </Menu.Item>


