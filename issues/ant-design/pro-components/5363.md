# ğŸ‘‘ [éœ€æ±‚]ProTable filter æä¾›è½¬æ¢æ–¹æ³•

### ğŸ”© æ‰€å±æ¨¡å—æˆ–ç»„ä»¶

ProTable filter

### ğŸ¥° éœ€æ±‚æè¿°

æ¯”å¦‚å¾ˆå¤šæ—¶å€™ç­›é€‰æ¥å£å‚æ•°å’ŒdataIndexä¸ä¸€æ ·ï¼Œè¿˜æœ‰å•é€‰æ—¶å€¼è¦æ±‚æ˜¯å­—ç¬¦ä¸²ä¸æ˜¯æ•°ç»„ï¼Œåœ¨requesté‚£é‡Œå¤„ç†filterè™½ç„¶å¯ä»¥ï¼Œä½†æ˜¯è¦mapæ¯ä¸ªdataIndexæ›¿æ¢keyå’Œvalueå¾ˆä¸æ–¹ä¾¿

### â›° åŠŸèƒ½éœ€æ±‚é€‚ç”¨åœºæ™¯

è‡ªå®šä¹‰filterå‚æ•°

### ğŸ§ è§£å†³æ–¹æ¡ˆ

éœ€è¦ä¸€ä¸ªç±»ä¼¼search.transformçš„æ–¹æ³•è½¬åŒ–requestçš„filter

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

## chenshuai2144

filter ä¸€èˆ¬éƒ½æ˜¯å•è¡Œå§ï¼Œä¸ºä»€ä¹ˆéœ€è¦å¤æ‚çš„è½¬åŒ–ï¼Ÿ

## tong233

> filter ä¸€èˆ¬éƒ½æ˜¯å•è¡Œå§ï¼Œä¸ºä»€ä¹ˆéœ€è¦å¤æ‚çš„è½¬åŒ–ï¼Ÿ

ä¸å¤æ‚ä½†æ˜¯å¤šä¸ªfilteræ”¾åˆ°requesté‡Œå¤„ç†å°±å¤æ‚äº†ï¼Œæ¯”å¦‚åç«¯filteræŸ¥è¯¢æ¥å£ï¼Œkeyå’ŒdataIndexå­—æ®µä¸ä¸€è‡´ã€‚valueé»˜è®¤å€¼è¦ä¼ nullï¼Œæ•°ç»„è¦è½¬å­—ç¬¦ä¸²ç­‰ç­‰ã€‚

## tong233

ä¾‹å­

```ts
const tableOptions  = {
  rowKey: 'id',
  request: async (params, sorter, filter) => {
    const { current, ...rest } = params;
    const transformFilter: Record<string, any> = {};

    for (const [key, value] of Object.entries(filter)) {
     // è¿™ç§éœ€è¦åˆ¤æ–­æ˜¯æŸä¸ªkeyå†å»æ”¹å¯¹åº”æ ¼å¼è¿‡äºç¹ç
      if (key === 'x_xxx') {
        transformFilter.xxx = value;
        if (!value) {
          transformFilter.xxx = null;
        } else {
          transformFilter.xxx = Array.isArray(value) ? value[0] : value;
        }
      } else if (key === 'a_a_aaa') {
        transformFilter.aAaa = value;
        if (!value) {
          transformFilter.aAaa = null;
        } else {
          transformFilter.aAaa = Array.isArray(value) ? value[0] : value;
        }
      }
    } else {
      transformFilter[key] === value
    }
   }
    const { data, code } = await getData({
      ...rest,
      pageIndex: current,
      ...transformFilter,
    });

    return { data: data?.results, total: data?.total, success: code === '0' };
  },
}
```

## chenshuai2144

æ”¾åœ¨ä¸€èµ·è½¬æˆ‘æ„Ÿè§‰æ›´å¥½ï¼Œä¸ç„¶è”åŠ¨ä¹Ÿå¤ªéº»çƒ¦äº†
