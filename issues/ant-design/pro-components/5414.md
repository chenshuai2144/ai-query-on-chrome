# ğŸ›[BUG]pro-tableçš„åˆ—è®¾ç½®åŠŸèƒ½çš„é‡ç½®æŒ‰é’®ç‚¹å‡»åï¼Œæ— æ³•ä¸ºåˆå§‹åŒ–æ—¶çš„columnsçŠ¶æ€

`ğŸ¤·ğŸ¼ How to use`,`AI Reply`

æé—®å‰å…ˆçœ‹çœ‹ï¼š

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### ğŸ› bug æè¿°

pro-tableçš„åˆ—è®¾ç½®åŠŸèƒ½çš„é‡ç½®æŒ‰é’®ç‚¹å‡»åï¼Œæ— æ³•ä¸ºåˆå§‹åŒ–æ—¶çš„columnsçŠ¶æ€

### ğŸ“· å¤ç°æ­¥éª¤

1.ç‚¹å‡»é‡ç½®æŒ‰é’®åï¼Œdisableå±æ€§å¤±æ•ˆã€‚ä»»æ„æ‹–æ‹½åï¼Œfixedå±æ€§å¤±æ•ˆ

### ğŸ æœŸæœ›ç»“æœ

åˆ—è®¾ç½®åŠŸèƒ½çš„é‡ç½®æŒ‰é’®ç‚¹å‡»åï¼Œåº”è¯¥å›åˆ°columnsä¸­è®¾ç½®çš„åˆå§‹çŠ¶æ€

### ğŸ’» å¤ç°ä»£ç 

å¤ç°åœ°å€ï¼š https://codesandbox.io/s/cha-xun-biao-ge-forked-mp4osj?file=/App.tsx

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: [e.g. 4.0.0]
- umi ç‰ˆæœ¬
- æµè§ˆå™¨ç¯å¢ƒ
- å¼€å‘ç¯å¢ƒ [e.g. mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

## chenshuai2144

å¥½åƒä¸ä¼šè¯¶ï¼Œæ–¹ä¾¿å½•å±å—ï¼Ÿ

## Mrtaochen

@chenshuai2144 ç°åœ¨è¿™ä¸ªæ˜¯æ²¡é—®é¢˜çš„ æ˜¯å› ä¸ºæˆ‘å¯¹columnsStateçš„valueåšäº†ç®¡æ§ã€‚ä¸ªäººæ„Ÿè§‰åœ¨å¼€å‘è€…ä¸å¯¹valueåšç®¡æ§çš„æƒ…å†µä¸‹ï¼Œé‡ç½®åº”è¯¥æ˜¯å›åˆ°åˆå§‹çŠ¶æ€å§ï¼Œä½†æ˜¯åœ¨columnsStateçš„onchangeå›è°ƒä¸­æ‹¿åˆ°çš„å€¼ æ˜¯ä¸¢å¤±äº†columsä¸­çš„fixedç­‰å±æ€§ã€‚

## binbin1015

ç¡®å®onchangeå›è°ƒæ²¡æœ‰columsä¸­çš„fixedã€orderç­‰å±æ€§ï¼Œåšå¼‚æ­¥summaryæ—¶è¸©è¿‡å‘ã€‚

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

äº†è§£äº†ä½ çš„é—®é¢˜æè¿°ï¼Œå¯èƒ½æ˜¯å› ä¸ºé‡ç½®æŒ‰é’®æ˜¯é€šè¿‡è®¾ç½® value å€¼ä¸º undefined æ¥å®ç°é‡ç½®çš„ï¼Œè¿™æ ·ä¼šå¯¼è‡´ columns çš„ fixed ç­‰å±æ€§çš„ä¸¢å¤±ã€‚å› ä¸º columnsState æ˜¯ value çš„è½¬æ¢ç»“æœï¼Œæ‰€ä»¥ value ä¸ºç©ºæ—¶ï¼ŒcolumnsState ä¸¢å¤±äº† fixed ç­‰å±æ€§ã€‚å› æ­¤ï¼Œå¯èƒ½éœ€è¦åœ¨ columnsState çš„ onChange å›è°ƒä¸­é‡æ–°æ›´æ–° columnsã€‚

å¯ä»¥å°è¯•åœ¨ columnsState çš„ onChange å›è°ƒé‡Œè°ƒç”¨ProTableç»„ä»¶çš„ setColumns æ–¹æ³•ï¼Œå°†åŸå§‹ columns é‡æ–°è®¾ç½®ä¸€éã€‚

å…·ä½“å®ç°å¯ä»¥å‚è€ƒå¦‚ä¸‹ä»£ç æ®µï¼š

```tsx
const onColumnsStateChange = useCallback((value) => {
  if (!value) {
    setColumns(columns);
  } else {
    setColumnsState(value);
  }
}, []);

return (
  <ProTable
    columns={columns}
    request={fetchData}
    options={{
      fullScreen: true,
      reload: true,
      setting: true,
    }}
    value={columnsState}
    onChange={onColumnsStateChange}
    scroll={{ x: 1200 }}
    rowSelection={{
      selections: true,
    }}
    search={{
      defaultCollapsed: false,
    }}
  />
);
```

æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ ProTable ä¸­æ·»åŠ  onColumnsStateChange æ–¹æ³•ï¼Œæ¥è·å¾—åˆ—è®¾ç½®é¢æ¿ä¸­åˆ—é…ç½®å˜æ›´æ—¶çš„å›è°ƒï¼Œè¯¦è§ï¼š[API-Table](https://procomponents.ant.design/components/table/#api)ã€‚

å¦å¤–éœ€è¦æ³¨æ„ï¼ŒProTable ç»„ä»¶çš„ valueã€onChange éƒ½æ˜¯ç”¨æ¥åšåˆ—è®¾ç½®é¢æ¿çš„ï¼Œæˆ‘ä»¬åœ¨å…¶ä»–åœºæ™¯ä½¿ç”¨æ—¶å¹¶ä¸éœ€è¦è¿™éƒ¨åˆ†é€»è¾‘ã€‚

## Mrtaochen

>

è¿™ç§å¤„ç†æ–¹å¼ä¼šæœ‰æ¼æ´ï¼Œä¸¾ä¾‹è¯´æ˜ï¼š å¦‚æœåœ¨å‹¾é€‰åˆ—å±•ç¤ºcheckboxä¹‹å‰æ‹–æ‹½æ”¹å˜äº†é¡ºåºï¼Œåœ¨ä½¿ç”¨ä¹‹å‰çš„columnså†æ¥è®¾ç½®æ˜¯æœ‰é—®é¢˜ã€‚

## chenshuai2144

æš‚æ—¶æ²¡æœ‰æ’æœŸåšè¿™ä¸ªå—æ§åŠŸèƒ½
