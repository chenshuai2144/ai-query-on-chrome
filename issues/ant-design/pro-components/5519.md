# 👑 [EditableProTable必填项表头增加必填标识*]

`AI Reply`

### 🔩 所属模块或组件

<!--
如果你的功能需求率属于某个功能模块或者是组件的，请在此处标明，如对`table`组件有功能需求，则注明：率属组件：ProTable
 -->

EditableProTable组件

### 🥰 需求描述

<!--
详细地描述需求，让大家都能理解
-->

EditableProTable组件Columns 列定义formItemProps配置的 rules包含必填规则时增加必填标识*；最好可以动态展示或者只要列表中某一列有一行需要必填就展示必填标识*

### ⛰ 功能需求适用场景

<!--
请简单描述一下这个新功能通常或可以应用在哪些场景下
-->

用于给用户提示某一列可能存在必填项校验，不需要再去手动触发；

### 🧐 解决方案

<!--
如果你有解决方案，在这里清晰地阐述
-->

兼容性和性能一般：

```js
// 重设columns
function getCols(columns) {
  // console.log('getCols columns', columns);
  return [...columns].map((column) => {
    const { formItemProps, title } = { ...column };
    const formItemPropsStr =
      typeof formItemProps === "function"
        ? formItemProps.toString()
        : JSON.stringify(formItemProps);
    const { props: { className, ...rest } = {} } = { ...title };
    rest.className = className;
    if (formItemPropsStr?.indexOf("required") > -1) {
      // 必填
      if (className?.indexOf("iri-required-title-wrapper") === -1) {
        rest.className = `${className} iri-required-title-wrapper`;
      }
      if (!className) {
        rest.className = "iri-required-title-wrapper";
      }
    }
    column.title = React.cloneElement(<span>{title}</span>, { ...rest });
    return { ...column, formItemProps };
  });
}
```

```css
// 自定义必填标题样式
.iri-required-title-wrapper::before {
  display: inline-block;
  margin-right: 4px;
  color: #ff4d4f;
  font-size: 14px;
  font-family: SimSun, sans-serif;
  line-height: 1;
  content: "*";
}
```

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

![image](https://user-images.githubusercontent.com/26341016/178404570-f82809d6-22dd-4a97-8d12-17cb638c8526.png)

## zhaomenglu

想要这个功能+1

## chenshuai2144

不是很好的交互，如果需要自定义 render 下吧
