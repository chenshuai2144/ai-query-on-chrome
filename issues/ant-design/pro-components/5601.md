# ğŸ‘‘ [éœ€æ±‚]SchemaFormä¸­å½“valueTypeæ˜¯formListæ—¶ï¼Œcolumnsæ”¯æŒRenderPropsæ¨¡å¼

`form`,`ğŸ–ï¸  featrue`

### ğŸ”© æ‰€å±æ¨¡å—æˆ–ç»„ä»¶

SchemaForm

### ğŸ¥° éœ€æ±‚æè¿°

å½“valueTypeæ˜¯formListæ—¶ï¼Œcolumnsæ”¯æŒå‡½æ•°æ ¼å¼ï¼Œä»¥æ”¯æŒ[ProFormList RenderProps æ¨¡å¼](https://procomponents.ant.design/components/group#proformlist-renderprops-%E6%A8%A1%E5%BC%8F)

### â›° åŠŸèƒ½éœ€æ±‚é€‚ç”¨åœºæ™¯

Listä¸­æŸä¸ªcolumnçš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¸Œæœ›é€šè¿‡action.setCurrentRowDataä¿®æ”¹æœ¬è¡Œæ•°æ®

### ğŸ§ è§£å†³æ–¹æ¡ˆ

https://github.com/ant-design/pro-components/blob/47fe90c1d90ef6b8e28bdbdda86a915454cb1d64/packages/form/src/components/SchemaForm/valueType/formList.tsx

```typescript
export const formList: ProSchemaRenderValueTypeFunction = (item, { genItems }) => {
  if (item.valueType === 'formList' && item.dataIndex) {
    if (!item.columns || !Array.isArray(item.columns)) return null;
    return (
      <ProFormList
        key={item.key}
        name={item.dataIndex}
        label={item.label}
        initialValue={item.initialValue}
        colProps={item.colProps}
        rowProps={item.rowProps}
        {...item.getFieldProps?.()}
      >
        {genItems(item.columns)}
      </ProFormList>
    );
  }

  return true;
};
```

è¿™é‡Œæ”¯æŒcolumnsä½œä¸ºrenderProps

```typescript
export const formList: ProSchemaRenderValueTypeFunction = (item, { genItems }) => {
  if (item.valueType === 'formList' && item.dataIndex) {
    if (!item.columns || (!Array.isArray(item.columns) && !isFunction(item.columns))) return null;
    return (
      <ProFormList
        key={item.key}
        name={item.dataIndex}
        label={item.label}
        initialValue={item.initialValue}
        colProps={item.colProps}
        rowProps={item.rowProps}
        {...item.getFieldProps?.()}
      >
        {isFunction(item.columns) ? ((...args) => genItems(item.columns(...args))) : genItems(item.columns)}
      </ProFormList>
    );
  }

  return true;
};
```

### ğŸš‘ å…¶ä»–ä¿¡æ¯

## chenshuai2144

å¬èµ·æ¥æ€§èƒ½ä¼šå˜å·®å¾ˆå¤š

## jurieo

å¤§ä½¬ï¼Œæœ‰æ”¯æŒè¿™ä¸ªçš„è®¡åˆ’å—ï¼Ÿæˆ‘ä»¬ç°åœ¨ä¹Ÿå¾ˆéœ€è¦è¿™ä¸ªã€‚ç°åœ¨æ¯”è¾ƒä¾èµ–schameï¼Œå¸Œæœ›å¯ä»¥æ”¯æŒï¼Œæ„Ÿè°¢æ„Ÿè°¢

## chenshuai2144

æ”¯æŒå•¦ï¼Œæ›´æ–°ä¸€ä¸‹
