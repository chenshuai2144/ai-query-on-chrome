# protable åˆ†é¡µåŠŸèƒ½ï¼Œåˆ‡æ¢åˆ†é¡µçš„æ—¶å€™ï¼Œé¡µç ä¸€ç›´è¢«é‡ç½®ä¸º1ğŸ›[BUG]

æé—®å‰å…ˆçœ‹çœ‹ï¼š

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### ğŸ› bug æè¿°

protable paginationé‡Œé¢çš„onchangeäº‹ä»¶æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯æˆ‘ç‚¹å‡»çš„é¡µç ï¼Œç¬¬äºŒæ¬¡çš„æ—¶å€™å½“å‰ä¸€ç›´è¢«é‡ç½®å›1ï¼Œå¯¼è‡´æ— æ³•åˆ‡æ¢åˆ†é¡µï¼Œè¯·é—®å¯èƒ½æ˜¯å“ªé‡Œçš„é—®é¢˜

### ğŸ“· å¤ç°æ­¥éª¤

<!--
æ¸…æ™°æè¿°å¤ç°æ­¥éª¤ï¼Œè®©åˆ«äººä¹Ÿèƒ½çœ‹åˆ°é—®é¢˜ï¼Œå¦‚æœå¯èƒ½ï¼Œå°½é‡æä¾›å¯æ‰§è¡Œä»£ç ï¼Œ
å¦‚ï¼šhttps://codesandbox.io/ åœ¨æ­¤å¤„åˆ›å»ºä¸€ä¸ª codesandboxï¼Œæ–¹ä¾¿æˆ‘ä»¬æ›´å¿«çš„æ’æŸ¥å’Œå¤ç°é—®é¢˜
-->

### ğŸ æœŸæœ›ç»“æœ

ç¿»é¡µçš„onchangäº‹ä»¶ï¼Œåªæ‰§è¡Œä¸€æ¬¡

<!--
æè¿°ä½ åŸæœ¬æœŸæœ›çœ‹åˆ°çš„ç»“æœ
-->

### ğŸ’» å¤ç°ä»£ç 

<!--
æä¾›å¯å¤ç°çš„ä»£ç ï¼Œä»“åº“ï¼Œæˆ–çº¿ä¸Šç¤ºä¾‹
-->

const [params, setParamDatas] = useState({
platform_id:"",
page_size: 10,
current:1,
ipaddress:'',
host_name:""
})
const onChangePagination = (page, pageSize) => {
console.log(page, pageSize);
setParamDatas(val => {
return {...val, current: page, page_size: pageSize,}
})
}
return (
<PageContainer>
<ProTable
columns={columns}
// rowKey="vm_uuid"
rowKey={record => record.vm_id}
params={params}
request={(par) => {
return getSourceVmList(params)
}}
pagination={{
          position: ['bottomCenter'],
          showQuickJumper: true,
          onChange: onChangePagination,
          pageSize: 10,
        }}
/>
ï¼‰

### Â© ç‰ˆæœ¬ä¿¡æ¯

- "@ant-design/pro-table": "^2.77.0",
- umi ç‰ˆæœ¬
- æµè§ˆå™¨ç¯å¢ƒ
- å¼€å‘ç¯å¢ƒ [e.g. mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

## lcc908

è¯¥é—®é¢˜æˆ‘ç”¨å…¶ä»–æ–¹æ¡ˆè§£å†³äº†ï¼Œç„¶åçœ‹æºç å‘ç°è¿™æ®µä»£ç ï¼Œä¸ºä»€ä¹ˆè¦é‡ç½®currentå‘¢ï¼Ÿï¼š  
useDeepCompareEffect(() => {
// request å­˜åœ¨ä¸”paramsä¸ä¸ºç©ºï¼Œä¸”å·²ç»è¯·æ±‚è¿‡æ•°æ®æ‰éœ€è¦è®¾ç½®ã€‚
if (props.request && params && action.dataSource && action?.pageInfo?.current !== 1) {
action.setPageInfo({
current: 1,
});
}
// eslint-disable-next-line react-hooks/exhaustive-deps
}, [params]);

## youtiao66

è™½ç„¶è¿™ä¸ª Issue å·²ç»è¢«å…³é—­ï¼Œä½†å¯¹æˆ‘å´èµ·åˆ°äº†å¾ˆå¤§çš„ä½œç”¨ã€‚ä¸»è¦å› ä¸ºæ–°å¢äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

[fix(table): table çš„ paramå‘ç”Ÿå˜åŒ–æ—¶é‡ç½®åˆ†é¡µä¸º1 #4648](https://github.com/ant-design/pro-components/pull/4648)

æ—¢è§£ç­”äº† @lcc908 çš„ç–‘æƒ‘ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›é‡åˆ°ç›¸åŒé—®é¢˜çš„å¼€å‘è€…èƒ½å¤Ÿå¿«é€Ÿå®šä½å¹¶è§£å†³é—®é¢˜ã€‚

## gezichenshan

æ˜¯å•Šï¼Œ^2.80.8é—®é¢˜è¿˜æ˜¯æœ‰ï¼
