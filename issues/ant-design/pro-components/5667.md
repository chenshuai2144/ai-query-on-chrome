# ğŸ›[BUG] ProFormçš„formRefè°ƒç”¨getFieldInstanceæ–¹æ³•æ‹¿ä¸åˆ°è¾“å…¥ç»„ä»¶å®ä¾‹

### ğŸ› bug æè¿°

ProFormçš„formRefï¼Œè°ƒç”¨setFieldsValueæ­£å¸¸ï¼Œä½†æ˜¯è°ƒç”¨getFieldInstanceæ–¹æ³•ï¼Œåªèƒ½å¾—åˆ°undefined

### ğŸ“· å¤ç°æ­¥éª¤

import type { ProFormInstance } from '@ant-design/pro-form';
import ProForm, { ProFormText } from '@ant-design/pro-form';
import { useRef } from 'react';

const App = () => {
const formRef = useRef<ProFormInstance>();

    return (
    	<ProForm
    		formRef={formRef}
    		onValuesChange={() => {
    			console.log('note2', formRef.current?.getFieldInstance('note2'));
    			formRef.current?.setFieldsValue({ note3: 'aaa' });
    		}}
    	>
    		<ProFormText name='note' label='Note' />
    		<ProFormText name='note2' label='Note2' />
    		<ProFormText name='note3' label='Note3' />
    	</ProForm>
    );

};

export default App;

### ğŸ æœŸæœ›ç»“æœ

getFieldInstanceèƒ½å¤Ÿæ‹¿åˆ°ç»„ä»¶å®ä¾‹ï¼Œä»¥ä¾¿è°ƒç”¨focusæ–¹æ³•

### Â© ç‰ˆæœ¬ä¿¡æ¯

@ant-design/pro-form: 1.71.2
antd: 4.22.3
umi: 3.5.21
æµè§ˆå™¨: æœç‹—
å¼€å‘ç¯å¢ƒ win10

## cui-xxu

è¡¥å……ä¸€ä¸‹ï¼Œä¹‹å‰éœ€è¦getFieldInstanceï¼Œæ˜¯ä¸ºäº†è°ƒç”¨focusï¼Œå› ä¸ºåœ¨åšé¡µé¢åŠ¨æ€æ§åˆ¶çš„æ—¶å€™ï¼Œæ¯æ¬¡åŠ¨æ€æ•ˆæœç”Ÿæ•ˆï¼Œé¡µé¢åˆ·æ–°ï¼Œå…‰æ ‡å°±ä¼šè‡ªåŠ¨è·³åˆ°ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œæ›´æ–°æœ€æ–°ç‰ˆæœ¬formä»¥åï¼Œè¿™ä¸ªé—®é¢˜æ²¡æœ‰äº†ï¼Œæš‚æ—¶å°±ä¸éœ€è¦è°ƒç”¨getFieldInstanceäº†ã€‚

## yuankeyan

ç¡®å®æœ‰è¿™ä¸ªbug

## yuankeyan

ç¡®å®æœ‰è¿™ä¸ªbug ,åŒä¸€ä¸ªformä¸‹ï¼Œç”¨åŸå§‹çš„<Form.Item
label="Username"
name="username"
rules={[{ required: true, message: 'Please input your username!' }]} >
<Input />
</Form.Item> å°±æ­£å¸¸ï¼

## chenshuai2144

`  const form = ProForm.useFormInstance();`

ç”¨è¿™ä¸ªæ¥è§£å†³é—®é¢˜å§ï¼Œformçš„å®ä¾‹ä¸ä¸€æ ·

## askurat

Is there an example of this? I am trying to set focus on one of my inputs but always get undefined when calling `getFieldInstance`.
I have tried `const form = ProForm.useFormInstance();` but get the same result.

@cui-xxu Were you able to get this to work?
