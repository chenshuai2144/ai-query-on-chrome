# 🧐[问题]是否有全局方法来根据路由Path获取breadcrumbName

### 🧐 问题描述

想咨询下现在有没有可用的全局方法能够根据路由path换取breadcrumbName（中文名），中文名是配置在locales中的菜单名，因为看了PageContainer是有中文面包屑的，所以应该是有转换逻辑的。

目前写法是这样的，但是localeName有部分情况下是false，没办法得到有效面包屑：

```js

import { getAppMapTable, getMenuItemByPath } from '@/services/permission';
import { getMenuData } from '@ant-design/pro-layout';
import routes from '../../../config/routes';
import { formatMessage } from 'umi';

export const getBreadCrumbs = () => {
  try {
    const path = window.location.pathname;
    let breadCrumbsStr = '';
    const { breadcrumb } = getMenuData(routes, getAppMapTable() as any);
    const localeName = breadcrumb[window.location.pathname]?.locale;
    if (localeName) {
      let targetItems = localeName.split('.');
      const pathnameList = window.location.pathname.substring(1).split('/');
      if (targetItems.length - 1 < pathnameList.length) {
        // 目前部分页面的locale字段会缺失一段，若缺失取pathname来尝试拼凑作为兼容手段
        targetItems = ['menu'].concat(pathnameList);
      }
      if (targetItems.length > 1) {
        const temps: string[] = [];
        while (targetItems.length > 1) {
          temps.push(targetItems.join('.'));
          targetItems.pop();
        }
        if (temps.length >= 1) {
          breadCrumbsStr = temps
            .map((value) =>
              formatMessage({
                id: value?.toString(),
              }),
            )
            .reverse()
            .join('/');
        }
      }
    }
    return breadCrumbsStr;
  } catch (e) {
    return '';
  }
};

```

## chenshuai2144

https://github.com/ant-design/pro-components/blob/@ant-design/pro-card@2.1.6/packages/layout/src/getPageTitle.ts

https://github.com/ant-design/pro-components/blob/@ant-design/pro-card@2.1.6/packages/layout/src/utils/getBreadcrumbProps.tsx

看这里，我们是这么实现的。

## hooliy

为什么要传 props 参数? GetPageTitleProps 这些参数从哪里获取?
