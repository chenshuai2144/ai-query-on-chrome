# 🧐[问题]使用AntDPro脚手架，搭配最新版pro-components，出现AssertionError [ERR_ASSERTION]: filePath not found of @ant-design/pro-layout/es/PageLoading

参照文档创建脚手架，使用umi@3（umi@4同理），
再添加 yarn add @ant-design/pro-components 依赖，

运行报错

AssertionError [ERR_ASSERTION]: filePath not found of @ant-design/pro-layout/es/PageLoading

![image](https://user-images.githubusercontent.com/12421552/192932851-0e312c97-2377-4c78-a8cd-7e0210bc08ba.png)

目前找到的解决方案是
1、注释掉 config.ts -> dynamicImport -> loading，删除src/.umi，重新编译，运行成功

2、[参照](https://github.com/ant-design/ant-design-pro/issues/10233)

复制[这个文件](https://github.com/ant-design/pro-components/blob/master/packages/layout/src/components/PageLoading/index.tsx)的内容，新建 src/loading/tsx, 解决问题。

新版 pro 这个文件不再默认导出。Umi 那边导入是 import Loading from 'Loading'

## chenshuai2144

最新脚手架没有 dynamicImport了，你是旧版本搭配新 layout 吗？

## edifangyi

> 最新脚手架没有 dynamicImport了，你是旧版本搭配新 layout 吗？

就是用的 [这个文档](https://pro.ant.design/zh-CN/docs/getting-started)

![image](https://user-images.githubusercontent.com/12421552/192965352-45e111f7-a1cc-4d18-9556-489937475589.png)

## chenshuai2144

奇怪了，这个代码被删除好久了，我去gitee看看

## chenshuai2144

https://gitee.com/ant-design/ant-design-pro/blob/master/config/config.ts

代码和这个一样吗

## edifangyi

> https://gitee.com/ant-design/ant-design-pro/blob/master/config/config.ts
>
> 代码和这个一样吗

不一样哈，我这边是老版的

## edifangyi

> 奇怪了，这个代码被删除好久了，我去gitee看看

![image](https://user-images.githubusercontent.com/12421552/192970169-eece530e-bfc2-4e33-87aa-694a6e6ba9b8.png)

新创建了一个，还是旧的哈

## edifangyi

> https://gitee.com/ant-design/ant-design-pro/blob/master/config/config.ts
>
> 代码和这个一样吗

umi@4 倒是一样了

![image](https://user-images.githubusercontent.com/12421552/192970751-0c107ff8-e07d-4574-adc0-2d90dbb4d114.png)

## chenshuai2144

新建项目还是尽量用新的吧。
新技术做老零件，事倍功半

## Daudxu

窝尼码，代码不一样，我用的umi 3, 一堆问题，解决一个来一个
