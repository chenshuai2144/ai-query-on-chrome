# 🐛[BUG] 点击两次menuItem，document.title就会变成地址

`layout`,`📦  Need to reproduce`

提问前先看看：

### 🐛 bug 描述

每个菜单配置对应name，点击同一个菜单两次后，浏览器标题就会变成地址，

### 📷 复现步骤

![image](https://user-images.githubusercontent.com/25579411/192989979-ec5301ef-552e-4e01-abf1-ed0617d06650.png)

1. 第一次点击`菜单demo1`后，浏览器标题是菜单配置的名称(demo1)
2. 再点击`菜单demo1`后，浏览器标题就会变成地址(http://localhost....)

### 🏞 期望结果

能否通过修改ProLayout，让地址不会变成地址

<!--
能否通过修改ProLayout，让地址不会变成地址
-->

### 💻 复现代码

```js
import react from 'react';
import ProLayout from '@ant-design/pro-layout';
import { Link } from 'umi';

const BasicLayout = (props: any) => {
  return (
    <ProLayout
      siderWidth={280}
      layout="mix"
      fixSiderbar
      defaultCollapsed
      breakpoint={false}
      route={props.route}
      menuItemRender={(props: any) => {
        return <Link to={props.path}>{props.name}</Link>
      }}
      pageTitleRender={() => {
        return '1222' + Math.random() // 加个随机数，标题每次不一样，title才会不出现地址
      }}
    >
      {props.children}
    </ProLayout>
  );
};

export default BasicLayout;
```

// .umirc.ts

```js
import { defineConfig } from "umi";

export default defineConfig({
  routes: [
    {
      path: "/",
      component: "@/pages/index",
      routes: [
        { path: "/demo1", name: "demo1", component: "@/pages/demo1" },
        { path: "/demo2", name: "demo2", component: "@/pages/demo2" },
      ],
    },
  ],
  fastRefresh: {},
});
```

// package.json

```json
{
  "private": true,
  "scripts": {
    "start": "umi dev",
    "build": "umi build",
    "postinstall": "umi generate tmp",
    "prettier": "prettier --write '**/*.{js,jsx,tsx,ts,less,md,json}'",
    "test": "umi-test",
    "test:coverage": "umi-test --coverage"
  },
  "gitHooks": {
    "pre-commit": "lint-staged"
  },
  "lint-staged": {
    "*.{js,jsx,less,md,json}": ["prettier --write"],
    "*.ts?(x)": ["prettier --parser=typescript --write"]
  },
  "dependencies": {
    "@ant-design/pro-layout": "^6.5.0",
    "react": "17.x",
    "react-dom": "17.x",
    "umi": "^3.5.34"
  },
  "devDependencies": {
    "@types/react": "^17.0.0",
    "@types/react-dom": "^17.0.0",
    "@umijs/preset-react": "1.x",
    "@umijs/test": "^3.5.34",
    "lint-staged": "^10.0.7",
    "prettier": "^2.2.0",
    "typescript": "^4.1.2",
    "yorkie": "^2.0.0"
  }
}
```

### © 版本信息

package.json已有

### 🚑 其他信息

点第一次，title是demo1
![image](https://user-images.githubusercontent.com/25579411/192989979-ec5301ef-552e-4e01-abf1-ed0617d06650.png)

点第二次，title是http://.....
![image](https://user-images.githubusercontent.com/25579411/192990063-30c48a26-eb73-4a87-9548-9bb46fad1ef4.png)

## chenshuai2144

来个仓库？

## zhuchuanlei

> 来个仓库？

git@github.com:zhuchuanlei/umi-antd-demo.git

## chenshuai2144

umi 的配置里配置一下 title=false，umi自带的title 覆盖了layout计算出来的

## wuxyman

也遇到了这个问题，其实是ProLayout pageTitleRender和umi title一起使用导致的，
defineConfig({
title: false // 默认值不行，要设置为false
});
