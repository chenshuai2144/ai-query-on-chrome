# ğŸ›[BUG]å¼•å…¥æ ·å¼æŠ¥é”™Can't resolve 'antd/es/theme/style'

### ğŸ› bug æè¿°

æˆ‘æŒ‰ç…§antdå®˜ç½‘çš„æ­¥éª¤æŒ‰éœ€å¼•å…¥äº†ç»„ä»¶å’Œæ ·å¼ï¼Œä¸€åˆ‡éƒ½æ˜¾ç¤ºæ­£å¸¸ï¼Œä½†æ˜¯å½“æˆ‘å¼•å…¥ProComponents åï¼ŒæŠ¥é”™äº†ã€‚
<img width="1147" alt="image" src="https://user-images.githubusercontent.com/76934904/196423327-1fe6c58b-6373-4a33-a104-00dac2afc079.png">

### ğŸ“· å¤ç°æ­¥éª¤

1ã€åˆ›å»ºä¸€ä¸ªreacté¡¹ç›®ï¼Œå¼•å…¥ç¬¬ä¸‰æ–¹æ’ä»¶:

- craco-antdç‰ˆæœ¬ï¼š2.0.0
- @craco/cracoç‰ˆæœ¬ï¼š 6.4.5
- antdç‰ˆæœ¬ï¼š4.2.36
- @ant-design/pro-componentsç‰ˆæœ¬ï¼š 2.3.19

2ã€åœ¨æ ¹ç›®å½•åˆ›å»ºcraco.config.jsæ–‡ä»¶

```
const CracoAntDesignPlugin = require('craco-antd')
module.exports = {
  plugins: [
    {
      plugin: CracoAntDesignPlugin,
      options: {
        customizeTheme: {
          '@primary-color': '#1DA57A',
        },
      },
    },
  ],
}
```

3ã€ä¿®æ”¹package.json

```
  "scripts": {
    "start": "craco start",
    "build": "craco build",
    "test": "craco test",
    "eject": "react-scripts eject"
  }
```

4ã€åœ¨App.tsxä¸­çš„ä»£ç å¦‚ä¸‹ï¼š

```
import { Button } from 'antd'
import { ProForm, ProFormText } from '@ant-design/pro-components'
function App() {
  return (
    <div className="App">
      <ProForm
        onFinish={async (values) => {
          console.log(values)
        }}
      >
        <ProFormText name="name" label="å§“å" />
      </ProForm>
      <Button type="primary">Button</Button>
    </div>
  )
}

export default App
```

### ğŸ æœŸæœ›ç»“æœ

<!--
æè¿°ä½ åŸæœ¬æœŸæœ›çœ‹åˆ°çš„ç»“æœ
-->

### ğŸ’» å¤ç°ä»£ç 

å¤ç°ä»“åº“åœ°å€: https://github.com/RedsMario/antd-demo.git

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: [2.3.19]
- antdç‰ˆæœ¬: [4.23.6]
- æµè§ˆå™¨ç¯å¢ƒ Chrome
- å¼€å‘ç¯å¢ƒ [mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

æˆ‘å°è§£å†³äº†ä¸€ä¸‹ï¼Œä»¥ä¸‹ä¸¤ç§æ–¹æ³•æ˜¯æœ‰æ•ˆçš„
1ã€ä¸æŒ‰éœ€å¼•å…¥æ ·å¼ï¼Œå…¨å±€å¼•å…¥antdçš„æ ·å¼æ—¶ï¼Œå®ƒæ˜¯æ­£å¸¸çš„ã€‚
2ã€ä¿®æ”¹ProComponentsçš„ç‰ˆæœ¬ä¸º1.1.24æ˜¯ï¼Œå®ƒä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚

## ldwonday

é‡åˆ°åŒæ ·çš„é—®é¢˜

## ldwonday

@chenshuai2144 å°½å¿«è§£å†³ä¸‹è¿™ä¸ªé—®é¢˜å§ã€‚

## chenshuai2144

é…ç½®ä¸€ä¸ªç©ºçš„aliaså§

https://webpack.js.org/configuration/resolve/

## RedsMario

è¡¥å……ä¸‹ï¼š
ä¿®æ”¹`craco.config.js`ä¸­çš„`alias`æ˜¯æœ‰æ•ˆçš„ï¼Œå¦‚æœä½ ä½¿ç”¨äº†`craco-antd`æ¥è¿›è¡ŒæŒ‰éœ€å¯¼å…¥çš„è¯ï¼Œå®ƒé»˜è®¤æ˜¯ä»`antd/lib`
ç›®å½•å¯¼å…¥çš„

```
const CracoAntDesignPlugin = require('craco-antd')
module.exports = {
  webpack: {
    alias: {
      'antd/lib/theme': false,
    },
  },
  plugins: [
    {
      plugin: CracoAntDesignPlugin,
      options: {
        customizeTheme: {
          '@primary-color': '#1DA57A',
        },
      },
    },
  ],
}
```

æˆ–è€…ä½ å¯ä»¥é€‰æ‹©è¿™ç§æ–¹å¼

```
module.exports = {
  webpack: {
    alias: {
      'antd/es/theme': false,
    },
  },
  plugins: [
    {
      plugin: CracoAntDesignPlugin,
      options: {
        customizeTheme: {
          '@primary-color': '#1DA57A',
        },
        babelPluginImportOptions: {
          libraryName: 'antd',
          libraryDirectory: 'es',
          style: true,
        },
      },
    },
  ],
}
```

## lianer3588

è¿™ä¸ªé—®é¢˜æˆ‘ä¹Ÿé‡åˆ°äº† å¤§ä½¬è§£å†³äº†å—
