# EditableProTable ä½¿ç”¨formItemæ¨¡å¼ï¼Œå¹¶ä¸”å­—æ®µè®¾ç½®äº†formItemPropsçš„rulesæ—¶æ•°æ®ä¼šå‡ºé”™ğŸ§[é—®é¢˜]

`AI Reply`

### ğŸ§ é—®é¢˜æè¿°

EditableProTable ä½¿ç”¨formItemæ¨¡å¼ï¼Œå¹¶ä¸”å­—æ®µè®¾ç½®äº†formItemPropsçš„rulesæ—¶æ•°æ®ä¼šå‡ºé”™ã€‚
![1](https://user-images.githubusercontent.com/183884/201242955-c3178025-4f49-4d6f-98df-3c086968b1ba.jpg)
å½“æœªå¼€å¯ï¼ˆæ³¨é‡Šæ‰ï¼‰formItemPropsçš„rulesæ—¶ä¸€åˆ‡æ­£å¸¸ï¼Œ
å½“å¼€å¯ä½¿ç”¨formItemPropsçš„rulesæ—¶æ•°æ®ä¼šå‡ºç°é”™è¯¯
å…·ä½“ä¸¤ç§é”™è¯¯
æ­¥éª¤ä¸€ï¼šè§„æ ¼1 è§„æ ¼2åˆ†åˆ«æ–°å¢ä¸¤ä¸ªè§„æ ¼å€¼ï¼Œç”Ÿæˆå¥½skuåå¡«å†™å¥½skuçš„åº“å­˜æ­¤æ—¶æœ‰å››æ¡æ•°æ®
![2](https://user-images.githubusercontent.com/183884/201243007-bcaaf2e4-01e3-4fb3-9b29-c189fc5ade40.jpg)
æ­¥éª¤äºŒï¼šæ–°å¢ä¸€ä¸ªè§„æ ¼2çš„è§„æ ¼å€¼ï¼Œç°åœ¨åº”è¯¥skuçš„é¡ºåºå˜åŒ–äº†ï¼Œå¦‚æœå¼€å¯äº†formItemPropsçš„rulesï¼Œåˆ™ä¼šæ¸…ç©ºé¡ºåºå˜åŒ–çš„åº“å­˜å€¼ï¼ˆé¢„æœŸä¸å˜åŒ–ï¼Œå› ä¸ºæ˜¯æ ¹æ®idåˆ¤æ–­çš„ï¼Œidå¹¶æ²¡æœ‰å˜ï¼‰ã€‚æˆ–è€…å¡«å†™æ–°å¢çš„skuçš„åº“å­˜çš„æ—¶å€™ ä¹Ÿä¼šæ¸…ç©ºä¸‹é¢ä¸€æ¡çš„å€¼ï¼ˆåº”è¯¥ä¹Ÿæ˜¯é¡ºåºé—®é¢˜ï¼‰
![3](https://user-images.githubusercontent.com/183884/201243072-27da76be-d1c6-4a5e-9e04-c969cf7b7b41.jpg)
![4](https://user-images.githubusercontent.com/183884/201243081-833d3fd8-d990-4a44-b5dd-d37e70d15fd5.jpg)

[ç¤ºä¾‹ä»£ç ](https://codesandbox.io/s/funny-cherry-ivgg7u?file=/src/App.tsx)

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

### ğŸ¤” è§£å†³æ–¹æ¡ˆ

è¿™æ˜¯ä¸€ä¸ªä¸ Ant Design ç»„ä»¶åº“ä¸€èµ·ä½¿ç”¨æ—¶å¸¸è§çš„é—®é¢˜ã€‚åŸå› æ˜¯ Ant Design è¡¨å•éªŒè¯æœºåˆ¶ä¼šè§¦å‘è¡¨å•ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚

ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ useMemo æˆ– useCallback æ¥ç¼“å­˜ç»„ä»¶ï¼Œä»¥é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ useMemo æˆ– useCallback æ—¶ï¼Œéœ€è¦æŠŠç›¸åº”çš„ä¾èµ–é¡¹ï¼ˆdependenciesï¼‰ä¼ é€’è¿›å»ï¼Œä»¥ä¾¿å®ƒä»¬èƒ½å¤Ÿæ­£ç¡®åœ°å“åº”æ•°æ®å˜åŒ–ã€‚

```tsx
// ç¼“å­˜è¡¨å•ç»„ä»¶
const memoFormItem = useCallback(
  (record, dataIndex, form) => {
    const formItemProps = {
      name: [dataIndex, record.id],
      rules: [
        {
          required: true,
          message: `${
            dataIndex.charAt(0).toUpperCase() + dataIndex.slice(1)
          }ä¸èƒ½ä¸ºç©º`,
        },
      ],
    };
    return (
      <Form.Item {...formItemProps}>
        <Input />
      </Form.Item>
    );
  },
  [], // è¿™é‡Œæ²¡æœ‰ä½¿ç”¨ä»»ä½•ä¾èµ–é¡¹
);

// ä½¿ç”¨ç¼“å­˜çš„è¡¨å•ç»„ä»¶
columns.map((column) => {
  const col = {
    ...column,
    // ä½¿ç”¨ memoFormItem ä»£æ›¿ column.render
    render: (_, record) => memoFormItem(record, column.dataIndex, form),
    ellipsis: true,
  };
  return col;
});
```

è¿™é‡Œä½¿ç”¨äº† useCallback æ¥ç¼“å­˜è¡¨å•ç»„ä»¶ï¼Œç„¶åä½¿ç”¨ memoFormItem ä»£æ›¿äº† column.renderã€‚è¿™æ ·å°±å¯ä»¥é¿å… Ant Design çš„è¡¨å•éªŒè¯æœºåˆ¶è§¦å‘ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚åŒæ—¶ï¼Œç”±äº useCallback æ²¡æœ‰ä½¿ç”¨ä»»ä½•ä¾èµ–é¡¹ï¼Œè¿™æ„å‘³ç€å®ƒåªä¼šè¢«åˆ›å»ºä¸€æ¬¡ï¼Œå¹¶åœ¨æ•´ä¸ªç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­é‡å¤ä½¿ç”¨ã€‚
