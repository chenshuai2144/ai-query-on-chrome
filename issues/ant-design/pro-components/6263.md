# å¦‚ä½•ä½¿ç”¨antdçš„ConfigProviderçš„tokenèƒ½åŠ›ä¿®æ”¹ProComponentsçš„ä¸»é¢˜è‰²

### ğŸ§ é—®é¢˜æè¿°

æ›´æ–°antd5.0å’ŒProComponents2.0 ä½¿ç”¨antdä¸­çš„ConfigProvider å®šä¹‰theme token æ— æ³•å½±å“ProTable ä¸­çš„æŒ‰é’®ä¸»é¢˜è‰²ï¼Œå¦‚ä½•é€šè¿‡ConfigProviderä¿®æ”¹ProComponentsçš„ä¸»é¢˜è‰²ï¼Ÿ

### ğŸ’» ç¤ºä¾‹ä»£ç 

```tsx
<ConfigProvider
  locale={zhCN}
  theme={{ token: { colorPrimary: "#7ED321", borderRadius: 4 } }}
>
  <ConfigProviderWrap>
    <RouterProvider router={router} />
  </ConfigProviderWrap>
</ConfigProvider>
```

### ğŸš‘ å…¶ä»–ä¿¡æ¯

"antd": "^5.0.1",
"@ant-design/pro-components": "^2.3.34",
"vite": "^3.0.0"

## XuJin186

ç­‰å¾…è§£å†³ æˆ‘ä¹Ÿé‡åˆ°äº†

## hs-ltbyce

ä¹Ÿæœ‰åŒæ ·é—®é¢˜

## Teeoo

```tsx
<ConfigProvider
  theme={{
    token: {
      colorPrimary: "#5A54F9",
    },
  }}
>
  <Outlet />
</ConfigProvider>
```

å¥½åƒæ²¡å•¥é—®é¢˜,æ­£å¸¸æ˜¾ç¤º

## hs-ltbyce

@Teeoo ä¸è¡Œå§ï¼ŒcolorPrimaryæ”¹çš„åªæ˜¯antdçš„seedToken ï¼Œè€Œproæœ¬æ¥å°±æ˜¯åŸºäºantdå¼€å‘çš„ä¸Šå±‚ç»„ä»¶ï¼Œæ‰€ä»¥çœ‹èµ·æ¥æ˜¯æœ‰æ•ˆçš„ã€‚ä½†æ˜¯å®ƒå†…éƒ¨è¿˜æœ‰å¾ˆå¤šè‡ªå®šä¹‰æ ·å¼ï¼Œæ²¡æœ‰åŠæ³•é€šè¿‡tokenè¿›è¡Œä¿®æ”¹ã€‚

## hsulei

æˆ‘ä½¿ç”¨`ConfigProvider` åªæ˜¯æ”¹å˜äº†å•ç‹¬çš„`Antd`ç»„ä»¶ï¼Œ `ProTable`è¿™äº›`pro-components`ä¸­çš„æŒ‰é’®ä¸»é¢˜è‰²æ˜¯ä¸èƒ½æ”¹å˜çš„

## Teeoo

0.0 æœ‰å¯èƒ½æˆ‘ä»¬è¯´çš„æŒ‰é’®ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿
æˆ‘è¯´çš„æŒ‰é’®æ˜¯toolBarRenderä¸­çš„ä¸œè¥¿ä½ ä»¬è¯´çš„æ˜¯å•¥

## hsulei

@Teeoo ä½ çš„èƒ½å˜è‰²ï¼Ÿ æˆ‘`ProTable`ä¸­çš„toolBarRender ä¸è¡Œå•Šï¼Œ `search`ä¸­çš„æŒ‰é’®ä¹Ÿä¸è¡Œ

## hsulei

@Teeoo è¿˜æ˜¯è¯´æˆ‘ConfigProvideræ”¾çš„ä½ç½®ä¸å¯¹ï¼Ÿ

## Teeoo

å¯ä»¥å•Š

## hsulei

@Teeoo æˆ‘é‚£æ ·å†™æ³•æ²¡æœ‰æ•ˆæœå•Šï¼Œç»„ä»¶ç‰ˆæœ¬åº”è¯¥éƒ½æ˜¯å¯¹çš„å•Š

## hsulei

@Teeoo å¾ˆå¥‡æ€ªï¼Œ æˆ‘æ˜¯å§ConfigProvideråŠ åœ¨<RouterProvider router={router} />ä¸Šçš„ï¼ŒLoginFormPageçš„ä¸»é¢˜è‰²å¯ä»¥æ”¹å˜ï¼Œä½†ProTableé‡Œé¢çš„ä¸»é¢˜è‰²æ”¹ä¸äº†ï¼Œéœ€è¦å†æ”¹<Outlet />å¤–é¢å†åŒ…ä¸€ä¸ª

## KarasuShin

```ts
import { ConfigProvider } from 'antd'

 <ConfigProvider theme={{
      token: {
        colorPrimary: palette.primary,
        colorPrimaryHover: palette['primary-5'],
      },
    }}>
    <RouterProvider router={routes} />
  </ConfigProvider>
```

æˆ‘é€šè¿‡è¿™ç§æ–¹å¼ä¼ é€’tokenï¼ŒProTableç»„ä»¶é‡ŒcolorPrimaryHoverç”Ÿæ•ˆäº†ï¼Œä½†æ˜¯colorPrimaryæœªç”Ÿæ•ˆ

## hsulei

>

ä¸çŸ¥é“æ˜¯ä¸æ˜¯ProLayouté‡Œæ˜¯ä¸æ˜¯åˆå¹²äº†å•¥ï¼Œæˆ‘è¦åœ¨ProLayoutä¸­åœ¨åŠ ä¸€ä¸ªConfigProvideræ‰æœ‰ç”¨

## Teeoo

![image](https://user-images.githubusercontent.com/25023667/204413930-f1ccdcf7-29f9-4bfb-a1a9-6a0d0e142836.png)
![image](https://user-images.githubusercontent.com/25023667/204414017-c8421f3d-4aed-40a2-b9c3-24309b190dab.png)

## hsulei

@Teeoo æ²¡ç”¨umi..

## Teeoo

åº”è¯¥å’Œumiæ²¡å•¥å…³ç³»å§

## hsulei

![image](https://user-images.githubusercontent.com/12029069/204414598-2f34ce7b-ffc3-4b50-b644-2b327b3db5f0.png)
![image](https://user-images.githubusercontent.com/12029069/204414646-8f8667bd-0efb-484e-8b27-a5b29297758b.png)

## Teeoo

å•Šè¿™.... ä¸æ¸…æ¥šå•¥æƒ…å†µä½ è¿™å—æ˜¯å†™å“ªçš„ï¼Ÿ(è¿™æ˜¯gqlé¡¹ç›®ä¹ˆ0.0

## hsulei

@Teeoo ä½ çš„è¿™ä¸ªé…ç½®ï¼Œæ˜¯åœ¨ProLayoutçš„childrené‡Œé¢çš„å§ï¼Ÿ

## Teeoo

æ–°å»ºçš„layout

## hsulei

@Teeoo æœ‰ç”¨ProLayoutå—ï¼Ÿ

## Teeoo

```json
"dependencies": {
    "@ant-design/icons": "^4.8.0",
    "@ant-design/pro-components": "^2.3.35",
    "@lottiefiles/react-lottie-player": "^3.4.9",
    "@umijs/max": "^4.0.33",
    "ahooks": "^3.7.2",
    "antd": "^5.0.2",
    "crypto-js": "^4.1.1",
    "fuzzy": "^0.1.3",
    "inquirer-autocomplete-prompt": "^3.0.0",
    "lodash": "^4.17.21",
    "nunjucks": "^3.2.3",
    "qiniu-js": "^3.4.1",
    "typed.js": "^2.0.12",
    "umi-presets-pro": "^1.0.8"
  }
```

## hsulei

ä¸æ˜¯è¿™ä¸ªï¼Œæˆ‘çš„layoutç»„ä»¶é‡Œé¢æ˜¯
![image](https://user-images.githubusercontent.com/12029069/204415760-a354be3d-cf16-427c-b649-3303c748f3b4.png)
ç„¶å`ConfigProvider`æ˜¯åœ¨è¿™ä¸ª`ProLayout`ç»„ä»¶å¤–é¢çš„

## hs-ltbyce

@hsulei å› ä¸º ProConfigProvider æ˜¯è¿™æ ·æå¾—ï¼š
path: packages\provider\src\index.tsx

```
  return (
    <AntdConfigProvider {...configProvider}>
      <ConfigProVoidContainer {...props} token={token} />
    </AntdConfigProvider>
  );
```

æ˜¨å¤©çœ‹äº†ä¸€ä¸‹æºç , proé‡Œé¢è‡ªå·±å†™äº†ä¸€å¥—defaultToken,é»˜è®¤ä½¿ç”¨äº†antdçš„defaultAlgorithmç®—æ³•ä½œä¸ºç¼ºçœï¼Œç›®å‰ç¡®å®æ˜¯ä¸æ”¯æŒç”¨antdçš„token
packages\provider\src\useStyle\token.ts

```
export const defaultToken = {
customToken,
...(theme?.defaultAlgorithm?.(theme?.defaultSeed) as any),
...
}
```

## Teeoo

ä½ åœ¨ä¸å—å½±å“çš„åœ°æ–¹å•ç‹¬å¥—ä¸ªConfigProviderç”Ÿæ•ˆä¸ï¼Ÿ

## hsulei

é‚£éœ€è¦å†ProLayouté‡Œé¢åœ¨åŒ…ä¸€ä¸‹äº†

## chenshuai2144

æˆ‘ä¿®å¤äº†ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œå‘å®Œç‰ˆæœ¬å°±å¯ä»¥å®Œç¾ä½¿ç”¨äº†

## XuJin186

> æˆ‘ä¿®å¤äº†ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œå‘å®Œç‰ˆæœ¬å°±å¯ä»¥å®Œç¾ä½¿ç”¨äº†

åç­‰æ›´æ–°

## XuJin186

@chenshuai2144 è¿™æ˜¯å•¥å¥‡è‘©è®¾è®¡ï¼Ÿ algorithm: dark ?? proProvide.dark ? darkAlgorithm : defaultAlgorithm,
https://github.com/ant-design/pro-components/blob/0044bcdba504f4c7c610a9d3720995a4d4d40460/packages/provider/src/index.tsx#L465

é™¤äº†darkæˆ‘ä¸èƒ½è®¾ç½®åˆ«çš„äº†å˜›ï¼Ÿcompactå’Œdarkä¸€èµ·ç”¨ä¸è¡Œå˜›
