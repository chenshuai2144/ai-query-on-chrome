# ğŸ›[BUG]åœ¨ProFormä¸­ä½¿ç”¨EditableProTableæ—¶ï¼Œé‡æ–°æ¸²æŸ“åé€šè¿‡formRefå¾—åˆ°å…¶å±æ€§å€¼å¼‚å¸¸ï¼Œä¼šå°†åŸå€¼å˜ä¸ºJsonï¼ˆå­—å…¸ï¼‰å¯¹è±¡

`AI Reply`

### ğŸ› bug æè¿°

æˆ‘è®¾å®šäº†åœ¨åˆ‡æ¢radioåˆ°æ–‡æœ¬åï¼Œå°†formä¸­dataå­—æ®µçš„å€¼æ”¹ä¸ºjsonå­—ç¬¦ä¸²ã€‚è¿™æ—¶å†åˆ‡æ¢è¡¨æ ¼æ—¶ï¼Œé€šè¿‡formRefè·å–çš„dataå°±å˜ä¸ºäº†ä¸€ä¸ªJsonå¯¹è±¡ï¼Œè€Œä¸æ˜¯æœŸæœ›çš„jsonå­—ç¬¦ä¸²ï¼ˆæ§åˆ¶å°æœ‰æ‰“å°ï¼‰ï¼š

![image](https://user-images.githubusercontent.com/29675005/205502742-eca810b3-6d29-4fd3-a8d4-935cccc895cd.png)

---

![image](https://user-images.githubusercontent.com/29675005/205502545-cb880989-163c-4b42-8014-6b78a20ac80b.png)

---

### ğŸ“· å¤ç°æ­¥éª¤

æ‰“å¼€ä¸‹é¢boxï¼Œç„¶ååˆ‡æ¢Radioåˆ°ã€æ–‡æœ¬ã€‘å†åˆ‡æ¢ã€è¡¨æ ¼ã€‘ï¼Œå†æŸ¥çœ‹æ§åˆ¶å°æ‰“å°å³å¯å¤ç°ï¼š
[https://codesandbox.io/s/gu-ding-biao-tou-forked-x3m2gt?file=/App.tsx](https://codesandbox.io/s/gu-ding-biao-tou-forked-x3m2gt?file=/App.tsx)

### ğŸ æœŸæœ›ç»“æœ

è¿”å›å­—ç¬¦ä¸²æ•°ç»„

### ğŸ’» å¤ç°ä»£ç 

[https://codesandbox.io/s/gu-ding-biao-tou-forked-x3m2gt?file=/App.tsx](https://codesandbox.io/s/gu-ding-biao-tou-forked-x3m2gt?file=/App.tsx)

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: 2.3.37
- umi ç‰ˆæœ¬:3.5.35
- æµè§ˆå™¨ç¯å¢ƒ:chrome
- å¼€å‘ç¯å¢ƒ :win10

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

ä½ å¥½ï¼Œæ ¹æ®ä½ çš„æè¿°å’Œæä¾›çš„ä»£ç ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯ç”±äºä½ åœ¨ ProForm ä¸­ä½¿ç”¨ EditableProTable æ—¶ï¼Œé‡æ–°æ¸²æŸ“åé€šè¿‡ formRef è·å–å±æ€§å€¼æ—¶ï¼Œå°†å­˜å‚¨ä¸ºå­—ç¬¦ä¸²çš„ data å­—æ®µå˜æˆäº†å¯¹è±¡çš„é—®é¢˜ã€‚è¯·å°è¯•å°†ä»¥ä¸‹ä»£ç æ³¨é‡Šæ‰ï¼š

```jsx
// onChange={(value) =>{
//   console.log(value);
//   form.setFieldsValue({
//     'data': JSON.stringify(value),
//   });
// }}
```

ç„¶ååˆ‡æ¢åˆ°â€œè¡¨æ ¼â€é€‰é¡¹å¡ï¼Œä½ ä¼šå‘ç°é€šè¿‡ formRef è·å–åˆ°çš„ data å­—æ®µå€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè€Œä¸æ˜¯å¯¹è±¡ã€‚è¿™æ˜¯å› ä¸ºä½ çš„ onChange äº‹ä»¶ä¸­æ‰‹åŠ¨è°ƒç”¨äº† form.setFieldsValueï¼Œæ”¹å˜äº†è¡¨å•çš„å€¼ã€‚è€Œ ProForm ä¸­çš„ Editable è¡¨æ ¼ç»„ä»¶ä¹Ÿä¼šæ”¹å˜è¡¨å•çš„å€¼ï¼Œå¯¼è‡´å‡ºç°å†²çªã€‚

å¦‚æœä½ éœ€è¦å°† Editable è¡¨æ ¼ä¸­çš„å€¼ä¼ é€’åˆ°åç«¯ï¼Œä½ å¯ä»¥ä½¿ç”¨è¡¨å•æäº¤ï¼Œä¾‹å¦‚ï¼š

```jsx
const onFinish = (values) => {
  console.log("Received values: ", values);
};

const queryData = [
  {
    key: "0",
    name: "",
    age: "",
    address: "",
  },
];

return (
  <ProForm onFinish={onFinish}>
    <Radio.Group value={type} onChange={(e) => setType(e.target.value)}>
      <Radio value="text">æ–‡æœ¬</Radio>
      <Radio value="table">è¡¨æ ¼</Radio>
    </Radio.Group>

    {type === "table" && (
      <EditableProTable
        rowKey="key"
        maxLength={5}
        columns={columns}
        value={data}
        onChange={setData}
        editable={{
          type: "multiple",
          editableKeys,
          onChange: setEditableRowKeys,
          onDelete: handleDelete,
        }}
      />
    )}

    <ProFormList name="data">
      <ProFormGroup>
        <ProFormText name="name" />
        <ProFormText name="age" />
        <ProFormText name="address" />
      </ProFormGroup>
    </ProFormList>

    <ProFormSubmitButton>æäº¤</ProFormSubmitButton>
  </ProForm>
);
```

å…·ä½“å®ç°å¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://procomponents.ant.design/components/table-row-editable-cn/)å’Œ[ç¤ºä¾‹ä»£ç ](https://codesandbox.io/s/row-editable-form-pro-components-demo-forked-ciftv?file=/src/pages/TableList.tsx)ã€‚

å¸Œæœ›èƒ½å¸®åŠ©ä½ è§£å†³é—®é¢˜ï¼Œæœ‰é—®é¢˜å¯ä»¥ç»§ç»­æå‡ºã€‚

## chenshuai2144

ä¿®å¤å¥½äº†ï¼Œåˆ¤æ–­å†™é”™äº†å¯¼è‡´çš„
