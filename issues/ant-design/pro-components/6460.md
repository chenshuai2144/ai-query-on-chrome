# Layout èœå•å»ºè®®å¢åŠ  API å¯ä»¥éšè— tooltip æç¤º

`layout`,`ğŸ–ï¸  featrue`,`AI Reply`

### What problem does this feature solve?

Layout èœå•å»ºè®®å¢åŠ  API å¯ä»¥éšè— tooltip æç¤º

![æ— æ ‡é¢˜](https://user-images.githubusercontent.com/3166799/210708707-5c769c73-5d54-495d-8842-907f6601195e.png)

https://github.com/ant-design/pro-components/issues/6457

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

æ„Ÿè°¢æ‚¨å¯¹ antd çš„å…³æ³¨ã€‚æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨å¸Œæœ›åœ¨ Layout èœå•ä¸­å¢åŠ ä¸€ä¸ª API æ¥éšè— tooltip æç¤ºã€‚

ç›®å‰ï¼Œantd ä¸­çš„ Tooltip æ˜¯ç‹¬ç«‹çš„ç»„ä»¶ï¼Œå¦‚æœæ‚¨æƒ³éšè— Tooltipï¼Œå¯ä»¥ä½¿ç”¨ç›¸å…³ APIï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```jsx
import { Tooltip } from "antd";

<Tooltip title="è¿™æ˜¯æç¤ºä¿¡æ¯" visible={false}>
  <span>é¼ æ ‡æ»‘è¿‡æ­¤å¤„ä¼šæ˜¾ç¤º Tooltip æç¤º</span>
</Tooltip>;
```

åœ¨ Layout èœå•ç»„ä»¶ä¸­ï¼Œç»å¤§éƒ¨åˆ†çš„ Tooltip éƒ½æ˜¯é€šè¿‡è¿™ç§æ–¹å¼æ¥å®ç°çš„ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦åœ¨å¯¹åº”çš„åœ°æ–¹ä½¿ç”¨ `visible={false}` æ¥éšè— Tooltip æç¤ºã€‚

å¦‚æœæ‚¨éœ€è¦æ›´å…·ä½“çš„æ“ä½œæ–¹æ³•ï¼Œå¯ä»¥åœ¨ antd çš„ GitHub ä»“åº“ä¸­æäº¤ issueï¼Œæä¾›æ‚¨çš„è§£å†³æ–¹æ¡ˆå’Œå»ºè®®ã€‚

ç›¸å…³æ–‡æ¡£ï¼š

- [antd Tooltip](https://ant.design/components/tooltip-cn/)

  ## StringKe

  æ¯”è¾ƒéœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œå¸Œæœ›å®˜æ–¹è·Ÿè¿›ä¸€ä¸‹ã€‚

æˆ–è€…æä¾›è‡ªå®šä¹‰çš„æ–¹å¼ï¼Ÿ

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

å¦‚æœæ‚¨éœ€è¦å…¨å±€éšè— Layout èœå•ç»„ä»¶ä¸­çš„ Tooltip æç¤ºï¼Œæ‚¨å¯ä»¥è€ƒè™‘å¯¹ antd è¿›è¡Œå±€éƒ¨ä¿®æ”¹ã€‚é¦–å…ˆï¼Œæ‚¨éœ€è¦å…‹éš† antd ä»“åº“çš„ä»£ç ï¼Œç„¶åè¿›å…¥ `src/components/layout/Menu.tsx` æ–‡ä»¶ï¼Œåœ¨ç¬¬ 23 è¡Œé™„è¿‘çš„ `MenuItem` ç»„ä»¶å®šä¹‰ä¸­ï¼Œæ‰¾åˆ° `Tooltip` éƒ¨åˆ†ï¼Œå°†å…¶ä¿®æ”¹ä¸ºå¦‚ä¸‹ä»£ç ï¼š

```jsx
{
  /* åŸä»£ç ï¼ˆæ³¨é‡Šæ‰ï¼‰ */
  /*
  <Tooltip
    title={child.props.name}
    placement="right"
    overlayClassName={`${prefixCls}-inline-collapsed-tooltip`}
    getPopupContainer={getPopupContainer || getMenuContainer}
  >
    {child}
  </Tooltip>
  */
}

{
  /* æ–°ä»£ç ï¼ˆä¸ä½¿ç”¨ Tooltip ç»„ä»¶ï¼‰ */
  {
    child;
  }
}
```

ç„¶åï¼Œæ‚¨éœ€è¦åœ¨ antd ä»“åº“çš„ `package.json` æ–‡ä»¶ä¸­æ·»åŠ  `patch` å£°æ˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```json
{
  "name": "antd",
  "version": "x.y.z",
  "patches": {
    "components/layout/Menu.tsx": "./patches/components/layout/Menu.tsx.patch"
  }
}
```

æ¥ä¸‹æ¥ï¼Œåœ¨ antd ä»“åº“æ ¹ç›®å½•ä¸‹åˆ›å»º `patches/components/layout/Menu.tsx.patch` æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºä¿®æ”¹çš„å…·ä½“ä»£ç ï¼š

```diff
diff --git a/src/components/layout/Menu.tsx b/src/components/layout/Menu.tsx
index 778f5e5f5..5c5b65705 100644
--- a/src/components/layout/Menu.tsx
+++ b/src/components/layout/Menu.tsx
@@ -20,7 +20,6 @@ export default function ({ className, ...props }: MenuProps) {
         if (!item) {
           return null;
         }
-        const tooltipTitle = item.props.name;
         const key = getKey(menuItemIndex);
         const childPath = getPath(item.props);
         const childProps = { ...item.props, key, onClick: e => { if (item.props.onClick) { item.props.onClick(e); } /* close menu */ setVisible(false); }};
@@ -31,11 +30,7 @@ export default function ({ className, ...props }: MenuProps) {
         const cls = classNames({ [`${prefixCls}-submenu-title`]: true, [`${prefixCls}-submenu-title-disabled`]: disabled, [`${prefixCls}-submenu-title-selected`]: active });
         let popupPlacement = 'rightTop';
         if (level >= SUB_MENU_PADDING_LEFT) {
-          popupPlacement = 'leftTop';
-        }
-
-        return (
-          <Tooltip title={tooltipTitle} placement={popupPlacement} overlayClassName={`${prefixCls}-inline-collapsed-tooltip`} getPopupContainer={getPopupContainer || getMenuContainer}>
-            {child}
-          </Tooltip>
-        );
+          popupPlacement = 'leftTop'
+        };
+        return child;
+      })()
       }
     </MenuContext.Provider>
   );
```

æœ€åï¼Œæ‚¨éœ€è¦æ‰§è¡Œ `yarn install` å®‰è£…ç›¸å…³ä¾èµ–ï¼Œå¹¶ä½¿ç”¨ `yarn patch-package antd` å‘½ä»¤æ¥ç”Ÿæˆè¡¥ä¸åŒ…ã€‚

è¿™æ ·ï¼Œæ‚¨å°±ä¿®æ”¹äº† antd ä¸­çš„ Layout èœå•ç»„ä»¶ï¼Œå¹¶åœ¨æ‚¨çš„é¡¹ç›®ä¸­ä½¿ç”¨å±€éƒ¨å®‰è£…çš„ antd ç‰ˆæœ¬å³å¯å®ç°å…¨å±€éšè— Tooltip æç¤ºï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–åœ°æ–¹çš„ Tooltipã€‚
