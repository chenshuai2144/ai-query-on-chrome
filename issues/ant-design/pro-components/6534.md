# ğŸ›[BUG] itemClick é‡åˆ°è­¦å‘Šï¼šA future version of React will block javascript:

`AI Reply`

æé—®å‰å…ˆçœ‹çœ‹ï¼š

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### ğŸ› bug æè¿°

åœ¨é…ç½®ProLayoutç»„ä»¶æ—¶ï¼Œé€šè¿‡appListè®¾ç½®åº”ç”¨åˆ—è¡¨ï¼Œç”±äºæˆ‘ä»¬é¡¹ç›®ä½¿ç”¨äº†`react-router`åšè·¯ç”±ï¼Œæ‰€ä»¥æ”¾å¼ƒä½¿ç”¨å±æ€§`url`ï¼Œè€Œæ”¹ç”¨`itemClick`æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬ï¼Œæ‰§è¡Œæ—¶é‡åˆ°äº†å¦‚ä¸‹è­¦å‘Šä¿¡æ¯ï¼š

```shell
Warning: A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed "javascript:;"
```

### ğŸ“· å¤ç°æ­¥éª¤

<!--
æ¸…æ™°æè¿°å¤ç°æ­¥éª¤ï¼Œè®©åˆ«äººä¹Ÿèƒ½çœ‹åˆ°é—®é¢˜ï¼Œå¦‚æœå¯èƒ½ï¼Œå°½é‡æä¾›å¯æ‰§è¡Œä»£ç ï¼Œ
å¦‚ï¼šhttps://codesandbox.io/ åœ¨æ­¤å¤„åˆ›å»ºä¸€ä¸ª codesandboxï¼Œæ–¹ä¾¿æˆ‘ä»¬æ›´å¿«çš„æ’æŸ¥å’Œå¤ç°é—®é¢˜
-->

ç›´æ¥åœ¨å®˜æ–¹Demoä¸­è¿½åŠ ProLayoutçš„`itemClick`å³å¯é‡ç°é—®é¢˜ã€‚

### ğŸ æœŸæœ›ç»“æœ

ä¸å‡ºç°è¯¥è­¦å‘Š

### ğŸ’» å¤ç°ä»£ç 

<!--
æä¾›å¯å¤ç°çš„ä»£ç ï¼Œä»“åº“ï¼Œæˆ–çº¿ä¸Šç¤ºä¾‹
-->

æ­¤å¤„æä¾›æºç ä½ç½®ï¼špackages/layout/src/components/AppsLogoComponents/

- DefaultContent.tsxï¼ˆ37åˆ°48è¡Œï¼‰
- SimpleContent.tsxï¼ˆ67åˆ°77è¡Œï¼‰

```tsx
<a
  href={itemClick ? "javascript:;" : app.url}
  onClick={() => itemClick?.(app)}
  target={app.target}
  rel="noreferrer"
>
  {defaultRenderLogo(app.icon)}
  <div>
    <div>{app.title}</div>
    {app.desc ? <span>{app.desc}</span> : null}
  </div>
</a>
```

æ­¤å¤„è®¾ç½®`href`æ—¶ï¼Œè‹¥å­˜åœ¨itemClickå¯ç›´æ¥å°†hrefè®¾ç½®æˆ`#`æˆ–`""`è€Œä¸ä½¿ç”¨`javascript:;`ï¼Œè¿™ä¸ªè­¦å‘Šå°±ä¼šæ¶ˆå¤±ã€‚

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponentsï¼š2.3.52
- umi ç‰ˆæœ¬ï¼šæ— 
- æµè§ˆå™¨ç¯å¢ƒï¼šChrome
- å¼€å‘ç¯å¢ƒï¼šMacOs

### ğŸš‘ å…¶ä»–ä¿¡æ¯

![image](https://user-images.githubusercontent.com/10274220/213863565-b888d127-93af-4a26-97d5-ef7595a048fa.png)

## silentbalanceyh

è¿™ä¸ªé—®é¢˜æœ‰æ›´æ–°ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯æ‰¾ä¸ªäººå›å¤æˆ‘ä¸€ä¸‹ï¼Œæˆ‘æœ€è¿‘ä¸€ç›´è¢«è¿™ä¸ªé—®é¢˜å›°æ‰°ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥åœ¨æ–°ç‰ˆä¸­è§£å†³ä¸€ä¸‹ï¼Œè¿™é‡Œæ”¹åŠ¨å¹¶ä¸å¤§ã€‚å› ä¸ºæˆ‘ä¸ªäººä¸çŸ¥é“è®¾è®¡çš„åˆè¡·ï¼Œæ‰€ä»¥ä¸æ•¢è½»æ˜“æäº¤å¯¹åº”çš„PRï¼Œæ€•å¯¹å…¶ä»–åœ°æ–¹æœ‰å½±å“ã€‚

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

ä½ å¥½ï¼Œç›®å‰çœ‹æ¥ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯ç”±äºä½¿ç”¨äº† `javascript:` å½¢å¼çš„é“¾æ¥é€ æˆçš„ï¼Œè€Œè¿™ç§å½¢å¼å·²ç»è¢«æ ‡è®°ä¸ºä¸å®‰å…¨ï¼Œæœªæ¥çš„ React ç‰ˆæœ¬å¯èƒ½ä¼šé»˜è®¤ç¦ç”¨ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘å°†é“¾æ¥è®¾ç½®ä¸ºä¸€ä¸ªä¸åŒ…å« `javascript:` çš„å½¢å¼ï¼Œæ¯”å¦‚ä½¿ç”¨ä¸€ä¸ª `#` æˆ–è€… `""` ä½œä¸ºé“¾æ¥åœ°å€ã€‚

å¯¹äº ProLayout ç»„ä»¶çš„ `itemClick` å±æ€§ï¼Œä½ å¯ä»¥å°è¯•ç›´æ¥å°†é“¾æ¥åœ°å€è®¾ç½®ä¸º `#` æˆ–è€… `""`ï¼Œè¿™æ ·å°±æ— éœ€ä½¿ç”¨ `javascript:` å½¢å¼çš„é“¾æ¥äº†ã€‚åŒæ—¶ï¼Œæˆ‘ä¹Ÿå»ºè®®ä½ å‘ç»„ä»¶çš„å¼€å‘äººå‘˜æäº¤ä¸€ä¸ª issueï¼Œæå‡ºè¿™ä¸ªé—®é¢˜å¹¶è¯´æ˜è§£å†³æ–¹æ¡ˆï¼Œä»¥å¸®åŠ©ä»–ä»¬æ›´å¿«åœ°ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœä½ æœ‰èƒ½åŠ›å¹¶ä¸”æ„Ÿå…´è¶£ï¼Œä¹Ÿå¯ä»¥æäº¤ä¸€ä¸ª pull request æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

å¦‚æœä½ éœ€è¦æ›´å¤šå¸®åŠ©ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚

## silentbalanceyh

ç›®å‰æ²¡æœ‰æ›´æ–°çš„è®¡åˆ’ä¹ˆï¼Ÿå…³äºè¿™ä¸ªè­¦å‘Šï¼Ÿ

## chenshuai2144

ai å·²ç»è§£é‡Šçš„å¾ˆæ¸…æ¥šäº†ï¼Œreact routerä¸æ”¯æŒ javascript: çš„ urlï¼Œå› ä¸ºè¿™æ ·æ˜¯ä¸å®‰å…¨çš„
