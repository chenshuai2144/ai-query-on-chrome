# ğŸ§[BUG]ProFormList åµŒå¥— ProFormDependency name={['name']} è·å–ä¸åˆ°å†…å±‚æ•°æ®

`AI Reply`

![image](https://user-images.githubusercontent.com/29296595/217422436-5ab286c8-a2cc-4290-80a4-e128ae108333.png)

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

ä½ å¥½ï¼Œæ ¹æ®ä½ æä¾›çš„æˆªå›¾ï¼Œå¯ä»¥çœ‹åˆ°ä½ åœ¨ä½¿ç”¨ antd-pro çš„ `ProFormList` å’Œ `ProFormDependency` ç»„ä»¶è¿›è¡Œè¡¨å•é¡¹çš„é…ç½®ã€‚ä½†æ˜¯åœ¨åµŒå¥— `ProFormList` ä¸­ä½¿ç”¨ `ProFormDependency` ç»„ä»¶æ— æ³•è·å–åˆ°å†…å±‚æ•°æ®ã€‚è¿™ä¸€é—®é¢˜å¯èƒ½æ˜¯ç”±äº `ProFormDependency` ç»„ä»¶å’Œ `ProFormList` ç»„ä»¶çš„åµŒå¥—ä½¿ç”¨æ–¹å¼ä¸æ­£ç¡®å¯¼è‡´çš„ã€‚

ä½ å¯ä»¥å°è¯•ä½¿ç”¨å¦‚ä¸‹ä»£ç ç‰‡æ®µæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š

```jsx
import { useState } from "react";
import { ProFormList, ProFormDependency } from "@ant-design/pro-form";

const Demo = () => {
  const [data, setData] = useState([{ id: 1, name: "", intro: "" }]);

  return (
    <ProFormList
      name="test"
      creatorButtonProps={{
        position: "bottom",
      }}
      children={(fields, { add, remove }) => {
        return (
          <>
            {fields.map((field, index) => (
              <ProFormDependency
                key={field.key}
                name={[field.name, "id"]}
                value={data[index]?.id}
              >
                <ProFormList key={field.key} name={field.name}>
                  <ProFormDependency name={[field.name, "name"]}>
                    <ProFormText />
                  </ProFormDependency>
                  <ProFormDependency name={[field.name, "intro"]}>
                    <ProFormTextArea />
                  </ProFormDependency>
                </ProFormList>
              </ProFormDependency>
            ))}
            <Button
              type="dashed"
              onClick={() => {
                add();
              }}
            >
              <PlusOutlined />
              æ–°å¢
            </Button>
          </>
        );
      }}
    />
  );
};

export default Demo;
```

è¿™é‡Œä½¿ç”¨äº† `useState` hook æ¥ç»´æŠ¤ `ProFormList` ä¸­è¡¨å•é¡¹çš„æ•°æ®ï¼Œå¹¶å°†æ•°æ®ä½œä¸º `ProFormDependency` çš„é»˜è®¤å€¼ï¼Œè¿™æ ·å¯ä»¥å®ç°åµŒå¥—è¡¨å•é¡¹çš„è”åŠ¨æ›´æ–°ã€‚

å¸Œæœ›è¿™ä¸ªè§£å†³æ–¹æ¡ˆèƒ½å¤Ÿå¸®åŠ©ä½ è§£å†³é—®é¢˜ã€‚å¦å¤–ï¼Œä¹Ÿæ¬¢è¿ä½ æŸ¥çœ‹ antd-pro å®˜æ–¹æ–‡æ¡£æ¥æ›´å¥½åœ°ç†è§£ç›¸å…³ç»„ä»¶çš„ä½¿ç”¨æ–¹å¼ã€‚

## houkeepmoving

> > TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> > æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚
>
> ä½ å¥½ï¼Œæ ¹æ®ä½ æä¾›çš„æˆªå›¾ï¼Œå¯ä»¥çœ‹åˆ°ä½ åœ¨ä½¿ç”¨ antd-pro çš„ `ProFormList` å’Œ `ProFormDependency` ç»„ä»¶è¿›è¡Œè¡¨å•é¡¹çš„é…ç½®ã€‚ä½†æ˜¯åœ¨åµŒå¥— `ProFormList` ä¸­ä½¿ç”¨ `ProFormDependency` ç»„ä»¶æ— æ³•è·å–åˆ°å†…å±‚æ•°æ®ã€‚è¿™ä¸€é—®é¢˜å¯èƒ½æ˜¯ç”±äº `ProFormDependency` ç»„ä»¶å’Œ `ProFormList` ç»„ä»¶çš„åµŒå¥—ä½¿ç”¨æ–¹å¼ä¸æ­£ç¡®å¯¼è‡´çš„ã€‚
>
> ä½ å¯ä»¥å°è¯•ä½¿ç”¨å¦‚ä¸‹ä»£ç ç‰‡æ®µæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š
>
> ```js
> import { useState } from "react";
> import { ProFormList, ProFormDependency } from "@ant-design/pro-form";
>
> const Demo = () => {
>   const [data, setData] = useState([{ id: 1, name: "", intro: "" }]);
>
>   return (
>     <ProFormList
>       name="test"
>       creatorButtonProps={{
>         position: "bottom",
>       }}
>       children={(fields, { add, remove }) => {
>         return (
>           <>
>             {fields.map((field, index) => (
>               <ProFormDependency
>                 key={field.key}
>                 name={[field.name, "id"]}
>                 value={data[index]?.id}
>               >
>                 <ProFormList key={field.key} name={field.name}>
>                   <ProFormDependency name={[field.name, "name"]}>
>                     <ProFormText />
>                   </ProFormDependency>
>                   <ProFormDependency name={[field.name, "intro"]}>
>                     <ProFormTextArea />
>                   </ProFormDependency>
>                 </ProFormList>
>               </ProFormDependency>
>             ))}
>             <Button
>               type="dashed"
>               onClick={() => {
>                 add();
>               }}
>             >
>               <PlusOutlined />
>               æ–°å¢
>             </Button>
>           </>
>         );
>       }}
>     />
>   );
> };
>
> export default Demo;
> ```
>
> è¿™é‡Œä½¿ç”¨äº† `useState` hook æ¥ç»´æŠ¤ `ProFormList` ä¸­è¡¨å•é¡¹çš„æ•°æ®ï¼Œå¹¶å°†æ•°æ®ä½œä¸º `ProFormDependency` çš„é»˜è®¤å€¼ï¼Œè¿™æ ·å¯ä»¥å®ç°åµŒå¥—è¡¨å•é¡¹çš„è”åŠ¨æ›´æ–°ã€‚
>
> å¸Œæœ›è¿™ä¸ªè§£å†³æ–¹æ¡ˆèƒ½å¤Ÿå¸®åŠ©ä½ è§£å†³é—®é¢˜ã€‚å¦å¤–ï¼Œä¹Ÿæ¬¢è¿ä½ æŸ¥çœ‹ antd-pro å®˜æ–¹æ–‡æ¡£æ¥æ›´å¥½åœ°ç†è§£ç›¸å…³ç»„ä»¶çš„ä½¿ç”¨æ–¹å¼ã€‚

I have solved the problem in other ways

By the wayï¼ŒchatGPT YYDS!!!

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

Glad to hear that you've solved the problem! If you have any other questions or concerns, feel free to ask. And thank you for your kind words about ChatGPT!
