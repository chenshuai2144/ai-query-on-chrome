# 🐛[问题] 导入 @ant-design/pro-components TypeScript 报错无解

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

<!--
详细地描述 bug，让大家都能理解
-->

### 📷 复现步骤

<img width="695" alt="image" src="https://user-images.githubusercontent.com/69514654/218176509-65686730-3d6e-4e5f-8398-73371cba34ac.png">
升级后，报错。

```ts
文件名“xxxxxx/node_modules/@ant-design/pro-components/es/index.d.ts”仅在大小写方面与包含的文件名“xxxxxx/node_modules/@ant-design/pro-components/es/index.d.ts”不同。
  程序包含该文件是因为:
    通过 "xxxxxx/node_modules/@ant-design/pro-components" 从具有 packageId "@ant-design/pro-components/es/index.d.ts@2.3.54" 的文件 "xxxxxx/src/.umi/plugin-layout/types.d.ts" 引用了库类型
```

已重装过

<!--
清晰描述复现步骤，让别人也能看到问题，如果可能，尽量提供可执行代码，
如：https://codesandbox.io/ 在此处创建一个 codesandbox，方便我们更快的排查和复现问题
-->

### 🏞 期望结果

<!--
描述你原本期望看到的结果
-->

### 💻 复现代码

<!--
提供可复现的代码，仓库，或线上示例
-->

### © 版本信息

- ProComponents 版本: 2.3.54
- @umijs/max: 4.0.51
- antd: 4.24.7
- typescript: 4.9.5
- yarn: 1.22.15
- nodejs 16.16.0
- npm: 8.11.0
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## chenshuai2144

https://unpkg.com/browse/@ant-design/pro-components@2.3.54/

目测是安装依赖出问题了，`git clean -dfx` 删除一下重新安装

## 985563349

> https://unpkg.com/browse/@ant-design/pro-components@2.3.54/
>
> 目标是安装依赖出题了，`git clean -dfx`删除一下重新安装

已按步骤进行操作，但问题仍然存在。

## chenshuai2144

打开这个路径看看为啥有大小写的问题 是不是你的项目名重复了

## drizzlesconsin

真是坑死了，怎么会装到小写的路径。只有 pro-components 会。@chenshuai2144
<img width="850" alt="image" src="https://user-images.githubusercontent.com/69514654/219421663-4dbbae3f-001a-4ffb-b746-8b125af2886b.png">

## hxuelun

最后怎么解决了？我也出现了这个问题

## 985563349

> 打开这个路径看看为啥有大小写的问题 是不是你的项目名重复了

项目并没有重名。最后pro-compoents版本回滚到2.3.37后错误消失了😢

## hxuelun

> > 打开这条路看看为啥有大小写的问题是不是你的项目名称重新了
>
> 项目并没有重名。最后pro-components版本返回滚到2.3.37后错误消失了😢

我把pro-components版本返回滚到2.3.37也还是存在这个问题😢

## SilkageNet

是否有新的解决方案呢？升级了哪个已修复的版本呢？ @chenshuai2144

## chongyi

问题依然存在，有无解决办法，前面的方案都不行

## yang-xianzhu

应该是项目名有中文问题。

## xuiwife

今天也遇到了这样的问题 最后找到了解决方法
产生原因：
vscode升级后，本地的ts版本和项目的ts版本不一致导致
解决方法：
vscode里面 按住 Ctrl + Shift + P ----> 选择typescript版本 ----> 选择使用工作区版本
![image](https://user-images.githubusercontent.com/8436428/230821454-f785e922-49f7-4980-a053-61bf6119ea21.png)
![image](https://user-images.githubusercontent.com/8436428/230821749-8e6e0626-a729-4a52-b14b-3c6ec8e76e6c.png)

## Locter9001

> 今天也遇到了这样的问题 最后找到了解决方法 产生原因： vscode升级后，本地的ts版本和项目的ts版本不一致导致 解决方法： vscode里面 按住 Ctrl + Shift + P ----> 选择typescript版本 ----> 选择使用工作区版本 ![image](https://user-images.githubusercontent.com/8436428/230821454-f785e922-49f7-4980-a053-61bf6119ea21.png) ![image](https://user-images.githubusercontent.com/8436428/230821749-8e6e0626-a729-4a52-b14b-3c6ec8e76e6c.png)

问题解决，感谢大佬

## pistachio214

> 今天也遇到了这样的问题 最后找到了解决方法 产生原因： vscode升级后，本地的ts版本和项目的ts版本不一致导致 解决方法： vscode里面 按住 Ctrl + Shift + P ----> 选择typescript版本 ----> 选择使用工作区版本 ![image](https://user-images.githubusercontent.com/8436428/230821454-f785e922-49f7-4980-a053-61bf6119ea21.png) ![image](https://user-images.githubusercontent.com/8436428/230821749-8e6e0626-a729-4a52-b14b-3c6ec8e76e6c.png)

感谢大佬，问题解决了

## KunioHaha

我的项目因为外部目录有大写字母，导致vscode飘红，但并不影响使用，tsconfig加入下面配置解决红字问题
"compilerOptions": {
"forceConsistentCasingInFileNames": false
}

## g1091541365

typescriptv5.0.3的版本下仍有该问题

## nicolaszhao

>

我这边也是同样的问题，antd 模块的引用也一样。父级路径都解析成全小写的了。

## xjiejie97

ts版本4.9.5，使用该方法已解决。感谢大佬

## Jingws

> 感谢，还是强制禁止改检查来的靠谱

## MistFrontendDeveloper

> 今天也遇到了这样的问题 最后找到了解决方法 产生原因： vscode升级后，本地的ts版本和项目的ts版本不一致导致 解决方法： vscode里面 按住 Ctrl + Shift + P ----> 选择typescript版本 ----> 选择使用工作区版本 ![image](https://user-images.githubusercontent.com/8436428/230821454-f785e922-49f7-4980-a053-61bf6119ea21.png) ![image](https://user-images.githubusercontent.com/8436428/230821749-8e6e0626-a729-4a52-b14b-3c6ec8e76e6c.png)

解决了我的问题，谢谢

## Xiakeming97

问题解决了，感谢🙏

## Sallyfafafa

> 今天也遇到了这样的问题 最后找到了解决方法 产生原因： vscode升级后，本地的ts版本和项目的ts版本不一致导致 解决方法： vscode里面 按住 Ctrl + Shift + P ----> 选择typescript版本 ----> 选择使用工作区版本 ![image](https://user-images.githubusercontent.com/8436428/230821454-f785e922-49f7-4980-a053-61bf6119ea21.png) ![image](https://user-images.githubusercontent.com/8436428/230821749-8e6e0626-a729-4a52-b14b-3c6ec8e76e6c.png)

谢谢老板，问题解决🙏

## jerrylau91

VSCode 自带的 TS 版本和工作区的 TS 版本不一致。

## nasa1024

出现相同问题，已经按照大佬方式解决

## mjkohoh

> 今天也遇到了这样的问题 最后找到了解决方法 产生原因： vscode升级后，本地的ts版本和项目的ts版本不一致导致 解决方法： vscode里面 按住 Ctrl + Shift + P ----> 选择typescript版本 ----> 选择使用工作区版本 ![image](https://user-images.githubusercontent.com/8436428/230821454-f785e922-49f7-4980-a053-61bf6119ea21.png) ![image](https://user-images.githubusercontent.com/8436428/230821749-8e6e0626-a729-4a52-b14b-3c6ec8e76e6c.png)

实测有用，跪谢。

## yunstv

如果选择为工作区间版本还报红,那么在试一试改下tsconfig,中forceConsistentCasingInFileNames项为false再看看
![image](https://github.com/ant-design/pro-components/assets/17945292/8285c5c5-21e7-42f9-9dd9-d4bd78e45201)
![image](https://github.com/ant-design/pro-components/assets/17945292/272c2c14-49ce-4023-b5c5-dc94362a74e1)

## 5201314999

> 我的项目因为外部目录有大写字母，导致vscode飘红，但并不影响使用，tsconfig加入下面配置解决红字问题 "compilerOptions": { "forceConsistentCasingInFileNames": false }

你这种强行关闭不太好吧，太暴力了

## 5201314999

> > 今天也遇到了这样的问题 最后找到了解决方法 产生原因： vscode升级后，本地的ts版本和项目的ts版本不一致导致 解决方法： vscode里面 按住 Ctrl + Shift + P ----> 选择typescript版本 ----> 选择使用工作区版本 ![image](https://user-images.githubusercontent.com/8436428/230821454-f785e922-49f7-4980-a053-61bf6119ea21.png) ![image](https://user-images.githubusercontent.com/8436428/230821749-8e6e0626-a729-4a52-b14b-3c6ec8e76e6c.png)
>
> 解决了我的问题，谢谢

我的一开始不行，是因为我开了vscode 插件volar， 改的typescript 版本貌似是改到volar， 所以还是报错，后面直接关掉volar 插件了

## 5201314999

这个飘红只在yarn 安装依赖才有，换成pnpm 就不会，不过pnpm 下又会引入其他一些问题。官方是否可以支持梳理定位下原因，解释下
