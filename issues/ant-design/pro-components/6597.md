# ğŸ›[BUG]ProFormDateTimeRangePickerä¸­è®¾ç½®formatådateFormatterä¸èµ·ä½œç”¨

`â­•ï¸   bug`,`form`,`AI Reply`

æé—®å‰å…ˆçœ‹çœ‹ï¼š

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### ğŸ› bug æè¿°

ProFormDateTimeRangePickerä¸­è®¾ç½®formatådateFormatterä¸èµ·ä½œç”¨

<!--
è¯¦ç»†åœ°æè¿° bugï¼Œè®©å¤§å®¶éƒ½èƒ½ç†è§£
-->

### ğŸ“· å¤ç°æ­¥éª¤

<!--
æ¸…æ™°æè¿°å¤ç°æ­¥éª¤ï¼Œè®©åˆ«äººä¹Ÿèƒ½çœ‹åˆ°é—®é¢˜ï¼Œå¦‚æœå¯èƒ½ï¼Œå°½é‡æä¾›å¯æ‰§è¡Œä»£ç ï¼Œ
å¦‚ï¼šhttps://codesandbox.io/ åœ¨æ­¤å¤„åˆ›å»ºä¸€ä¸ª codesandboxï¼Œæ–¹ä¾¿æˆ‘ä»¬æ›´å¿«çš„æ’æŸ¥å’Œå¤ç°é—®é¢˜
-->

[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/antd-reproduction-template-forked-1o4mkf?file=/index.js)

### ğŸ æœŸæœ›ç»“æœ

å› ä¸ºéœ€è¦å±•ç¤ºçš„æ—¶å€™ä¸æ˜¾ç¤ºæ—¶åŒºï¼Œä½†æ˜¯æäº¤æ•°æ®æ—¶å¸¦æ—¶åŒºï¼Œæ‰€ä»¥éœ€è¦ä¸¤ä¸ªè®¾ç½®éƒ½ç”Ÿæ•ˆ

<!--
æè¿°ä½ åŸæœ¬æœŸæœ›çœ‹åˆ°çš„ç»“æœ
-->

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: 2.3.54
- umi ç‰ˆæœ¬
- æµè§ˆå™¨ç¯å¢ƒ edge 110.0.1587.41
- å¼€å‘ç¯å¢ƒ win0

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

æ ¹æ®å¤ç°æ­¥éª¤æä¾›çš„ä»£ç æ ·ä¾‹ï¼Œå¯ä»¥çœ‹åˆ°è®¾ç½® `format` åï¼Œ`dateFormatter` å¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚è¿™å¯èƒ½æ˜¯ `ProFormDateTimeRangePicker` ç»„ä»¶çš„ä¸€ä¸ª BUGã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶ä»–çš„æ–¹å¼æ¥å¤„ç†æ—¥æœŸæ ¼å¼å’Œæ—¶åŒºçš„é—®é¢˜ã€‚

ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆæ˜¯ï¼Œåœ¨ä»è¡¨å•è·å–æ•°æ®æ—¶ï¼Œå¯¹æ—¥æœŸè¿›è¡Œæ ¼å¼åŒ–å’Œæ—¶åŒºè½¬æ¢ï¼Œç„¶åå†æäº¤ç»™åç«¯ã€‚å¯ä»¥ä½¿ç”¨ `luxon` åº“æ¥è¿›è¡Œæ—¥æœŸæ ¼å¼åŒ–å’Œæ—¶åŒºè½¬æ¢ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

```typescript
import { DateTime } from "luxon";

// ä»è¡¨å•è·å–æ•°æ®ï¼Œå¹¶å°†æ—¥æœŸæ ¼å¼åŒ–å’Œæ—¶åŒºè½¬æ¢
const formData = form.getFieldsValue();
const start_time = DateTime.fromJSDate(formData.start_time).toUTC();
const end_time = DateTime.fromJSDate(formData.end_time).toUTC();

// æäº¤ç»™åç«¯çš„æ•°æ®
const postData = {
  start_time: start_time.toISO(),
  end_time: end_time.toISO(),
};

// å‘é€è¯·æ±‚ï¼Œæäº¤æ•°æ®ç»™åç«¯
// ...
```

è¿™é‡Œæˆ‘ä»¬å°†æ—¥æœŸå¯¹è±¡ä½¿ç”¨ `DateTime.fromJSDate()` æ–¹æ³•è½¬æ¢ä¸º `luxon` çš„ `DateTime` å¯¹è±¡ï¼Œç„¶åä½¿ç”¨ `toUTC()` æ–¹æ³•å°†å®ƒä»¬è½¬æ¢ä¸º UTC æ—¶åŒºçš„æ—¥æœŸï¼Œæœ€åä½¿ç”¨ `toISO()` æ–¹æ³•å°†æ—¥æœŸæ ¼å¼åŒ–æˆ ISO æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæ–¹ä¾¿æäº¤ç»™åç«¯ã€‚

å‚è€ƒæ–‡æ¡£ï¼š

- `luxon` å®˜æ–¹æ–‡æ¡£ï¼šhttps://moment.github.io/luxon/
