# 🐛[BUG] EditableProTable: 在一次更新后，如果editableKeys的值从有值变为undefined时，会报错

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

BUG现象： 在一次更新后，如果editableKeys的值从 值Array 变为 undefined 时，会报以下错误：
Cannot read properties of undefined (reading 'map')

<!--
详细地描述 bug，让大家都能理解
-->

### 📷 复现步骤

复现demo：
https://codesandbox.io/s/ke-bian-ji-biao-ge-forked-u2ol0x?file=/App.tsx:1153-1165

1. 点击保存，让 editableKeys 变为 undefined 由受控变为非受控
2. 报错

<!--
清晰描述复现步骤，让别人也能看到问题，如果可能，尽量提供可执行代码，
如：https://codesandbox.io/ 在此处创建一个 codesandbox，方便我们更快的排查和复现问题
-->

### 🏞 期望结果

保存后无报错，EditableProTable 的可编辑行由受控变为非受控交由组件控制

<!--
描述你原本期望看到的结果
-->

### 💻 复现代码

https://codesandbox.io/s/ke-bian-ji-biao-ge-forked-u2ol0x?file=/App.tsx:1153-1165

<!--
提供可复现的代码，仓库，或线上示例
-->

### © 版本信息

- ProComponents 版本: [2.3.43]
- umi 版本
- 浏览器环境
- 开发环境 [mac OS]

### 🚑 其他信息

debug了一下，useEditableArray 中的 useMergedState 逻辑 [link](https://github.com/react-component/util/blob/da23dd829289b882e93a73a2b0bb8d3e4695a4de/src/hooks/useMergedState.ts#L60) 会让返回值设置为undefined，但是TS定义没有体现这一点，导致后面出现了问题

<!--
如截图等其他信息可以贴在这里
-->
