# ğŸ›[BUG]ProTableç»„ä»¶ ï¼ŒfilterType: 'light'æ—¶ï¼ŒselectæŸ¥è¯¢æ¡†æ— æ³•è¾“å…¥å¤§å†™å­—æ¯

`AI Reply`

### ğŸ› bug æè¿°

**selectä¸‹æ‹‰æ¡†é…ç½®showSearch: trueæ—¶ï¼ŒæŸ¥è¯¢æ¡†è¾“å…¥å¤§å†™å­—æ¯ä¼šè¢«è½¬æˆå°å†™**

### ğŸ“· å¤ç°æ­¥éª¤

`// è¡¨æ ¼é…ç½®filterType: 'light',
search={{
        filterType: 'light',
      }}
// åˆ—é…ç½®showSearch: true
{
    title: 'åˆ›å»ºè€…',
    dataIndex: 'creator',
    valueType: 'select',
    valueEnum: {
      all: { text: 'å…¨éƒ¨' },
      ä»˜å°å°: { text: 'ä»˜å°å°' },
      æ›²ä¸½ä¸½: { text: 'æ›²ä¸½ä¸½' },
      æ—ä¸œä¸œ: { text: 'æ—ä¸œä¸œ' },
      é™ˆå¸…å¸…: { text: 'é™ˆå¸…å¸…' },
      å…¼æŸæŸ: { text: 'å…¼æŸæŸ' },
    },
    fieldProps: {
      showSearch: true
    }
  },`
[https://codesandbox.io/s/30ctxk?file=/App.tsx](url)

### ğŸ æœŸæœ›ç»“æœ

æŸ¥è¯¢æ¡†èƒ½æ­£ç¡®æ˜¾ç¤ºè¾“å…¥çš„å¤§å†™å­—ç¬¦

### ğŸ’» å¤ç°ä»£ç 

[https://codesandbox.io/s/30ctxk?file=/App.tsx:988-1296](url)
`{
    title: 'åˆ›å»ºè€…',
    dataIndex: 'creator',
    valueType: 'select',
    valueEnum: {
      all: { text: 'å…¨éƒ¨' },
      ä»˜å°å°: { text: 'ä»˜å°å°' },
      æ›²ä¸½ä¸½: { text: 'æ›²ä¸½ä¸½' },
      æ—ä¸œä¸œ: { text: 'æ—ä¸œä¸œ' },
      é™ˆå¸…å¸…: { text: 'é™ˆå¸…å¸…' },
      å…¼æŸæŸ: { text: 'å…¼æŸæŸ' },
    },
    fieldProps: {
      showSearch: true
    }`

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: [e.g. 4.0.0]
- umi ç‰ˆæœ¬
- æµè§ˆå™¨ç¯å¢ƒ
- å¼€å‘ç¯å¢ƒ [e.g. mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<img width="308" alt="image" src="https://user-images.githubusercontent.com/26462931/222319285-4a719dbe-46c4-4e99-a0ac-8881e98f3ed9.png">

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

è¿™ä¸ªé—®é¢˜æ˜¯Ant Design Proç»„ä»¶åº“ProTableçš„ä¸€ä¸ªbugã€‚åœ¨é…ç½®äº†`showSearch:true`æ—¶ï¼Œè¾“å…¥å¤§å†™å­—æ¯ä¼šè¢«è½¬ä¸ºå°å†™å­—æ¯ã€‚

è§£å†³æ–¹æ¡ˆï¼š
å¯ä»¥é€šè¿‡è‡ªå®šä¹‰filterDropdownæ¥è§£å†³é—®é¢˜ï¼Œå…·ä½“å®ç°å¯ä»¥å‚è€ƒå¦‚ä¸‹ç¤ºä¾‹ï¼š

```
<ProTable
  columns={[
    {
      title: 'å§“å',
      dataIndex: 'name',
      key: 'name',
      valueType: 'text',
      filters: [
        {
          text: 'Lucy',
          value: 'Lucy',
        },
        {
          text: 'Jack',
          value: 'Jack',
        },
        {
          text: 'Lena',
          value: 'Lena',
        },
      ],
      onFilter: (value, record) => record.name.indexOf(value) === 0,
      filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (
        <div style={{ padding: 8 }}>
          <Input
            placeholder="Search name"
            value={selectedKeys[0]}
            onChange={(e) => setSelectedKeys(e.target.value ? [e.target.value.toUpperCase()] : [])}
            onPressEnter={() => confirm()}
            style={{ width: 188, marginBottom: 8, display: 'block' }}
          />
          <Button
            type="primary"
            onClick={() => confirm()}
            size="small"
            style={{ width: 90, marginRight: 8 }}
          >
            Search
          </Button>
          <Button onClick={() => clearFilters()} size="small" style={{ width: 90 }}>
            Reset
          </Button>
        </div>
      ),
    },
    {
      title: 'å¹´é¾„',
      dataIndex: 'age',
      key: 'age',
      valueType: 'text',
    },
  ]}
  dataSource={[
    {
      key: '1',
      name: 'Lucy',
      age: 32,
    },
    {
      key: '2',
      name: 'Jack',
      age: 22,
    },
    {
      key: '3',
      name: 'Lena',
      age: 26,
    },
  ]}
  editable={{
    onSave: async (key, row) => {
      console.log(key, row);
    },
    onDelete: async (key) => {
      console.log(key);
    },
  }}
  rowKey="key"
  search={{
    filterType: 'light',
  }}
/>
```

è¯¦æƒ…è¯·æŸ¥çœ‹[æ–‡æ¡£](https://procomponents.ant.design/components/table/#API)ã€‚

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ProTableçš„æœ€æ–°ç‰ˆæœ¬ä¸”é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç›´æ¥åœ¨[Github ProTable Issues](https://github.com/ant-design/pro-components/issues)ä¸Šæå‡ºæ‚¨çš„é—®é¢˜ï¼Œä½œè€…ä¼šåœ¨24å°æ—¶å†…å›å¤è§£å†³æ–¹æ¡ˆã€‚
