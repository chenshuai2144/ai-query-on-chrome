# 🐛[BUG]ProTable组件 ，filterType: 'light'时，select查询框无法输入大写字母

`AI Reply`

### 🐛 bug 描述

**select下拉框配置showSearch: true时，查询框输入大写字母会被转成小写**

### 📷 复现步骤

`// 表格配置filterType: 'light',
search={{
        filterType: 'light',
      }}
// 列配置showSearch: true
{
    title: '创建者',
    dataIndex: 'creator',
    valueType: 'select',
    valueEnum: {
      all: { text: '全部' },
      付小小: { text: '付小小' },
      曲丽丽: { text: '曲丽丽' },
      林东东: { text: '林东东' },
      陈帅帅: { text: '陈帅帅' },
      兼某某: { text: '兼某某' },
    },
    fieldProps: {
      showSearch: true
    }
  },`
[https://codesandbox.io/s/30ctxk?file=/App.tsx](url)

### 🏞 期望结果

查询框能正确显示输入的大写字符

### 💻 复现代码

[https://codesandbox.io/s/30ctxk?file=/App.tsx:988-1296](url)
`{
    title: '创建者',
    dataIndex: 'creator',
    valueType: 'select',
    valueEnum: {
      all: { text: '全部' },
      付小小: { text: '付小小' },
      曲丽丽: { text: '曲丽丽' },
      林东东: { text: '林东东' },
      陈帅帅: { text: '陈帅帅' },
      兼某某: { text: '兼某某' },
    },
    fieldProps: {
      showSearch: true
    }`

### © 版本信息

- ProComponents 版本: [e.g. 4.0.0]
- umi 版本
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

<img width="308" alt="image" src="https://user-images.githubusercontent.com/26462931/222319285-4a719dbe-46c4-4e99-a0ac-8881e98f3ed9.png">

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方员会在一定时间后继续继续处理。

这个问题是Ant Design Pro组件库ProTable的一个bug。在配置了`showSearch:true`时，输入大写字母会被转为小写字母。

解决方案：
可以通过自定义filterDropdown来解决问题，具体实现可以参考如下示例：

```
<ProTable
  columns={[
    {
      title: '姓名',
      dataIndex: 'name',
      key: 'name',
      valueType: 'text',
      filters: [
        {
          text: 'Lucy',
          value: 'Lucy',
        },
        {
          text: 'Jack',
          value: 'Jack',
        },
        {
          text: 'Lena',
          value: 'Lena',
        },
      ],
      onFilter: (value, record) => record.name.indexOf(value) === 0,
      filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (
        <div style={{ padding: 8 }}>
          <Input
            placeholder="Search name"
            value={selectedKeys[0]}
            onChange={(e) => setSelectedKeys(e.target.value ? [e.target.value.toUpperCase()] : [])}
            onPressEnter={() => confirm()}
            style={{ width: 188, marginBottom: 8, display: 'block' }}
          />
          <Button
            type="primary"
            onClick={() => confirm()}
            size="small"
            style={{ width: 90, marginRight: 8 }}
          >
            Search
          </Button>
          <Button onClick={() => clearFilters()} size="small" style={{ width: 90 }}>
            Reset
          </Button>
        </div>
      ),
    },
    {
      title: '年龄',
      dataIndex: 'age',
      key: 'age',
      valueType: 'text',
    },
  ]}
  dataSource={[
    {
      key: '1',
      name: 'Lucy',
      age: 32,
    },
    {
      key: '2',
      name: 'Jack',
      age: 22,
    },
    {
      key: '3',
      name: 'Lena',
      age: 26,
    },
  ]}
  editable={{
    onSave: async (key, row) => {
      console.log(key, row);
    },
    onDelete: async (key) => {
      console.log(key);
    },
  }}
  rowKey="key"
  search={{
    filterType: 'light',
  }}
/>
```

详情请查看[文档](https://procomponents.ant.design/components/table/#API)。

如果您使用的是ProTable的最新版本且遇到了这个问题，可以直接在[Github ProTable Issues](https://github.com/ant-design/pro-components/issues)上提出您的问题，作者会在24小时内回复解决方案。
