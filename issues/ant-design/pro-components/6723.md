# EditableProTableçš„formItemPropsé€‰é¡¹ä½¿ç”¨å‡½æ•°æ—¶ï¼Œå¦‚æœé…ç½®äº†rulesé€‰é¡¹requiredå°±ä¼šå¤±æ•ˆ

`AI Reply`

### ğŸ› bug æè¿°

EditableProTableçš„formItemPropsé€‰é¡¹ä½¿ç”¨å‡½æ•°æ—¶ï¼Œå¦‚æœé…ç½®äº†rulesé€‰é¡¹requiredå°±ä¼šå¤±æ•ˆï¼ˆè¿˜æœ‰å°±æ˜¯å¦‚æœåªæƒ³è¦\*åªèƒ½é…ç½®ä¸€ä¸‹labelï¼‰

```
      columns={[
        {
          dataIndex: 'name',
          formItemProps() {
            return {
              required: true,
              label: '\t',
              colon: false,
              rules: [ { required: true } ]
            }
          },
        },
        {
          dataIndex: 'email',
          formItemProps() {
            return {
              required: true,
              label: '\t',
              colon: false,
            }
          }
        }
      ]}
```

### ğŸ“· å¤ç°æ­¥éª¤

### ğŸ æœŸæœ›ç»“æœ

ä¸¤åˆ—éƒ½æœ‰requiredMarkæ ‡è¯†

### ğŸ’» å¤ç°ä»£ç 

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: [e.g. 4.0.0]
- umi ç‰ˆæœ¬
- æµè§ˆå™¨ç¯å¢ƒ
- å¼€å‘ç¯å¢ƒ [e.g. mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<img width="1029" alt="image" src="https://user-images.githubusercontent.com/26105827/223083811-ae760359-e8e7-4024-8355-153660a32592.png">

## hans000

issue #5504

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹å‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

æ„Ÿè°¢æä¾›é—®é¢˜ï¼Œä½ çš„é—®é¢˜æ˜¯å› ä¸º `EditableProTable` ç»„ä»¶ä¸­çš„ `formItemProps` é€‰é¡¹çš„å‡½æ•°è¿”å›å€¼æ²¡æœ‰ä¼ é€’ç»™ Ant Design ä¸­çš„ `FormItem` ç»„ä»¶ã€‚

è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ `EditableProTable` ç»„ä»¶çš„å†…éƒ¨ä½¿ç”¨ä¼ é€’çš„ `formItemProps` å‡½æ•°æ¥ä¸ºæ¯ä¸€åˆ—çš„ `FormItem` ç»„ä»¶ä¼ é€’ `rules`ï¼Œæœ¬è´¨ä¸Šæ˜¯å°†è¿”å›å‡½æ•°çš„ç»“æœä¾æ¬¡å‘ä¸‹ä¼ é€’ã€‚

å¦‚æœåªæƒ³ä¸ºè¯¥åˆ—é…ç½® labelï¼Œå¯ä»¥ä¿®æ”¹ `EditableProTable` ç»„ä»¶å†…éƒ¨çš„ `FormItem` ç»„ä»¶çš„ labelCol å±æ€§ï¼Œè®©å…¶å®½åº¦ä¸ºé›¶ï¼Œè¿™æ ·å³å¯å®ç°åªæœ‰ä¸€ä¸ª labelï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é…ç½® `FormItem` çš„ `required`ã€‚

ä¸‹é¢æ˜¯ç¤ºä¾‹ä»£ç ï¼š

```tsx
import { EditableProTable } from "@ant-design/pro-table";
import { FormItemProps } from "antd/lib/form/FormItem";

interface TableData {
  name?: string;
  email?: string;
}

const columns = [
  {
    dataIndex: "name",
    title: "å§“å",
    formItemProps: (record: TableData, _, form: FormInstance) => {
      return {
        required: true,
        label: "\t",
        labelCol: { span: 0 }, // è¿™é‡Œé…ç½® labelColï¼Œå®½åº¦ä¸º 0ï¼Œä¹Ÿå¯ä»¥åªæ˜¯ä¸€ä¸ªç©ºæ ¼
        rules: [{ required: true }],
      };
    },
  },
  {
    dataIndex: "email",
    title: "é‚®ç®±",
    formItemProps: (record: TableData, _, form: FormInstance) => {
      return {
        required: true,
        label: "\t",
        labelCol: { span: 0 }, // è¿™é‡Œé…ç½® labelColï¼Œå®½åº¦ä¸º 0ï¼Œä¹Ÿå¯ä»¥åªæ˜¯ä¸€ä¸ªç©ºæ ¼
        rules: [{ required: true }],
      };
    },
  },
];

export default () => {
  return <EditableProTable<TableData> columns={columns} />;
};
```

éœ€è¦æ³¨æ„ï¼Œä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°† `EditableProTable` çš„æ³›å‹ç±»å‹è®¾ä¸º `TableData`ï¼Œå¯ä»¥ç®€å•å®šä¹‰ä¸º `{ name?: string; email?: string; }`ã€‚å› ä¸º `EditableProTable` é»˜è®¤ä¸ºç©ºæ•°ç»„ï¼Œä¸ä¼ é€’å…¶ä¸­çš„æ•°æ®ï¼Œåœ¨ä¸è®¾ç½®æ³›å‹æ—¶æ— æ³•æ­£ç¡®çš„æ¨æ–­åˆ—çš„æ•°æ®ç±»å‹ã€‚

å¸Œæœ›ä»¥ä¸Šè§£å†³æ–¹æ¡ˆå¯ä»¥å¸®åˆ°ä½ ï¼Œå¦‚æœ‰å…¶ä»–é—®é¢˜è¯·éšæ—¶é—®æˆ‘ã€‚

## hans000

@chenshuai2144 æ˜¯å› ä¸ºé…ç½®rulesåèµ°InternalFormItemFunctionè¿‡æ»¤labelå±æ€§å¯¼è‡´çš„ï¼Œè¿™é‡Œæ˜¯æœ‰ä»€ä¹ˆè€ƒé‡è¿˜æ˜¯æ€ä¹ˆï¼Ÿ
<img width="816" alt="image" src="https://user-images.githubusercontent.com/26105827/223321117-3724ca38-938d-4915-8571-fef55b215950.png">

<img width="781" alt="image" src="https://user-images.githubusercontent.com/26105827/223320819-e52ba164-aa39-4462-8a5d-452d3d49c71f.png">
