# ğŸ§[é—®é¢˜] åµŒå¥—çš„åˆ—æ’åº

`AI Reply`

### ğŸ”© æ‰€å±æ¨¡å—æˆ–ç»„ä»¶

ProTable

### ğŸ¥° éœ€æ±‚æè¿°

Columns çš„åˆ—è®¾ç½®æ”¯æŒåˆ—çš„æ’åºï¼ˆé sorter æ’åºï¼‰ï¼Œä¸çŸ¥é“æ€ä¹ˆé…ç½®å¯ä»¥æ”¯æŒ åµŒå¥—åˆ—å†…éƒ¨çš„æ’åº

### â›° åŠŸèƒ½éœ€æ±‚é€‚ç”¨åœºæ™¯

å¤šçº§åµŒå¥—çš„åˆ—éœ€è¦æ’åº

### ğŸš‘ å…¶ä»–ä¿¡æ¯

Exampleï¼š

```tsx
import { EllipsisOutlined } from "@ant-design/icons";
import type { ProColumns } from "@ant-design/pro-components";
import {
  LightFilter,
  ProFormDatePicker,
  ProTable,
} from "@ant-design/pro-components";
import { Button } from "antd";

export type TableListItem = {
  key: number;
  name: string;
  containers: number;
  creator: string;
};
const tableListDataSource: TableListItem[] = [];

const creators = ["ä»˜å°å°", "æ›²ä¸½ä¸½", "æ—ä¸œä¸œ", "é™ˆå¸…å¸…", "å…¼æŸæŸ"];

for (let i = 0; i < 5; i += 1) {
  tableListDataSource.push({
    key: i,
    name: "AppName",
    containers: Math.floor(Math.random() * 20),
    creator: creators[Math.floor(Math.random() * creators.length)],
  });
}

const columns: ProColumns<TableListItem>[] = [
  {
    title: "åº”ç”¨åç§°",
    dataIndex: "name",
    children: [
      {
        title: "å®¹å™¨æ•°é‡000",
        dataIndex: "containers0",
        align: "right",
        sorter: (a, b) => a.containers - b.containers,
        render: () => Math.random(),
      },
      {
        title: "åˆ›å»ºè€…000",
        dataIndex: "creator000",
        valueType: "select",
        valueEnum: {
          all: { text: "å…¨éƒ¨" },
          ä»˜å°å°: { text: "ä»˜å°å°" },
          æ›²ä¸½ä¸½: { text: "æ›²ä¸½ä¸½" },
          æ—ä¸œä¸œ: { text: "æ—ä¸œä¸œ" },
          é™ˆå¸…å¸…: { text: "é™ˆå¸…å¸…" },
          å…¼æŸæŸ: { text: "å…¼æŸæŸ" },
        },
      },
    ],
  },
  {
    title: "å®¹å™¨æ•°é‡",
    dataIndex: "containers",
    align: "right",
    sorter: (a, b) => a.containers - b.containers,
  },
  {
    title: "åˆ›å»ºè€…",
    dataIndex: "creator",
    valueType: "select",
    valueEnum: {
      all: { text: "å…¨éƒ¨" },
      ä»˜å°å°: { text: "ä»˜å°å°" },
      æ›²ä¸½ä¸½: { text: "æ›²ä¸½ä¸½" },
      æ—ä¸œä¸œ: { text: "æ—ä¸œä¸œ" },
      é™ˆå¸…å¸…: { text: "é™ˆå¸…å¸…" },
      å…¼æŸæŸ: { text: "å…¼æŸæŸ" },
    },
  },
  {
    title: "æ“ä½œ",
    key: "option",
    valueType: "option",
    width: 120,
    render: () => [
      <a key="link">é“¾è·¯</a>,
      <a key="warn">æŠ¥è­¦</a>,
      <a key="more">
        <EllipsisOutlined />
      </a>,
    ],
  },
];

export default () => {
  return (
    <ProTable<TableListItem>
      columns={columns}
      request={(params, sorter, filter) => {
        // è¡¨å•æœç´¢é¡¹ä¼šä» params ä¼ å…¥ï¼Œä¼ é€’ç»™åç«¯æ¥å£ã€‚
        console.log(params, sorter, filter);
        return Promise.resolve({
          data: tableListDataSource,
          success: true,
        });
      }}
      toolbar={{
        search: {
          onSearch: (value) => {
            alert(value);
          },
        },
        filter: (
          <LightFilter>
            <ProFormDatePicker name="startdate" label="å“åº”æ—¥æœŸ" />
          </LightFilter>
        ),
        actions: [
          <Button
            key="primary"
            type="primary"
            onClick={() => {
              alert("add");
            }}
          >
            æ·»åŠ 
          </Button>,
        ],
        menu: {
          type: "tab",
          items: [
            {
              label: "å…¨éƒ¨äº‹é¡¹",
              key: "all",
            },
            {
              label: "å·²åŠäº‹é¡¹",
              key: "done",
            },
            {
              key: "tab1",
              label: <span>åº”ç”¨</span>,
            },
            {
              key: "tab2",
              label: <span>é¡¹ç›®</span>,
            },
            {
              key: "tab3",
              label: <span>æ–‡ç« </span>,
            },
            {
              key: "tab4",
              label: <span>æ–‡ç« 1</span>,
            },
            {
              key: "tab5",
              label: <span>æ–‡ç« 2</span>,
            },
            {
              key: "tab6",
              label: <span>æ–‡ç« 3</span>,
            },
          ],
          onChange: (activeKey) => {
            console.log("activeKey", activeKey);
          },
        },
      }}
      rowKey="key"
      search={false}
    />
  );
};
```

![image](https://user-images.githubusercontent.com/117874676/221788092-da68e3bc-06f6-4aec-8459-3de8ea26345a.png)

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

### ğŸ“ è§£å†³æ–¹æ¡ˆ

åµŒå¥—åˆ—å†…éƒ¨æ’åºå¯ä»¥é€šè¿‡åœ¨ `children` é…ç½®é¡¹ä¸­è®¾ç½® `sorter` æ’åºå‡½æ•°æ¥å®ç°ã€‚å› ä¸º ProTable ç»„ä»¶ä½¿ç”¨çš„æ˜¯ antd çš„ Table ç»„ä»¶ï¼Œæ‰€ä»¥ `children` é…ç½®é¡¹å’Œ sorter æ’åºå‡½æ•°çš„ç”¨æ³•ä¸ antd çš„ Table ç»„ä»¶ç›¸åŒã€‚

åŒæ—¶éœ€è¦æ³¨æ„ï¼Œå› ä¸ºæ¶‰åŠåˆ°åµŒå¥—åˆ—ï¼Œéœ€è¦å¤šå±‚è®¿é—®å¯¹è±¡çš„å±æ€§ï¼Œæ‰€ä»¥æ’åºå‡½æ•°çš„å†™æ³•éœ€è¦åšä¸€äº›ä¿®æ”¹ã€‚å¯ä»¥ä½¿ç”¨ `a[column1][column2]` çš„æ–¹å¼æ¥è®¿é—®åµŒå¥—åˆ—ä¸­å­åˆ—çš„æ•°æ®ã€‚

ä»£ç ç¤ºä¾‹ï¼š

```tsx
import { EllipsisOutlined } from "@ant-design/icons";
import { ProColumns } from "@ant-design/pro-table";
import {
  LightFilter,
  ProFormDatePicker,
  ProTable,
} from "@ant-design/pro-components";
import { Button } from "antd";

export type TableListItem = {
  key: number;
  name: string;
  containers: number;
  creator: string;
};

const tableListDataSource: TableListItem[] = [];
const creators = ["ä»˜å°å°", "æ›²ä¸½ä¸½", "æ—ä¸œä¸œ", "é™ˆå¸…å¸…", "å…¼æŸæŸ"];

for (let i = 0; i < 5; i += 1) {
  tableListDataSource.push({
    key: i,
    name: "AppName",
    containers: Math.floor(Math.random() * 20),
    creator: creators[Math.floor(Math.random() * creators.length)],
  });
}

const columns: ProColumns<TableListItem>[] = [
  {
    title: "åº”ç”¨åç§°",
    dataIndex: "name",
    children: [
      {
        title: "å®¹å™¨æ•°é‡000",
        dataIndex: "containers0",
        align: "right",
        sorter: (a, b) => a.children[0].containers - b.children[0].containers,
        render: () => Math.random(),
      },
      {
        title: "åˆ›å»ºè€…000",
        dataIndex: "creator000",
        valueType: "select",
        valueEnum: {
          all: { text: "å…¨éƒ¨" },
          ä»˜å°å°: { text: "ä»˜å°å°" },
          æ›²ä¸½ä¸½: { text: "æ›²ä¸½ä¸½" },
          æ—ä¸œä¸œ: { text: "æ—ä¸œä¸œ" },
          é™ˆå¸…å¸…: { text: "é™ˆå¸…å¸…" },
          å…¼æŸæŸ: { text: "å…¼æŸæŸ" },
        },
      },
    ],
  },
  {
    title: "å®¹å™¨æ•°é‡",
    dataIndex: "containers",
    align: "right",
    sorter: (a, b) => a.containers - b.containers,
  },
  {
    title: "åˆ›å»ºè€…",
    dataIndex: "creator",
    valueType: "select",
    valueEnum: {
      all: { text: "å…¨éƒ¨" },
      ä»˜å°å°: { text: "ä»˜å°å°" },
      æ›²ä¸½ä¸½: { text: "æ›²ä¸½ä¸½" },
      æ—ä¸œä¸œ: { text: "æ—ä¸œä¸œ" },
      é™ˆå¸…å¸…: { text: "é™ˆå¸…å¸…" },
      å…¼æŸæŸ: { text: "å…¼æŸæŸ" },
    },
  },
  {
    title: "æ“ä½œ",
    key: "option",
    valueType: "option",
    width: 120,
    render: () => [
      <a key="link">é“¾è·¯</a>,
      <a key="warn">æŠ¥è­¦</a>,
      <a key="more">
        <EllipsisOutlined />
      </a>,
    ],
  },
];

export default () => {
  return (
    <ProTable<TableListItem>
      columns={columns}
      dataSource={tableListDataSource}
      search={false}
      rowKey="key"
      toolbar={{
        search: {
          onSearch: (value) => {
            alert(value);
          },
        },
        filter: (
          <LightFilter>
            <ProFormDatePicker name="startdate" label="å“åº”æ—¥æœŸ" />
          </LightFilter>
        ),
        actions: [
          <Button
            key="primary"
            type="primary"
            onClick={() => {
              alert("add");
            }}
          >
            æ·»åŠ 
          </Button>,
        ],
        menu: {
          type: "tab",
          items: [
            {
              label: "å…¨éƒ¨äº‹é¡¹",
              key: "all",
            },
            {
              label: "å·²åŠäº‹é¡¹",
              key: "done",
            },
            {
              key: "tab1",
              label: <span>åº”ç”¨</span>,
            },
            {
              key: "tab2",
              label: <span>é¡¹ç›®</span>,
            },
            {
              key: "tab3",
              label: <span>æ–‡ç« </span>,
            },
            {
              key: "tab4",
              label: <span>æ–‡ç« 1</span>,
            },
            {
              key: "tab5",
              label: <span>æ–‡ç« 2</span>,
            },
            {
              key: "tab6",
              label: <span>æ–‡ç« 3</span>,
            },
          ],
          onChange: (activeKey) => {
            console.log("activeKey", activeKey);
          },
        },
      }}
    />
  );
};
```

æ•ˆæœå›¾ï¼š

![image](https://user-images.githubusercontent.com/117874676/139553238-5cf333c5-9d8e-42c7-9f11-712389b12410.png)

## ClarenceAS

æƒ³è¦çš„æ•ˆæœæ˜¯ï¼šå®¹å™¨æ•°é‡000 å’Œ åˆ›å»ºè€…000 å¯ä»¥äº¤æ¢ä½ç½®
![image](https://user-images.githubusercontent.com/117874676/224239165-6303fac0-d07b-4234-832d-9fe4a024a765.png)

## chenshuai2144

ä¸æ”¯æŒçš„ï¼Œè¿™ç§åŠŸèƒ½å¤ªè¿‡äºçµæ´»æ¨èè‡ªå·±å®ç°ä¸€ä¸‹
