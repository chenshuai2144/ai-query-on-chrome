# ğŸ›[BUG] pro-table onResetç¬¬ä¸€æ¬¡ç‚¹å‡»é‡ç½®è§¦å‘ä¸¤æ¬¡æ›´æ–°

ç‰ˆæœ¬ï¼š
"@ant-design/pro-components": "^1.1.7",
"@ant-design/pro-layout": "^6.35.0",
"@ant-design/pro-table": "^2.71.0",
"antd": "4.23.0",

å¤ç°ä»£ç :

`
const asyncTableSearchRequest = async (params: SearchItem, sort: any, filter: any) => {

    const defaultParams = {}

    if (slowDataCurrentBusiness.length > 0 && slowDataCurrentService.length > 0) {
      defaultParams.business = slowDataCurrentBusiness
      defaultParams.service = slowDataCurrentService
    }

    const result = await queryWhitelistInfo(defaultParams);

    return {
      data: result.data.list,
      // success è¯·è¿”å› trueï¼Œ
      // ä¸ç„¶ table ä¼šåœæ­¢è§£ææ•°æ®ï¼Œå³ä½¿æœ‰æ•°æ®
      success: result.success,
      // ä¸ä¼ ä¼šä½¿ç”¨ data çš„é•¿åº¦ï¼Œå¦‚æœæ˜¯åˆ†é¡µä¸€å®šè¦ä¼ 
      total: result.data.total,
    };

};
`
`
<ProTable<TableListItem>
columns={columns}
onReset={async ()=> {
setSlowDataCurrentBusiness("");
setSlowDataCurrentService(""); # å…³é”®ç‚¹
return await asyncTableSearchRequest(null, null, null);
}}
request={asyncTableSearchRequest}
size="small"
rowKey="id"
toolBarRender={() => [
<Button type="primary" key="primary">
æ–°å»º
</Button>
]}
/>
`
