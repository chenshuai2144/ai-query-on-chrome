# 🐛[BUG] pro-table onReset第一次点击重置触发两次更新

版本：
"@ant-design/pro-components": "^1.1.7",
"@ant-design/pro-layout": "^6.35.0",
"@ant-design/pro-table": "^2.71.0",
"antd": "4.23.0",

复现代码:

`
const asyncTableSearchRequest = async (params: SearchItem, sort: any, filter: any) => {

    const defaultParams = {}

    if (slowDataCurrentBusiness.length > 0 && slowDataCurrentService.length > 0) {
      defaultParams.business = slowDataCurrentBusiness
      defaultParams.service = slowDataCurrentService
    }

    const result = await queryWhitelistInfo(defaultParams);

    return {
      data: result.data.list,
      // success 请返回 true，
      // 不然 table 会停止解析数据，即使有数据
      success: result.success,
      // 不传会使用 data 的长度，如果是分页一定要传
      total: result.data.total,
    };

};
`
`
<ProTable<TableListItem>
columns={columns}
onReset={async ()=> {
setSlowDataCurrentBusiness("");
setSlowDataCurrentService(""); # 关键点
return await asyncTableSearchRequest(null, null, null);
}}
request={asyncTableSearchRequest}
size="small"
rowKey="id"
toolBarRender={() => [
<Button type="primary" key="primary">
新建
</Button>
]}
/>
`
