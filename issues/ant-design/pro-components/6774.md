# 🧐[问题] 关于点击面包屑链接丢失state参数的问题

`AI Reply`

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🧐 问题描述

请问如何在点击面包屑链接的时候传递state参数？

从A跳转到B

```
const nav = useNavigate()

nav('/B', { state: xx })
```

此时点击B页面头部面包屑的B链接，页面的state丢失了

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

您好，感谢您向我提出问题。

发现问题可能是由于面包屑链接的跳转方式不同导致的。面包屑链接是由网页中的一个“返回”按钮构成的，这个按钮是由浏览器自带的行为实现的。在这个过程中，React 并不会拿到前一个页面的 state 参数。

解决方案：

1. 在面包屑链接中加入 state 参数

```jsx
<Link to="/B" state={location.state}>
  {location.pathname}
</Link>
```

2. 在 B 页面中通过 `useLocation()` 来获取 state 参数

```jsx
import { useLocation } from 'react-router-dom';

function B() {
  const location = useLocation();
  const state = location.state;

  // TODO: handle state

  return (
    // TODO: 页面渲染
  );
}
```

3. 如果面包屑链接中不能加入 state 参数，可以使用自己实现的面包屑组件代替浏览器自带的组件，同时在组件中监听路由变化，手动保存 state 参数，并在跳转时将 state 参数传递给新页面。

希望以上解决方案能够对您有所帮助，如有不明之处，请随时追问。
