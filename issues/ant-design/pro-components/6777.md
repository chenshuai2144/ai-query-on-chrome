# 🧐[问题]在ProTable的查询区域中，选择日期的组件如何设置为中文？

`AI Reply`

### 🧐 问题描述

ProTable的columns数组中有一列是创建时间，它的valueType为 `dataRange`，对应搜索栏中的日期组件如何修改成中文？

### 💻 示例代码

我的ProTable定义如下：

![图片](https://user-images.githubusercontent.com/113591655/224916039-000cb639-bf05-40a9-9fad-2d08cff1e9ce.png)

想修改的columns数组的定义如下：

![图片](https://user-images.githubusercontent.com/113591655/224916238-583b2975-fbc7-4303-a6d2-b02dddafeb5b.png)

对应查询区域的显示效果如下图：

![图片](https://user-images.githubusercontent.com/113591655/224916374-8bb74c34-65aa-4872-b15c-9d02dfa2ac92.png)

请问如何将日期组件修改为中文显示？

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

### 📝 解决方案

ProTable基于Ant Design Pro开发，日期组件使用的是antd的DatePicker组件。可以通过antd官方提供的locale属性将日期组件的文案修改为中文。

在columns数组定义中加入以下代码：

```javascript
{
  title: '创建时间',
  dataIndex: 'createdAt',
  valueType: 'dateTimeRange',
  search: {
    valueType: 'dateTimeRange',
    transform: (value) => ({
      startTime: value[0],
      endTime: value[1],
    }),
  },
  render: (text) => <a>{text}</a>,
  sorter: (a, b) => a.createdAt - b.createdAt,
  defaultSortOrder: 'descend',
  locale: {
    rangePlaceholder: ['开始日期', '结束日期'],
    rangeYearPlaceholder: ['开始年份', '结束年份'],
    rangeMonthPlaceholder: ['开始月份', '结束月份'],
    rangeWeekPlaceholder: ['开始周', '结束周'],
    locale: 'zh_CN',
  },
},
```

注意要引入antd的DatePicker组件，并将locale属性的locale值设置为'zh_CN'，这样就可以将文案改为中文了。

更多关于antd DatePicker组件的参数和示例可以查看[antd官方文档](https://ant.design/components/date-picker-cn/)。

## sunickel

感谢回复，此问题已解决，我的解决方式是添加了

`import 'moment/locale/zh-cn';`

之后日期选择组件成功设置为了中文。

![图片](https://user-images.githubusercontent.com/113591655/225490337-97a8d2c1-b047-4b0e-9dbd-119fd3590705.png)

## FishOrBear

现在是一半英文一半中文  
 locale: {
rangePlaceholder: ['开始日期', '结束日期'],
rangeYearPlaceholder: ['开始年份', '结束年份'],
rangeMonthPlaceholder: ['开始月份', '结束月份'],
rangeWeekPlaceholder: ['开始周', '结束周'],
locale: 'zh_CN',
},
这个代码也不能用了

![image](https://github.com/ant-design/pro-components/assets/19372111/829966a6-dece-42a5-a52d-2635d3da61d5)

import 'moment/locale/zh-cn';
这个也不能用

## chenshuai2144

antd 是用了 dayjs 你要再设置下 dayjs

## FishOrBear

```
import zhCN from "antd/lib/locale/zh_CN";

import dayjs from 'dayjs';
import 'dayjs/locale/zh-cn';
dayjs.locale("zh-cn");

@observer
export class App extends React.Component<{}, {}>{
  render()
  {
      return (
          <ConfigProvider
              locale={zhCN}
              theme={{
                  token: {
                      // borderRadius: 1
                  }
              }}
          >
              <ProConfigProvider
                  hashed={false}
              >
                  {
                      auth.logined ?
                          <AppLayout />
                          : <LoginComp />
                  }
              </ProConfigProvider>
          </ConfigProvider>
      );
  }
}
```

这样也不行

## FishOrBear

解决了
"resolutions": {
"dayjs": "^1.11.8"
},
