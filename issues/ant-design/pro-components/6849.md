# ğŸ›[BUG]EditableProTableä¸­è®¾ç½®getPopupContainerå±æ€§æ— æ•ˆ

`AI Reply`

### ğŸ› bug æè¿°

EditableProTableä¸­è®¾ç½®getPopupContainerå±æ€§æ— æ•ˆï¼Œä¸‹æ‹‰æ¡†è¿˜æ˜¯ä¼šéšé¡µé¢æ»šåŠ¨
![image](https://user-images.githubusercontent.com/110799511/227479153-3dab8891-13d4-4a35-b015-b4d2c37166f9.png)

### ğŸ æœŸæœ›ç»“æœ

å°†ä¸‹æ‹‰æ¡†æŒ‚è½½åˆ°tableä¸Š

### ğŸ’» å¤ç°ä»£ç 

      <EditableProTable<SYSTEM_ENTITY.EntityTableListItem>
        rowKey="id"
        actionRef={actionRef}
        columns={columns}
        getPopupContainer={(triggerNode: any) => {
          if (triggerNode && triggerNode.parentNode) {
            return triggerNode.parentNode;
          }
          return document.body;
        }}
        request={async () => {
          const data = await entityListByLiterature({
            id: pid,
            existOneEntity: show === null ? true : false,
          });
          // è½¬æ¢ä¸ºå¯¹è±¡
          const temp: any = {};
          data.data.forEach((v) => {
            return (temp[v.id] = v.entityName);
          });
          onChange(temp);
          return data;
        }}
        editable={{
          type: 'multiple',
          editableKeys,
          onSave: async (_, data) => {
            handleSave(data);
          },
          onChange: setEditableRowKeys,
        }}
      />

### Â© ç‰ˆæœ¬ä¿¡æ¯

ProComponents ç‰ˆæœ¬: [@2.4.2]
umi ç‰ˆæœ¬ [v3.x]
æµè§ˆå™¨ç¯å¢ƒ[edge ,google]
å¼€å‘ç¯å¢ƒ [window]

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

### ğŸŒˆ è§£å†³æ–¹æ¡ˆ

åœ¨ProTableä¸­æ·»åŠ getPopupContainerå±æ€§æ— æ•ˆï¼Œæ˜¯å› ä¸ºè¯¥å±æ€§è¢«ä¼ é€’åˆ°äº†å†…éƒ¨çš„ç»„ä»¶ProFormItemä¸­ï¼Œè€ŒProFormItemå¹¶æ²¡æœ‰å°†getPopupContainerå±æ€§ä¼ é€’ç»™antdçš„ç»„ä»¶ã€‚

å¯ä»¥ä½¿ç”¨antdçš„<ConfigProvider>ç»„ä»¶æ¥è®¾ç½®getPopupContainerå±æ€§ï¼Œå®ƒå¯ä»¥è®¾ç½®å…¨å±€çš„getPopupContainerå±æ€§ã€‚

```jsx
import { ConfigProvider } from 'antd';

// å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›è¡¨æ ¼çš„å®¹å™¨
const getPopupContainer = (triggerNode: any) => {
  if (triggerNode && triggerNode.parentNode) {
    return triggerNode.parentNode;
  }
  return document.body;
};

// å†…éƒ¨ä½¿ç”¨ConfigProviderç»„ä»¶ï¼Œå¹¶å°†getPopupContainerå±æ€§ä»¥providerå½¢å¼ä¼ é€’
// ProTableä¸­çš„getPopupContainerå±æ€§è¢«ç¦ç”¨
<ConfigProvider getPopupContainer={getPopupContainer}>
  <ProTable
    columns={columns}
    dataSource={dataSource}
  />
</ConfigProvider>
```

### ğŸ“š æ–‡æ¡£é“¾æ¥

- Ant Design Proç»„ä»¶ï¼š[EditableProTable](https://procomponents.ant.design/components/table-editor-cn/)
- Ant Designå®˜æ–¹ç»„ä»¶ï¼š[ConfigProvider](https://ant.design/components/config-provider-cn/)

## Eileen-v

> > TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> > æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚
>
> ### ğŸŒˆ è§£å†³æ–¹æ¡ˆ
>
> åœ¨ProTableä¸­æ·»åŠ getPopupContainerå±æ€§æ— æ•ˆï¼Œæ˜¯å› ä¸ºè¯¥å±æ€§è¢«ä¼ é€’åˆ°äº†å†…éƒ¨çš„ç»„ä»¶ProFormItemä¸­ï¼Œè€ŒProFormItemå¹¶æ²¡æœ‰å°†getPopupContainerå±æ€§ä¼ é€’ç»™antdçš„ç»„ä»¶ã€‚
>
> å¯ä»¥ä½¿ç”¨antdçš„ç»„ä»¶æ¥è®¾ç½®getPopupContainerå±æ€§ï¼Œå®ƒå¯ä»¥è®¾ç½®å…¨å±€çš„getPopupContainerå±æ€§ã€‚
>
> ```js
> import { ConfigProvider } from 'antd';
>
> // å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›è¡¨æ ¼çš„å®¹å™¨
> const getPopupContainer = (triggerNode: any) => {
>   if (triggerNode && triggerNode.parentNode) {
>     return triggerNode.parentNode;
>   }
>   return document.body;
> };
>
> // å†…éƒ¨ä½¿ç”¨ConfigProviderç»„ä»¶ï¼Œå¹¶å°†getPopupContainerå±æ€§ä»¥providerå½¢å¼ä¼ é€’
> // ProTableä¸­çš„getPopupContainerå±æ€§è¢«ç¦ç”¨
> <ConfigProvider getPopupContainer={getPopupContainer}>
>   <ProTable
>     columns={columns}
>     dataSource={dataSource}
>   />
> </ConfigProvider>
> ```
>
> ### ğŸ“š æ–‡æ¡£é“¾æ¥
>
> - Ant Design Proç»„ä»¶ï¼š[EditableProTable](https://procomponents.ant.design/components/table-editor-cn/)
> - Ant Designå®˜æ–¹ç»„ä»¶ï¼š[ConfigProvider](https://ant.design/components/config-provider-cn/)

å·²ç»è§£å†³ï¼Œéå¸¸æ„Ÿè°¢
