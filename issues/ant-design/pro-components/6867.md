# 🐛[BUG]QueryFilter添加grid属性程序直接报错

`AI Reply`

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

<!--
详细地描述 bug，让大家都能理解
-->

### 📷 复现步骤

如题，随便找个QueryFilter 的demo加grid属性，程序就崩溃了。

### 🏞 期望结果

<!--
支持grid
-->

### 💻 复现代码

<!--
提供可复现的代码，仓库，或线上示例
-->

### © 版本信息

- ProComponents 版本: [e.g. 4.0.0]
- umi 版本
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

根据你的描述，我看到你提到了 ProComponents 的 QueryFilter 组件中添加了 grid 属性导致程序崩溃的问题。首先，请确认你使用的是最新版本的 ProComponents，避免可能已经存在的已知问题。同时，我需要进一步了解你遇到的问题。

你可以提供更多的信息，例如你的代码示例，包括如何使用 grid 属性的代码。你也可以提供控制台的报错信息，以便更好地了解问题的根源。如果你没有保存控制台日志，请重新复现问题，并在控制台错误发生时实时截图。

接下来，我将提供一些关于 ProComponents QueryFilter 组件和其中的 grid 属性的相关建议和文档：

1. 首先阅读 ProComponents QueryFilter 组件文档，确保你了解如何正确使用组件，例如如何在 QueryFilter 中添加查询条件等。
2. 检查你如何创建 QueryFilter 组件，确认你是否已正确引入了 ProComponents 的依赖和相关样式。
3. 检查你如何使用 grid 属性，确认你是否正确设置了属性值，以及与范围选择器、输入框等其他表单组件的相关联。
4. 确认你是否已尝试过删除 grid 属性并重新运行应用程序，以确认问题是否与此属性相关。
5. 如果你仍然遇到困难，可以提供更多信息，或者进一步阅读 ProComponents 的官方文档或尝试咨询或参加 ProComponents 社区，以获取更多帮助。

希望这些建议能够帮助你找到你遇到的问题的解决方案。

## CraxGrix

我也复现这个问题了，补充一下信息

- ProComponents 版本: 2.4.16
- 浏览器环境： Chrome
- 开发环境: Mac

```
TypeError: items.flatMap is not a function
    at flatMapItems2 (http://localhost:5173/node_modules/.vite/deps/@ant-design_pro-components.js?v=c9ae35a4:23442:16)
    at QueryFilterContent2 (http://localhost:5173/node_modules/.vite/deps/@ant-design_pro-components.js?v=c9ae35a4:23493:23)
    at renderWithHooks (http://localhost:5173/node_modules/.vite/deps/chunk-Y6EB6JAJ.js?v=5d5e8788:12171:26)
    at mountIndeterminateComponent (http://localhost:5173/node_modules/.vite/deps/chunk-Y6EB6JAJ.js?v=5d5e8788:14921:21)
    at beginWork (http://localhost:5173/node_modules/.vite/deps/chunk-Y6EB6JAJ.js?v=5d5e8788:15902:22)
    at beginWork$1 (http://localhost:5173/node_modules/.vite/deps/chunk-Y6EB6JAJ.js?v=5d5e8788:19749:22)
    at performUnitOfWork (http://localhost:5173/node_modules/.vite/deps/chunk-Y6EB6JAJ.js?v=5d5e8788:19194:20)
    at workLoopSync (http://localhost:5173/node_modules/.vite/deps/chunk-Y6EB6JAJ.js?v=5d5e8788:19133:13)
    at renderRootSync (http://localhost:5173/node_modules/.vite/deps/chunk-Y6EB6JAJ.js?v=5d5e8788:19112:15)
    at recoverFromConcurrentError (http://localhost:5173/node_modules/.vite/deps/chunk-Y6EB6JAJ.js?v=5d5e8788:18732:28)
```

## chenshuai2144

QueryFilter 不支持 grid，不过不应该报错
