# 菜单收起展开，logo上方出现菜单文字。应该是antd的bug。 请帮忙修复下，非常感谢！

`AI Reply`

### Reproduction link

[https://user-images.githubusercontent.com/129310697/229306064-2a300ed4-7b5e-47a5-9245-410443d6e764.mp4](https://user-images.githubusercontent.com/129310697/229306064-2a300ed4-7b5e-47a5-9245-410443d6e764.mp4)

### Steps to reproduce

1. 选中二级菜单
2. 收缩菜单栏
3. 左上角，logo上方出现菜单文字

### What is expected?

收缩菜单栏， logo上方不要出现菜单文字

### What is actually happening?

收缩菜单栏， logo上方出现菜单文字

| Environment | Info                                                   |
| ----------- | ------------------------------------------------------ |
| antd        | 5.3.3                                                  |
| React       | 18                                                     |
| System      | win11                                                  |
| Browser     | Google Chrome 版本 110.0.5481.78（正式版本） （64 位） |

<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

非常感谢你向我反馈这个问题。我看了你提供的视频，发现确实是一个已知的 `antd` 的 bug。这个问题的解决方法是在折叠菜单时，将菜单组件的 `inlineCollapsed` 属性设置为 `true`，而不是直接从状态中取得值。

具体来说，我们可以这样修改代码：

```jsx
const [collapsed, setCollapsed] = useState(false);

const onCollapse = useCallback((collapsed) => {
  setCollapsed(collapsed);
}, []);

return (
  <Layout>
    <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>
      <Menu inlineCollapsed={collapsed}>// ...</Menu>
    </Sider>
    // ...
  </Layout>
);
```

将 `Menu` 组件的 `inlineCollapsed` 属性设置为 `collapsed`，来确保当菜单折叠时，展示正确的菜单状态。

关于 `inlineCollapsed` 属性的更多信息，你可以查看 `antd` 文档：[https://ant.design/components/layout-cn/#API](https://ant.design/components/layout-cn/#API)。

希望我的回答能对你有所帮助！如果你有任何其他问题，请随时提出。

## chenshuai2144

修复了，更新到最新版本
