# ğŸ§[é—®é¢˜] ProFormSelect é€‰ä¸­itemä¸ºä»€ä¹ˆä¼šè§¦å‘onSearchæ–¹æ³•

https://codesandbox.io/s/biao-dan-xiang-forked-xbm68h?file=/App.tsx:964-972

## thinkasany

åœ¨ç»„ä»¶pro-components/packages/field/src/components/Select/SearchSelect/index.tsx ä¸‹ï¼Œå°†æœç´¢æ¡†ç½®ç©º å’Œ antd è¡Œä¸ºä¿æŒä¸€è‡´, åšäº†ä¸€ä¸ª setSearchValue(undefined);å’Œ onSearch?.(''); çš„æ“ä½œï¼Œå°±æ˜¯å½“ä½ é€‰ä¸­é€‰é¡¹çš„æ—¶å€™ï¼Œä¼šæ¸…ç©ºè¾“å…¥æ¡†ï¼Œå› ä¸ºproselectç»„ä»¶åœ¨onSearchçš„æ—¶å€™æ“ä½œäº†setSearchValueå’ŒfetchDataäº†ï¼Œå¦‚æœä¸æ¸…ç©ºï¼Œå°±ä¼šå¯¼è‡´è¡Œä¸ºå’Œselectç»„ä»¶ä¸ä¸€ï¼Œå¿…é¡»ä½ æ‰‹åŠ¨æ¸…ç©ºè¾“å…¥çš„å€¼ï¼Œæ‰èƒ½é€‰æ‹©å…¶ä»–é€‰é¡¹ã€‚

<img width="615" alt="image" src="https://user-images.githubusercontent.com/117748716/229862427-d1d4dede-0ac5-44c5-aa2b-b49840e934ae.png">

## datoou

> åœ¨ç»„ä»¶pro-components/packages/field/src/components/Select/SearchSelect/index.tsx ä¸‹ï¼Œå°†æœç´¢æ¡†ç½®ç©º å’Œ antd è¡Œä¸ºä¿æŒä¸€è‡´, åšäº†ä¸€ä¸ª setSearchValue(undefined);å’Œ onSearch?.(''); çš„æ“ä½œï¼Œå°±æ˜¯å½“ä½ é€‰ä¸­é€‰é¡¹çš„æ—¶å€™ï¼Œä¼šæ¸…ç©ºè¾“å…¥æ¡†ï¼Œå› ä¸ºproselectç»„ä»¶åœ¨onSearchçš„æ—¶å€™æ“ä½œäº†setSearchValueå’ŒfetchDataäº†ï¼Œå¦‚æœä¸æ¸…ç©ºï¼Œå°±ä¼šå¯¼è‡´è¡Œä¸ºå’Œselectç»„ä»¶ä¸ä¸€ï¼Œå¿…é¡»ä½ æ‰‹åŠ¨æ¸…ç©ºè¾“å…¥çš„å€¼ï¼Œæ‰èƒ½é€‰æ‹©å…¶ä»–é€‰é¡¹ã€‚
>
> <img alt="image" width="615" src="https://user-images.githubusercontent.com/117748716/229862427-d1d4dede-0ac5-44c5-aa2b-b49840e934ae.png">

å¥½åƒå’Œantd ä¸ä¸€è‡´
https://codesandbox.io/s/biao-dan-xiang-forked-4uw0c8?file=/App.tsx

## thinkasany

èƒ½å…·ä½“çš„æè¿°ä¸€ä¸‹ä½ è¯´çš„ä¸ä¸€è‡´ä¹ˆï¼Œä½ è¯´antdé€‰ä¸­optionsçš„æ—¶å€™å¹¶ä¸ä¼šæ‰“å°ä½ çš„console.log("antd searchï¼š" + v)ä¹ˆï¼Œå¦‚æœè¯´è¿™æ ·å­çš„è¯ï¼Œå°±æ˜¯æˆ‘è¯´çš„é‚£ä¸ªå› ä¸ºä»–è°ƒç”¨äº†ä¸€ä¸‹onSearchï¼Œæ‰€ä»¥æ‰§è¡Œäº†ä½ ä¼ å…¥çš„è¿™ä¸ªå‡½æ•°ï¼Œä»–è¦ä¿æŒçš„ä¸€è‡´æ˜¯å¦‚æœæœç´¢äº†ä¸€ä¸ªoptionsçš„æ—¶å€™ç‚¹å‡»é€‰ä¸­äº†ä¹‹åæ¸…ç©ºï¼Œå¯ä»¥å†é€‰æ‰€æœ‰çš„optionsï¼Œå¦‚æœæ³¨é‡Šäº†ä¸‹é¢è¿™ä¸ªonsearchçš„è¯ï¼Œé‚£ä¹ˆåœ¨onSearché‚£äº›æ­¥éª¤çš„æ“ä½œæ²¡æœ‰æ¸…ç©ºä¼šå¯¼è‡´è¡Œä¸ºä¸ä¸€è‡´ï¼Œå°±æ˜¯è¿‡æ»¤æ¡ä»¶è¿˜æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†

## datoou

> èƒ½å…·ä½“çš„æè¿°ä¸€ä¸‹ä½ è¯´çš„ä¸ä¸€è‡´ä¹ˆï¼Œä½ è¯´antdé€‰ä¸­optionsçš„æ—¶å€™å¹¶ä¸ä¼šæ‰“å°ä½ çš„console.log("antd searchï¼š" + v)ä¹ˆï¼Œå¦‚æœè¯´è¿™æ ·å­çš„è¯ï¼Œå°±æ˜¯æˆ‘è¯´çš„é‚£ä¸ªå› ä¸ºä»–è°ƒç”¨äº†ä¸€ä¸‹onSearchï¼Œæ‰€ä»¥æ‰§è¡Œäº†ä½ ä¼ å…¥çš„è¿™ä¸ªå‡½æ•°ï¼Œä»–è¦ä¿æŒçš„ä¸€è‡´æ˜¯å¦‚æœæœç´¢äº†ä¸€ä¸ªoptionsçš„æ—¶å€™ç‚¹å‡»é€‰ä¸­äº†ä¹‹åæ¸…ç©ºï¼Œå¯ä»¥å†é€‰æ‰€æœ‰çš„optionsï¼Œå¦‚æœæ³¨é‡Šäº†ä¸‹é¢è¿™ä¸ªonsearchçš„è¯ï¼Œé‚£ä¹ˆåœ¨onSearché‚£äº›æ­¥éª¤çš„æ“ä½œæ²¡æœ‰æ¸…ç©ºä¼šå¯¼è‡´è¡Œä¸ºä¸ä¸€è‡´ï¼Œå°±æ˜¯è¿‡æ»¤æ¡ä»¶è¿˜æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†

å°±æ˜¯æˆ‘åœ¨ProFormSelecté‡Œé¢å†™äº†onSearchæ–¹æ³•ï¼Œç„¶ååœ¨å¤šé€‰çš„æ—¶å€™æ¯æ¬¡é€‰ä¸­optionséƒ½ä¼šè°ƒç”¨ä¸€ä¸‹onSearchæ–¹æ³•ã€‚

## thinkasany

Onchangeçš„æ—¶å€™è°ƒç”¨äº†ä¸€ä¸‹ä½ propsä¸­è§£æ„å‡ºæ¥çš„onSearch?.('')å‘€ï¼Œ è¿™ä¸ªonSearch?.('')æ˜¯ä½ ä¼ å…¥çš„ï¼Œ Onchangeå˜›ä¸å°±æ˜¯ç›‘å¬changeï¼Œå› ä¸ºä»–ä¼ ç»™antdçš„selectçš„Onsearché‡Œé¢åšäº†å…¶ä»–æ“ä½œï¼Œéœ€è¦åœ¨ä¼ ç»™antdçš„selectçš„onchangeä¸­åšæ¸…ç©ºå¤„ç†ï¼Œ

## thinkasany

ğŸ¤” æˆ‘è¡¨è¿°çš„æœ‰ä»€ä¹ˆé—®é¢˜å˜›ï¼Œä½ å¯ä»¥æ‰“å¼€é‚£ä¸ªç»„ä»¶æ³¨é‡Šä¸€ä¸‹è°ƒè¯•ä¸€ä¸‹ï¼Œpro-components/packages/field/src/components/Select/SearchSelect/index.tsxï¼Œç„¶åé€šè¿‡ä»–çš„demoä¿®æ”¹ä¸€ä¸‹ä½ ä¼ å…¥çš„é‚£ä¸ªæ¡ä»¶

## datoou

å°±æ˜¯æˆ‘å¸Œæœ›é€‰ä¸­optionsçš„æ—¶å€™ä¸æ‰ç”¨æˆ‘ä¼ çš„onSearch.

## jingxiawl

> å°±æ˜¯æˆ‘å¸Œæœ›é€‰ä¸­optionsçš„æ—¶å€™ä¸æ‰ç”¨æˆ‘ä¼ çš„onSearch.

è¯·é—®è¿™ä¸ªé—®é¢˜è§£å†³äº†ä¹ˆï¼Œè¿™æ ·å¯¼è‡´äº†æˆ‘è¾“å…¥æŸ¥è¯¢æ•°æ®æœ‰é—®é¢˜

## chenshuai2144

è€å“¥è§£é‡Šçš„å¾ˆæ¸…æ¥šäº†ï¼Œå¦‚æœä½ éœ€è¦é¿å¼€çš„è¯ï¼Œå¯ä»¥æ˜¯çœ‹è¿™é‡Œé¿å¼€

![1689496297413](https://github.com/ant-design/pro-components/assets/8186664/ed986971-4ec3-4e3b-baae-a2ebb27fd4d4)

## jingxiawl

> è€å“¥è§£é‡Šçš„å¾ˆæ¸…æ¥šäº†ï¼Œå¦‚æœä½ éœ€è¦é¿å¼€çš„è¯ï¼Œå¯ä»¥æ˜¯çœ‹è¿™é‡Œé¿å¼€
>
> ![1689496297413](https://user-images.githubusercontent.com/8186664/253793459-ed986971-4ec3-4e3b-baae-a2ebb27fd4d4.png)

ä¸æ˜¯éœ€è¦é¿å¼€ï¼Œå¦‚æœä½ è®¾ç½®äº†autoClearSearchValueä¸ºfalseå¯¼è‡´ä¸ä¼šæ¸…ç©ºè¾“å…¥æ¡†ï¼Œä½†æ˜¯ä¸åŠ å…¥çš„è¯ï¼Œæˆ‘è¾“å…¥äº†ä¸€ä¸ªæœç´¢value ï¼Œæ¸²æŸ“å‡ºæ¥äº†ä¸‹æ‹‰é€‰æ‹©çš„æ•°æ®ï¼Œä½†æ˜¯ä¸€é€‰æ‹©åˆè°ƒç”¨äº†onSearchæ–¹æ³•ï¼Œå¯¼è‡´æˆ‘çš„ä¸‹æ‹‰æ•°æ®å˜æˆç©ºäº†

ä¾‹å¦‚
![image](https://github.com/ant-design/pro-components/assets/11657532/fd978efc-4f45-4a0e-8782-19f9f1d588aa)
é€‰ä¸­çš„æ—¶å€™ä¹Ÿå›è°ƒç”¨onSearch å¯¼è‡´æˆ‘çš„ä¸‹æ‹‰éƒ½å˜æˆç©ºäº†ï¼Œæˆ‘çœ‹äº†ä¸‹antdçš„selectç»„ä»¶ä¸ä¼šå‡ºç°è°ƒç”¨onsearchçš„æƒ…å†µ

## lizm-21

è§£å†³äº†ä¹ˆ

## lizm-21

@thinkasany è§£å†³äº†ä¹ˆ
