# ğŸ§[é—®é¢˜]ProTableç‚¹å‡»ã€é‡ç½®ã€‘ï¼Œå¯¹äºè®¾æœ‰initialValueçš„QueryFilterå¦‚ä½•æ¸…ç©ºå…¶åˆå§‹åŒ–å€¼ï¼Ÿ

`AI Reply`

### ğŸ§ é—®é¢˜æè¿°

åœ¨ä½¿ç”¨ProTableçš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºæ¶‰åŠåˆ°é¡µé¢ä¹‹é—´çš„è·³è½¬ï¼Œæºå¸¦ç›¸å…³çš„æŸ¥è¯¢å‚æ•°ï¼›
å› æ­¤åœ¨ProTableçš„columnså®šä¹‰ä¸­ï¼Œä½¿ç”¨äº†initialValueæ¥è¿›è¡Œåˆå§‹åŒ–ç›¸å…³çš„æŸ¥è¯¢å‚æ•°çš„å€¼ï¼Œå¦‚ä¸‹é¢æˆªå›¾1ï¼›

ä½†åé¢ç‚¹å‡»ã€é‡ç½®ã€‘çš„è¿‡ç¨‹ä¸­ï¼Œåœ¨onResetçš„å›è°ƒä¸­ä½¿ç”¨äº†ProTableçš„formRefä¸­çš„resetFieldsæ–¹æ³•ä¹Ÿæ— æ³•æ¸…é™¤é»˜è®¤å€¼ã€‚

è¯·é—®å¦‚ä½•æ­£ç¡®å»æ¸…ç©ºå‘¢ï¼Ÿ

### ğŸš‘ å…¶ä»–ä¿¡æ¯

![image](https://user-images.githubusercontent.com/23149314/232001454-70abae9f-8f64-4714-879c-acf6b5d885ec.png)

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

### ğŸ“ è§£å†³æ–¹æ¡ˆ

åœ¨ä½¿ç”¨initialValuesåˆå§‹åŒ–è¡¨å•çš„å€¼æ—¶ï¼Œéœ€è¦é¢å¤–å¤„ç†é‡ç½®æŒ‰é’®çš„è¡Œä¸ºï¼Œå¯ä»¥åœ¨formå®ä¾‹åŒ–æ—¶ï¼Œä¸ºè¡¨å•æ·»åŠ onResetçš„å›è°ƒå‡½æ•°ï¼Œåœ¨æ¯æ¬¡é‡ç½®è¡¨å•æ—¶ï¼Œæˆ‘ä»¬å°†initialValuesä½œä¸ºå‚æ•°ä¼ é€’ç»™setFieldsValueæ–¹æ³•æ¥é‡æ–°æ¸²æŸ“è¡¨å•æ•°æ®ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š

```jsx
import React, { useRef } from 'react';
import ProTable, { ProColumns } from '@ant-design/pro-table';
import { Form } from 'antd';

interface User {
  id: number;
  name: string;
  age: number;
}

const TableList: React.FC = () => {
  const formRef = useRef();

  const columns: ProColumns<User>[] = [
    {
      title: 'ID',
      dataIndex: 'id',
      hideInSearch: true,
    },
    {
      title: 'å§“å',
      dataIndex: 'name',
      initialValue: 'å¼ ä¸‰', // Initial value of the filter
      renderFormItem: (_, { onReset }) => (
        <Form.Item name="name">
          <Input placeholder="è¯·è¾“å…¥å§“å" allowClear onBlur={onReset} />
        </Form.Item>
      ),
    },
    {
      title: 'å¹´é¾„',
      dataIndex: 'age',
      initialValue: 18,
      renderFormItem: (_, { onReset }) => (
        <Form.Item name="age">
          <InputNumber placeholder="è¯·è¾“å…¥å¹´é¾„" onBlur={onReset} />
        </Form.Item>
      ),
    },
  ];

  const handleReset = () => {
    // Set the initial value to clear the filter
    const values = formRef.current.getFieldsValue();
    formRef.current.setFieldsValue({
      name: undefined,
      age: undefined,
    });
  };

  return (
    <ProTable<User>
      columns={columns}
      dataSource={[]}
      formRef={formRef}
      onReset={handleReset}
    />
  );
};

export default TableList;
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨formRefä¸­æ·»åŠ ä¸€ä¸ªonResetçš„å›è°ƒå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå›è°ƒå‡½æ•°ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨getFieldsValueæ–¹æ³•è·å–åˆ°å½“å‰è¡¨å•çš„æ•°æ®ï¼Œç„¶åå†ä½¿ç”¨setFieldsValueæ¸…ç©ºè¡¨å•ã€‚

å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆå§‹å€¼è¢«èµ‹å€¼åï¼Œå¦‚æœä½ å¼ºåˆ¶æ¸…ç©ºäº† `Input` å€¼ï¼Œå®ƒä¼šå†æ¬¡ä½¿ç”¨åŸæ¥çš„å€¼é‡ç½® `Input`ã€‚æ­¤æ—¶ï¼Œå¯ä»¥ç»‘å®š `onBlur` äº‹ä»¶ï¼Œä»¥å…å¼ºåˆ¶æ¸…ç©ºå¯¼è‡´çš„å½±å“ã€‚

## chenshuai2144

`setFieldsValue(null)` è¿™æ ·å‘¢ï¼ŸonReset é‡Œé¢æ‰§è¡Œä¸€ä¸‹

## hexiaomin496

> ```js
> const formRef = useRef();
> ```

ç»è¿‡è¯•éªŒï¼ŒsetFiledsValue(null)ä¹Ÿæ˜¯ä¸èµ·ä½œç”¨çš„ã€‚
