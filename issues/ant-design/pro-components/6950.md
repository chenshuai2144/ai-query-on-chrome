# ProLayout 菜单是否可以设置顶部显示一二级菜单，左侧显示三四级呢

`AI Reply`

### 🧐 问题描述

ProLayout 菜单是否可以设置顶部显示一二级菜单，左侧显示三四级。
或者说有没有属性可以设置哪些菜单显示在顶部，哪些菜单显示在左侧呢？

现在设置layout=mix，貌似只能实现一级菜单显示在顶部。

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

### 解决方案

ProLayout 是 Ant Design Pro V5 中的核心组件之一，用于布局和导航，提供了可定制化的菜单组件，可以方便地实现多级菜单导航的功能。默认菜单是左侧展开式菜单，不过也提供了 TopMenu 和 MixMenu 两种布局，其中 MixMenu 可以同时显示顶部和左侧的菜单。

如果需要实现顶部显示一二级菜单，左侧显示三四级的布局，可以通过以下方式实现：

1. 设置菜单的 `menuRender` 属性，自定义顶部菜单和左侧菜单的渲染方式。

2. 在菜单数据源中标记要显示在顶部的菜单。

例如，我们可以在菜单数据源中设置 `topMenu: true` 来标记要显示在顶部的菜单，然后在 `menuRender` 中根据这个标记来渲染顶部和左侧菜单。

```tsx
import React from "react";
import { Link } from "umi";
import ProLayout, { MenuDataItem } from "@ant-design/pro-layout";

const menuData: MenuDataItem[] = [
  {
    path: "/",
    name: "首页",
    icon: "home",
    topMenu: true, // 标记要显示在顶部
    children: [
      {
        path: "/dashboard",
        name: "仪表盘",
        icon: "dashboard",
      },
      {
        path: "/analysis",
        name: "分析页",
        icon: "barChart",
      },
    ],
  },
  {
    path: "/list",
    name: "列表页",
    icon: "table",
    topMenu: true, // 标记要显示在顶部
    children: [
      {
        path: "/list/table-list",
        name: "查询表格",
        icon: "table",
      },
    ],
  },
  {
    path: "/form",
    name: "表单页",
    icon: "form",
    children: [
      {
        path: "/form/basic-form",
        name: "基础表单",
        icon: "form",
      },
      {
        path: "/form/step-form",
        name: "分步表单",
        icon: "form",
      },
    ],
  },
];

// 自定义菜单渲染方式
const menuRender = (props: ProLayout["props"]) => {
  const { location } = props;
  const selectedKeys = location.pathname.split("/").filter(Boolean);

  const topMenus = menuData.filter((item) => item.topMenu);
  const leftMenus = menuData.filter((item) => !item.topMenu);

  return (
    <>
      {/* 顶部菜单 */}
      <nav>
        <ul>
          {topMenus.map((menu) => (
            <li key={menu.path}>
              <Link
                to={menu.path}
                className={
                  selectedKeys[0] === menu.path.split("/")[1] ? "selected" : ""
                }
              >
                {menu.name}
              </Link>
            </li>
          ))}
        </ul>
      </nav>

      {/* 左侧菜单 */}
      <ProLayout
        {...props}
        menuDataRender={() => leftMenus}
        selectedKeys={selectedKeys}
      />
    </>
  );
};

export default () => {
  return <ProLayout menuData={menuData} menuRender={menuRender} />;
};
```

具体可以参考官方文档中的 [自定义菜单](https://pro.ant.design/docs/menu-cn) 一节。

### 参考文档

- [Ant Design Pro V5 - ProLayout](https://pro.ant.design/components/layout-cn/)
- [Ant Design Pro V5 - 自定义菜单](https://pro.ant.design/docs/menu-cn)

  ## chenshuai2144

  不能的，要用 menuDataRender 自己实现一下啦
