# Problem: process is not defined in pro-provider has been solved了吗?

Yesterday, someone mentioned this issue. It is still reported.
Node version: v16.20.0
npm version: 8.19.4
pro-components version: 2.4.4
Description:
<img width="957" alt="image" src="https://user-images.githubusercontent.com/129848566/234493783-8683a801-0384-468d-85a5-3f4984e702c5.png">
![image](https://user-images.githubusercontent.com/129848566/234494013-310b208f-dd75-45e9-98db-458f61ba9609.png)

## yangyuanchao-tal

pro-provider version: 2.8.2

## m-initiator

+1

## chuangwei

No, it hasn't been solved.

## NNNaix

## Temporary Fix

### vite

```tsx
// vite config

define: {
  'process.env': '{}',
},
```

#### webpack

```tsx
// webpack config

plugins: [
  new DefinePlugin({
    'process': { env: { NODE_ENV: JSON.stringify('production') } },
  })
],
```

## NNNaix

@chenshuai2144
The problem is caused by the following code in https://github.com/ant-design/pro-components/blob/0d9cba1a7fe74a87c6daf93a36f768801059f42d/packages/provider/src/index.tsx#L272. It should use `typeof process === 'undefined' || process.env.NODE_ENV?.toLowerCase() !== 'test'` to judge whether `process` is defined or not.
