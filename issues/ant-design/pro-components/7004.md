# 🐛[BUG]使用BetaSchemaForm的ModalForm布局，多次打开表单内容不渲染问题

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

使用BetaSchemaForm和ModalForm布局进行动态表单渲染。
在同时使用onOpenChange属性和modalProps: {destroyOnClose: true}两个属性同时使用时
第一次打开可正常渲染表单内容，取消后再次打开对话框中的表单元素为空

### 📷 复现步骤

[https://codesandbox.io/s/schema-biao-dan-forked-oce2kb](url)

关键代码

```
  const [open, setOpen] = useState(false);
  return (
    <>
      <h1 onClick={() => setOpen(true)}>对话框表单（点击打开） </h1>
      <BetaSchemaForm<DataItem>
        // 对话框表单布局
        layoutType="ModalForm"
        open={open}
        // 打开/关闭状态变更事件
        onOpenChange={setOpen}
        modalProps={{
          // 关闭自动销毁
          destroyOnClose: true
        }}
        columns={[
          // 表单项定义
          {
            title: "创建时间",
            key: "showTime",
            dataIndex: "createName",
            valueType: "date"
          },
        ]}
      />
    </>
  );
```

1、第一次打开表单对话框后可以直接点击“取消”按钮
2、再次打开对话框

<!--
清晰描述复现步骤，让别人也能看到问题，如果可能，尽量提供可执行代码，
如：https://codesandbox.io/ 在此处创建一个 codesandbox，方便我们更快的排查和复现问题
-->

### 🏞 期望结果

多次打开/关闭对话框表单可以正常显示

<!--
描述你原本期望看到的结果
-->

### 💻 复现代码

https://codesandbox.io/s/schema-biao-dan-forked-oce2kb

<!--
提供可复现的代码，仓库，或线上示例
-->

### © 版本信息

"dependencies": {
"@ant-design/pro-components": "2.4.5",
"antd": "5.4.6",
"react": "latest",
"react-dom": "latest"
},
"devDependencies": {
"@types/react": "^18.2.0",
"typescript": "^4"
}

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## WuJiY

还是有问题

## kasnti

你解决了吗？我在使用中也有相同的问题。
猜测是Modal被销毁后再次打开时，没有获取到column配置，因为我在开发模式只要改动一下页面代码保存后，表单就渲染出来了。
并且官网例子 [浮层窗口](https://procomponents.ant.design/components/schema-form#betaschemaform-demo-modalanddrawerform) 中ModalForm是正常的，但是DrawerForm也是不渲染。
![image](https://github.com/ant-design/pro-components/assets/18499852/8bc54b7d-31b9-49e7-9ad6-eeb13fca375d)
