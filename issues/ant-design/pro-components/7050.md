# 🧐[问题]用什么控件可以达到“点击搜索后才展示对应的内容”

`AI Reply`

我想实现的功能：点击搜索后，就在表格里展示对应的内容，请问我应该用什么控件呢？
准备用proTable，发现不知道如何让所有的table数据默认不展示（达到点击搜索后，才展示对应内容的效果）。
我这里用的是ProFormSelect，却又不知道怎么【点击搜索后才展示对应的数据】。 希望有大佬可以帮忙解答一下，感谢🙏！！！
![image](https://github.com/ant-design/pro-components/assets/32992310/9715cf6c-85ff-4341-ba52-5278b4d4e716)

## tjj727

判断params除分页参数外是否为空就行了

## ldwonday

Protable的manualRequest参数了解下。

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

对于达到"点击搜索后才展示对应的内容"的功能，你可以使用Ant Design Pro的`ProTable`组件，并结合`ProFormSelect`组件和`manualRequest`属性来实现。

首先，确保你已经在项目中引入了`ProTable`和`ProFormSelect`组件。然后，你可以按照以下步骤进行操作：

1. 在父组件中定义一个状态变量，用于保存搜索条件和数据：

```jsx
const [searchData, setSearchData] = useState({});

const handleSearch = (values) => {
  setSearchData(values);
};

const handleTableChange = (pagination, filters, sorter) => {
  // 处理表格分页、筛选、排序等变化
};
```

2. 在表单中使用`ProFormSelect`组件作为搜索条件：

```jsx
<ProFormSelect
  name="status"
  label="状态"
  options={[
    { value: "success", label: "成功" },
    { value: "error", label: "错误" },
  ]}
  placeholder="请选择状态"
  onFinish={handleSearch}
/>
```

3. 在`ProTable`组件中配置`manualRequest`属性，并根据搜索条件发起数据请求：

```jsx
<ProTable
  dataSource={[]}
  columns={columns}
  request={(params, sorter, filter) => {
    // 可以在这里根据搜索条件发送数据请求
    // 例如使用axios或fetch库发送异步请求获取数据
    // 返回一个Promise对象，resolve时传入格式化后的数据
    return new Promise((resolve) => {
      const formattedData = ...;  // 根据params进行数据格式化
      resolve({
        data: formattedData,
        total: formattedData.length,
      });
    });
  }}
  params={searchData}  // 将搜索条件作为请求参数传递
  pagination={{ showQuickJumper: true }}
  search={false}  // 设置为 false，由表单控制请求数据
  onChange={handleTableChange}
/>
```

通过以上步骤，你可以实现在点击搜索按钮后，根据选择的条件在表格中展示相应的数据。当你进行条件筛选、排序等操作时，也会触发`handleTableChange`函数，可以在该函数中处理相应的逻辑。

你可以根据实际情况对代码进行适当调整，例如根据具体的接口文档调整数据请求部分的代码，以及对表格列进行配置。

更多关于`ProTable`和`ProFormSelect`组件的使用文档和示例代码，你可以查阅Ant Design Pro的官方文档：

- [ProTable](https://procomponents.ant.design/components/table/)
- [ProFormSelect](https://procomponents.ant.design/components/form/#proformselect)

希望对你有所帮助！
