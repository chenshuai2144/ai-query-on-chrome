# pnpm run openapiæŠ¥é”™ğŸ§[é—®é¢˜]

`AI Reply`

### ğŸ§ é—®é¢˜æè¿°

[openAPI]: ğŸ’º å°† Swagger è½¬åŒ–ä¸º openAPI
/Users/jiangyichen/Desktop/work/Industrial-Internet/node_modules/.pnpm/swagger2openapi@7.0.8/node_modules/swagger2openapi/index.js:1347
else return reject(new S2OError('(Patchable) info.termsOfService must be a URL'));
^

S2OError: (Patchable) info.termsOfService must be a URL
at fixInfo (/Users/jiangyichen/Desktop/work/Industrial-Internet/node_modules/.pnpm/swagger2openapi@7.0.8/node_modules/swagger2openapi/index.js:1347:32)
at /Users/jiangyichen/Desktop/work/Industrial-Internet/node_modules/.pnpm/swagger2openapi@7.0.8/node_modules/swagger2openapi/index.js:1522:9
at new Promise (<anonymous>)
at Object.convertObj (/Users/jiangyichen/Desktop/work/Industrial-Internet/node_modules/.pnpm/swagger2openapi@7.0.8/node_modules/swagger2openapi/index.js:1384:28)
at /Users/jiangyichen/Desktop/work/Industrial-Internet/node_modules/.pnpm/@umijs+openapi@1.8.2/node_modules/@umijs/openapi/dist/index.js:28:35
at new Promise (<anonymous>)
at converterSwaggerToOpenApi (/Users/jiangyichen/Desktop/work/Industrial-Internet/node_modules/.pnpm/@umijs+openapi@1.8.2/node_modules/@umijs/openapi/dist/index.js:27:12)
at /Users/jiangyichen/Desktop/work/Industrial-Internet/node_modules/.pnpm/@umijs+openapi@1.8.2/node_modules/@umijs/openapi/dist/index.js:63:27
at Generator.next (<anonymous>)
at fulfilled (/Users/jiangyichen/Desktop/work/Industrial-Internet/node_modules/.pnpm/tslib@2.5.0/node_modules/tslib/tslib.js:164:62)
â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.

### ğŸ’» ç¤ºä¾‹ä»£ç 

openAPI: [
{
requestLibPath: "import { request } from '@umijs/max'",
// æˆ–è€…ä½¿ç”¨åœ¨çº¿çš„ç‰ˆæœ¬
// schemaPath: "https://gw.alipayobjects.com/os/antfincdn/M%24jrzTTYJN/oneapi.json"
schemaPath: join(__dirname, 'oneapi.json'),
mock: false,
},
{
requestLibPath: "import { request } from '@umijs/max'",
// schemaPath: 'http://20.20.129.218:8002/internet-web/v2/api-docs?group=group_name',
schemaPath: join(__dirname, 'openapi.json'),
projectName: 'industrial-internet',
mock: false
},
],

openapi.jsä¸‹çš„å†…å®¹
![image](https://github.com/ant-design/pro-components/assets/77370829/41d4f168-f7b8-41e5-a304-3833fa311e69)

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> æ­¤å›å¤åŸºäº ChatGPT è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ä»¥å°è¯•ä¸‹æ–¹æ¡ˆï¼Œå®˜æ–¹äººå‘˜ä¼šåœ¨ä¸€å®šæ—¶é—´åç»§ç»­ç»§ç»­å¤„ç†ã€‚

### ğŸ“ è§£å†³æ–¹æ¡ˆ

æ ¹æ®æ‚¨æä¾›çš„é”™è¯¯ä¿¡æ¯ï¼Œé—®é¢˜å‡ºç°åœ¨ `swagger2openapi` çš„åº“ä¸­ï¼Œå…·ä½“æ˜¯åœ¨è½¬æ¢ Swagger åˆ° openAPI è¿‡ç¨‹ä¸­é‡åˆ°äº†é—®é¢˜ã€‚

é”™è¯¯ä¿¡æ¯æ˜¾ç¤º `info.termsOfService must be a URL`ï¼Œè¿™æ„å‘³ç€åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œ`info` å¯¹è±¡ä¸­çš„ `termsOfService` å­—æ®µå¿…é¡»æ˜¯ä¸€ä¸ª URLï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

æ‚¨æä¾›äº† `openapi.js` æ–‡ä»¶çš„å†…å®¹ï¼Œä½†å¾ˆæŠ±æ­‰æ— æ³•ç›´æ¥æ‰“å¼€é“¾æ¥æŸ¥çœ‹å›¾ç‰‡ã€‚å› æ­¤ï¼Œæˆ‘å°†æ ¹æ®æ‚¨æä¾›çš„ä»£ç å’ŒæŠ¥é”™ä¿¡æ¯ç»™å‡ºä¸€äº›å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚

1. ç¡®ä¿ `openAPI` æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸­çš„ `schemaPath` å­—æ®µæ‰€æŒ‡å‘çš„æ–‡ä»¶æ˜¯æœ‰æ•ˆçš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ–‡ä»¶ä¸­çš„ `info.termsOfService` æ˜¯ä¸€ä¸ª URLã€‚

   ä¾‹å¦‚ï¼š

   - `oneapi.json` æ–‡ä»¶ä¸­çš„ `info.termsOfService` å­—æ®µæ˜¯å¦åŒ…å«æœ‰æ•ˆçš„ URLã€‚
   - `openapi.json` æ–‡ä»¶ä¸­çš„ `info.termsOfService` å­—æ®µæ˜¯å¦åŒ…å«æœ‰æ•ˆçš„ URLã€‚

2. å¦‚æœæ‚¨çš„æ–‡ä»¶ä¸­çš„ `info.termsOfService` å­—æ®µå·²ç»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ URLï¼Œä½†ä»ç„¶å‡ºç°é”™è¯¯ï¼Œè¯·æ£€æŸ¥ `swagger2openapi` çš„ç‰ˆæœ¬æ˜¯å¦è¾ƒæ—§ã€‚å°è¯•å‡çº§åˆ°æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä»¥ä¾¿ä¿®å¤å·²çŸ¥çš„ bugã€‚

3. å¦‚æœä»¥ä¸Šè§£å†³æ–¹æ¡ˆéƒ½æ²¡æœ‰å¸®åŠ©ï¼Œå¯èƒ½æ˜¯ `swagger2openapi` åº“çš„ä¸€ä¸ª bugã€‚æ‚¨å¯ä»¥å°è¯•åœ¨è¯¥åº“çš„ GitHub ä»“åº“ä¸­æœç´¢ç±»ä¼¼çš„é—®é¢˜ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„ issue æ¥å¯»æ±‚å¸®åŠ©ã€‚è®°å¾—æŒ‰ç…§ä»“åº“çš„è§„å®šæä¾›è¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯ã€ä»£ç ç¤ºä¾‹å’Œé‡ç°æ­¥éª¤ã€‚

å¸Œæœ›ä»¥ä¸Šè§£å†³æ–¹æ¡ˆèƒ½å¤Ÿå¸®åŠ©åˆ°æ‚¨ï¼å¦‚æœæ‚¨éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ã€‚

## chenshuai2144

è¿™ä¸ªåº“æ˜¯ç¤¾åŒºè‡ªç»´æŠ¤çš„ï¼Œä½ å»é‚£è¾¹çœ‹çœ‹å§
