# 使用了ProTable组件的request后,是否还可以动态改变Table的某一列的值,而不发起request？

`AI Reply`

我使用了ProTable组件的request后,是否还可以动态改变Table的某一列的值？ 比如有这样一个需求:这个表格第一行有一列为 状态只为“离线”。点击表格的第一行操作列的更改状态按钮,把此行状态从“离线”改为“在线”,只是想要更改表格的状态显示,而不发起request网络请求。是否有办法实现?

## lis-soft

我也想知道

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

对于你的需求，可以通过在ProTable中使用自定义的render函数来实现动态改变表格某一列的值。在这个例子中，你可以使用useState来管理状态的变化。
首先，你需要引入useState钩子：

```jsx
import React, { useState } from "react";
```

然后，在ProTable组件中使用useState定义一个状态变量，用来存储第一行状态的值：

```jsx
const [status, setStatus] = useState("离线");
```

接下来，你可以在ProTable中使用render函数来渲染“状态”列。可以根据状态值来决定显示的内容：

```jsx
<ProTable
  columns={[
    // 其他列配置...
    {
      title: "状态",
      dataIndex: "status",
      render: (_, record) => (record.key === 0 ? status : record.status),
    },
    // 其他列配置...
  ]}
  // 请求数据等其他配置...
/>
```

接着，通过点击操作列的按钮来改变状态的值，而不发起网络请求：

```jsx
const changeStatus = () => {
  setStatus("在线");
};

<ProTable
  // 其他配置...
  toolBarRender={() => [
    <Button key="changeStatus" onClick={changeStatus}>
      更改状态
    </Button>,
    // 其他操作按钮...
  ]}
/>;
```

这样，当点击表格操作列的“更改状态”按钮时，状态列的值会从“离线”变为“在线”，而不会发起网络请求。

希望这个解决方案对你有帮助！你可以参考Ant Design Pro的文档了解更多关于ProTable的用法：[https://procomponents.ant.design/components/table](https://procomponents.ant.design/components/table)

## chenshuai2144

有这种需求就不要用 request 了，用 别的数据处理 hooks 吧。request 的唯一的优势就是数据流管理在 table 里面
