# DrawerForm é…åˆantçš„useWatchæŠ¥é”™ğŸ›[BUG]

### ğŸ› bug æè¿°

DrawerForm é…åˆantçš„useWatchæŠ¥é”™

### ğŸ“· å¤ç°æ­¥éª¤

å…³é”®æ­¥éª¤ï¼Œè®¾ç½®destroyOnClose: trueï¼Œå…³é—­å¼¹çª—æ­¤æ—¶formRef?.currentå€¼ä¸ºnullã€‚ ä¼ å…¥useWatchç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŠ¥é”™ã€‚

åˆ¤æ–­formRef?.currentå€¼ä¸ºnullæ—¶ï¼Œä¼ å…¥undefinedåˆ™æ­£å¸¸è¿è¡Œã€‚å…³é”®ä»£ç å¦‚ä¸‹ã€‚

### ğŸ æœŸæœ›ç»“æœ

è¿™ä¸ªbugä¸çŸ¥é“æ˜¯è¯¥æŠ¥ç»™antd, è¿˜æ˜¯æŠ¥è¿™é‡Œã€‚

### ğŸ’» å¤ç°ä»£ç 

`
const formRef = useRef<ProFormInstance>();
const name = Form.useWatch("name", formRef?.current || undefined);
<DrawerForm
drawerProps={{
        destroyOnClose: true,
      }}
/>

`

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬:^2.4.2
- umi ç‰ˆæœ¬: "@umijs/max": "^4.0.8"
- æµè§ˆå™¨ç¯å¢ƒï¼šchrome stable
- å¼€å‘ç¯å¢ƒ [mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

## q1uxu

é‡åˆ°äº†åŒæ ·çš„é—®é¢˜

## chenshuai2144

ä¸è¦ destroyOnClose å°±å¥½äº†å§ï¼Œå› ä¸ºå…³é—­ä¹‹åformå°±æ²¡äº†
