# 🐛[BUG] pro-layout 的 logo 在 mobile 模式下会多渲染一层 a 标签，导致在自定义 logo 跳转的时候会有warning

`AI Reply`

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

![image](https://github.com/ant-design/pro-components/assets/1835787/3d96d479-3dcb-4997-b2ba-6e13a3d74563)

pro-layout 的 logo 在 mobile 模式下会多渲染一层 a 标签，导致在自定义 logo 跳转的时候会有warning

```plain
Warning: validateDOMNesting(...): <a> cannot appear as a descendant of <a>.
    at a
    at span
    at a
    at LinkComponent (webpack-internal:///(app-client)/./node_modules/next/dist/client/link.js:103:19)
    at div
    at GlobalHeader (webpack-internal:///(app-client)/./node_modules/@ant-design/pro-layout/es/components/GlobalHeader/index.js:46:24)
    at header
    at eval (webpack-internal:///(app-client)/./node_modules/antd/es/layout/layout.js:56:18)
    at Header
    at MotionWrapper (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/MotionWrapper.js:14:5)
    at ProviderChildren (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:125:5)
    at ConfigProvider (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:259:54)
    at DefaultHeader (webpack-internal:///(app-client)/./node_modules/@ant-design/pro-layout/es/components/Header/index.js:39:24)
    at MotionWrapper (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/MotionWrapper.js:14:5)
    at ProviderChildren (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:125:5)
    at ConfigProvider (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:259:54)
    at div
    at section
    at eval (webpack-internal:///(app-client)/./node_modules/antd/es/layout/layout.js:76:42)
    at Layout
    at div
    at BaseProLayout (webpack-internal:///(app-client)/./node_modules/@ant-design/pro-layout/es/ProLayout.js:213:13)
    at MotionWrapper (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/MotionWrapper.js:14:5)
    at ProviderChildren (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:125:5)
    at ConfigProvider (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:259:54)
    at SWRConfig (webpack-internal:///(app-client)/./node_modules/swr/_internal/dist/index.mjs:559:13)
    at ConfigProviderContainer (webpack-internal:///(app-client)/./node_modules/@ant-design/pro-provider/es/index.js:144:24)
    at LocaleProvider (webpack-internal:///(app-client)/./node_modules/antd/es/locale/index.js:20:5)
    at MotionWrapper (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/MotionWrapper.js:14:5)
    at ProviderChildren (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:125:5)
    at ConfigProvider (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:259:54)
    at ProConfigProvider (webpack-internal:///(app-client)/./node_modules/@ant-design/pro-provider/es/index.js:252:24)
    at MotionWrapper (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/MotionWrapper.js:14:5)
    at ProviderChildren (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:125:5)
    at ConfigProvider (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:259:54)
    at ProLayout (webpack-internal:///(app-client)/./node_modules/@ant-design/pro-layout/es/ProLayout.js:570:28)
    at MotionWrapper (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/MotionWrapper.js:14:5)
    at ProviderChildren (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:125:5)
    at ConfigProvider (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:259:54)
    at MotionWrapper (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/MotionWrapper.js:14:5)
    at ProviderChildren (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:125:5)
    at ConfigProvider (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:259:54)
    at ConfigProviderContainer (webpack-internal:///(app-client)/./node_modules/@ant-design/pro-provider/es/index.js:144:24)
    at LocaleProvider (webpack-internal:///(app-client)/./node_modules/antd/es/locale/index.js:20:5)
    at MotionWrapper (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/MotionWrapper.js:14:5)
    at ProviderChildren (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:125:5)
    at ConfigProvider (webpack-internal:///(app-client)/./node_modules/antd/es/config-provider/index.js:259:54)
    at ProConfigProvider (webpack-internal:///(app-client)/./node_modules/@ant-design/pro-provider/es/index.js:252:24)
    at BaseLayout (webpack-internal:///(app-client)/./src/layouts/BaseLayout.tsx:41:23)
    at DefaultLayout (webpack-internal:///(app-client)/./src/app/(default)/layout.tsx:6:26)
    at InnerLayoutRouter (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/layout-router.js:227:11)
    at RedirectErrorBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/redirect-boundary.js:73:9)
    at RedirectBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/redirect-boundary.js:81:11)
    at NotFoundErrorBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/not-found-boundary.js:51:9)
    at NotFoundBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/not-found-boundary.js:59:11)
    at Suspense
    at LoadingBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/layout-router.js:332:11)
    at ErrorBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/error-boundary.js:101:11)
    at InnerScrollAndFocusHandler (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/layout-router.js:139:9)
    at ScrollAndFocusHandler (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/layout-router.js:213:11)
    at RenderFromTemplateContext (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/render-from-template-context.js:15:44)
    at OuterLayoutRouter (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/layout-router.js:342:11)
    at body
    at html
    at RedirectErrorBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/redirect-boundary.js:73:9)
    at RedirectBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/redirect-boundary.js:81:11)
    at NotFoundErrorBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/not-found-boundary.js:51:9)
    at NotFoundBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/not-found-boundary.js:59:11)
    at ReactDevOverlay (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/react-dev-overlay/internal/ReactDevOverlay.js:66:9)
    at HotReload (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/react-dev-overlay/hot-reloader-client.js:276:11)
    at Router (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/app-router.js:90:11)
    at ErrorBoundaryHandler (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/error-boundary.js:77:9)
    at ErrorBoundary (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/error-boundary.js:101:11)
    at AppRouter (webpack-internal:///(app-client)/./node_modules/next/dist/client/components/app-router.js:387:13)
    at ServerRoot (webpack-internal:///(app-client)/./node_modules/next/dist/client/app-index.js:154:11)
    at RSCComponent
    at Root (webpack-internal:///(app-client)/./node_modules/next/dist/client/app-index.js:171:11)
```

### 📷 复现步骤

```js
  const menuHeaderRender = (logo: ReactNode, title: ReactNode) => (
    <Link href={'/'}>
      {logo}
      {title}
    </Link>
  );
```

### 🏞 期望结果

移除嵌套的 a 标签

### 💻 复现代码

完整仓库
https://github.com/ysbjlzlx/toolbox/tree/v2.0.0

### © 版本信息

- ProComponents 版本: 2.5.5
- next 版本: 13.4.5
- 浏览器环境: Chrome 114.0.5735.106
- 开发环境 [e.g. mac OS]: macOS

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

你好！感谢你提供了关于 `pro-layout` 在移动模式下多渲染一层 `<a>` 标签的问题。根据你提供的信息，以下的问题可能会对你有所帮助：

1. [#7208](https://github.com/ant-design/pro-components/issues/7208): 这个issue讨论了`pro-layout`在移动模式下多渲染一层`<a>`标签的问题。你可以查看讨论并寻找可能的解决方案。

在解决这个问题之前，我建议你查阅一下相关的文档和代码示例，以便更好地理解问题并找到解决方案。

1. [antd-pro-layout文档](https://github.com/ant-design/ant-design-pro-layout)：这是`pro-layout`的官方文档，提供了组件的详细说明和示例代码，你可以参考里面的内容来解决你的问题。

我希望这些资源对你有所帮助！如有更多问题，请随时提问。

## chenshuai2144

因为link 也是个string，你可以不用 link 用

` onMenuHeaderClick={(e) => history.push('/')}`
