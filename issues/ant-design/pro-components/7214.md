# 🐛[BUG]EditableProTable 点击保存 为异步的时候 行会消失

`table`,`📦  Need to reproduce`

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

点击保存时，那行数据会消失，在promise返回true时，再展示出来，如果返回false，这一行数据就消失了

### 📷 复现步骤

点击新增，对操作行进行保存，onSave返回false时，操作行消失

### 🏞 期望结果

我的期望是点击报错 如果异步接口返回失败时，正在编辑的那行数据保持编辑状态，而不是消失

### 💻 复现代码

https://codesandbox.io/s/happy-shtern-yskv8x?file=/App.tsx

### © 版本信息

- ProComponents 版本: [e.g. 4.0.0]
- umi 版本
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## cxr470235739

如果说保存是需要做异步动作的话，动作失败 那行就永远消失了

## chenshuai2144

来个可重现得demo

## oswayne

如果 ProForm 中包含 ProFormList，通过 ProForm 的 formRef 设置 ProFromList 的值也会导致 ProFormList 的内容消失

## cxr470235739

> 来个可重现得demo

已经补充完整问题内容

## cxr470235739

目前找到了一个解决方案：在recordCreatorProps中配置newRecordType: 'dataSource'，使得编辑后的数据不在缓存中而是，直接存入定义的状态中，保存的时候，如果保存失败，手动去还原editableKeys和上一次的DataSource数据源可以做到编辑行不消失。
核心代码如下：
![image](https://github.com/ant-design/pro-components/assets/39818039/e0f8b07c-5e47-4f25-9f3b-724304b63bd2)
![image](https://github.com/ant-design/pro-components/assets/39818039/19f11ea5-0363-4cc7-96a1-d960295aea50)
![image](https://github.com/ant-design/pro-components/assets/39818039/85534f45-494b-4c8e-a70d-6112b6b33969)
![image](https://github.com/ant-design/pro-components/assets/39818039/20aaf84f-c66e-4834-8a39-45445056c9a9)
