# @chenshuai2144

`AI Reply`

                @chenshuai2144

我用shouldupdate依然会渲染，也没有生效。

https://codesandbox.io/s/shi-shi-bao-cun-de-bian-ji-biao-ge-forked-3hdrsv?from-embed=&file=/App.tsx

_Originally posted by @TaurusWood in https://github.com/ant-design/pro-components/issues/7239#issuecomment-1596819286_

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

Hi @TaurusWood,

根据你提供的代码和描述，我看到你在应用中使用了 `shouldComponentUpdate` 方法来控制是否重新渲染组件，但是该方法没有生效。

在 React 中，针对函数组件的重新渲染控制，你可以尝试使用 React.memo() 高阶组件来包裹你的组件。React.memo() 可以通过对比前后两次的 props，如果 props 没有发生变化，则不会重新渲染组件。

以下是你提供的示例代码的修改，使用 React.memo() 作为高阶组件包裹你的组件：

```jsx
import React from "react";

const App: React.FC = React.memo(() => {
  const [count, setCount] = React.useState(0);

  // 组件逻辑

  return (
    <div>
      <h1>{count}</h1>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
});

export default App;
```

这样，当组件的 props 没有变化时，组件将不会重新渲染。

你可以在这里找到更多关于 React.memo() 的信息和说明：[React.memo() 文档](https://reactjs.org/docs/react-api.html#reactmemo)

希望这个解决方案对你有帮助！如果还有其他问题，请随时提问。

## chenshuai2144

更新下 antd ，antd 最近修复了这个问题

https://github.com/ant-design/ant-design/issues/43557
