# 🐛[BUG] 使用setFieldsValue给表单的某一项赋值后，满足校验条件，但是校验仍提示。

`AI Reply`

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### 🐛 bug 描述

给表单的输入密码随机生成密码后，赋值。该文本框校验条件是要长度大于六，随机生成的密码长度正好满足，但仍提示错误。

### 📷 复现步骤

![Uploading image.png…]()

### 🏞 期望结果

期待setFieldsValue赋值后，能自动校验条件。

### 💻 复现代码

<ProForm.Group>
<ProFormText.Password
name="password"
label="登录密码:"
rules={[{ required: true }, { min: 6, message: '密码长度至少为6位。', }]}
/>
<ProFormDependency name={['password']}>
{({ password }) => {
return (
<ProFormText.Password
name="repeatPassword"
label="重复密码:"
rules={[{ required: true }, {
validator: (rule, value, callback) => {
if (password !== value) {
callback('两次密码输入不一致。')
}
callback();
}
}]}
addonAfter={<Button type="primary" onClick={async () => {
formRef.current?.setFieldsValue({ password: '123456' , repeatPassword: '123456'})
}}>随机</Button>}
/>
);
}}
</ProFormDependency>
</ProForm.Group>

### © 版本信息

- ProComponents 版本: [e.g. 4.0.0]
- umi 版本
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

## chenshuai2144

触发一下重新校验，默认是 onchange 才重新触发，你也可以 api 触发一下

```

 await form.validateFields(namePath, {
        // @ts-expect-error
        recursive: true,
      });
```
