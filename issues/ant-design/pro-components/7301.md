# 🧐[问题] ProTable: How to handle server side pagination

### 🧐 问题描述

My server returns paginated data in the

```json
    "docs": [],
    "page": 1,
    "total": 1,
    "totalPages": 1,
    "limit": 10,
    "totalResults": 42
```

Now, I want to be able to configure ProTable's pagination to pick this up.
So a way to pass the pagination info to ProTable in such a way that it can construct the right
pagination flow. And also get the pagination config as params in my `request` to send back to the server.

### 💻 示例代码

This is how my ProTable looks like.

```typescript
 <ProTable<API.Discount, API.PageParams>
    actionRef={actionRef}
    request={async (params) => {
      const appParams = {
        page: params.current,
        limit: params.pageSize,
      };
      const res = await getDiscounts(appParams);
      return {
        data: res.docs,
        success: true,
        total: res.totalResults,
      };
    }}
    columns={columns}
  />
```

### 🚑 其他信息

I'm using tha latest version of the package.

## ONLY-yours

pagination may help you, you can set ProTable pagination such as

```
 <ProTable<API.Discount, API.PageParams>
    actionRef={actionRef}
    request={async (params) => {
      const appParams = {
        page: params.current,
        limit: params.pageSize,
      };
      const res = await getDiscounts(appParams);
      return {
        data: res.docs,
        success: true,
        total: res.totalResults,
      };
    }}
    pagination={{
      pageSize: 5,
    }}
    columns={columns}
  />
```

than you can use React.useState to set it

## noelzappy

Ok thanks, I’ll try the hooks approach.

On Thu, 29 Jun 2023 at 08:50, Shinji-Li **_@_**.\*\*\*> wrote:

> pagination may help you, you can set ProTable pagination such as
>
> <ProTable<API.Discount, API.PageParams>
> actionRef={actionRef}
> request={async (params) => {
> const appParams = {
> page: params.current,
> limit: params.pageSize,
> };
> const res = await getDiscounts(appParams);
> return {
> data: res.docs,
> success: true,
> total: res.totalResults,
> };
> }}
> pagination={{
>       pageSize: 5,
>     }}
> columns={columns}
> />
>
> than you can use React.useState to set it
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/ant-design/pro-components/issues/7301#issuecomment-1612652966>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AJGLWEKKCCFXAQ3XRFHMDLTXNU6U5ANCNFSM6AAAAAAZX5FMZE>
> .
> You are receiving this because you authored the thread.Message ID:
> **_@_**.\*\*\*>
