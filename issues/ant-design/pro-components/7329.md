# 🐛[BUG] ProFormSelect 默认值连成一个字符串了

`📦  Need to reproduce`,`AI Reply`

提问前先看看：

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

```jsx
<ProFormSelect
            initialValue={['待执行', '正常', '取消', '部分完成', '中途取消']}
            label="当前状态"
            name="status"
            mode="tags"
            allowClear

            fieldProps={{
              maxTagCount: 'responsive' as const,
              options: [
                {
                  label: '待执行',
                  value: '待执行',
                },
                {
                  label: '正常',
                  value: '正常',
                },
              ],
            }}

          />
```

<img width="557" alt="image" src="https://github.com/ant-design/pro-components/assets/124666577/52458f06-166f-4311-bd98-40ec0f6b4664">

## chenshuai2144

> TAutomatically replying with ChatGPT can be attempted, but it cannot be guaranteed to be completely accurate and may not fully address all issues. Please feel free to reply if you have any further questions or concerns.
> 此回复基于 ChatGPT 自动生成，可以尝试下方案，官方人员会在一定时间后继续继续处理。

你好！根据你提供的代码和说明，我理解到你在使用 ProFormSelect 组件时遇到了一个问题，即设置了 `initialValue` 属性为一个数组，但实际渲染时这些值却连成了一个字符串。

首先，我注意到你使用了 `mode="tags"` 来启用标签模式，这意味着用户可以输入多个标签。在这种模式下，初始值需要是一个字符串数组，而不是一个字符串或者一个包含多个字符串的数组。因此，你只需要将 `initialValue` 属性的值修改为一个字符串数组，如下所示：

```jsx
<ProFormSelect
  initialValue={["待执行", "正常", "取消", "部分完成", "中途取消"]}
  // 其他属性...
  fieldProps={
    {
      // 其他属性...
    }
  }
/>
```

此外，根据文档，`initialValue` 是在组件首次渲染时使用的初始值。如果你希望在每次渲染时都使用初始值，而不是在用户改变了选择后重置为初始值，你也可以考虑使用 `value` 属性来设置默认值，如下所示：

```jsx
const [defaultValue, setDefaultValue] = useState([
  "待执行",
  "正常",
  "取消",
  "部分完成",
  "中途取消",
]);

<ProFormSelect
  // 其他属性...
  value={defaultValue}
  onChange={setDefaultValue}
  fieldProps={
    {
      // 其他属性...
    }
  }
/>;
```

这样，用户在选择标签后，组件将会自动更新 `defaultValue` 的值，保持用户的选择。

希望这些解决方案对你有所帮助！如果还有其他问题，请随时提问。

## chenshuai2144

你的 value 要是个数组不能是个字符串

## vaynevayne

`['待执行', '正常', '取消', '部分完成', '中途取消']` 你说这是字符串啊?

## chenshuai2144

不愿意配合提供重现我就关了哈
