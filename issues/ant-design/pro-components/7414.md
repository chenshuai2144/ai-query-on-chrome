# V6菜单收缩动画异常 🐛[BUG]

### 🐛 bug 描述

V6菜单收缩动画异常

<!--
详细地描述 bug，让大家都能理解
-->

视频如下

https://github.com/ant-design/pro-components/assets/52319042/bbed244b-e941-4b9c-89bb-8a7462b6236c

请问需要安装哪个版本依赖能正常使用？

### © 版本信息

- "@ant-design/pro-components": "2.4.16"
- "@umijs/max": "^4.0.52"

## TangDeYu

@chenshuai2144

## chenshuai2144

latest

## TangDeYu

> latest

升级到 2.6.7 版本 还是不行 不过比上次的还是有明显的区别
"@ant-design/pro-components": "2.6.7"
<img width="606" alt="image" src="https://github.com/ant-design/pro-components/assets/52319042/275f6712-0d4a-4e5a-badf-a0dfb6476310">

https://github.com/ant-design/pro-components/assets/52319042/bf9c382f-c83b-4557-90f8-3191449ec44a

## chenshuai2144

自己排查一下是不是覆盖样式了，看起来好卡

## TangDeYu

> 自己排查一下是不是覆盖样式了，看起来好卡

这边注释了可能应该全局的Style。还是不行。aside部分没其余的样式添加。不知道是不是其余的版本导致

## TangDeYu

> 自己排查一下是不是覆盖样式了，看起来好卡

大佬，问题应该是找到了 我这里因为使用了自定义 menuItemRender 函数 给二级菜单添加了icon 导致的问题
如果加上icon还是会有异常闪烁的情况。
menuItemRender: (menuItemProps, defaultDom) => {
if (menuItemProps.isUrl || !menuItemProps.path) {
return defaultDom;
}
return (
<Link to={menuItemProps.path}>
<Space>
{/_ {menuItemProps.pro_layout_parentKeys &&
menuItemProps.pro_layout_parentKeys.length > 0 && (
<Icon key={menuItemProps.id} component={iconMap[menuItemProps?.iconInfo]} />
)} _/}
{defaultDom}
</Space>
</Link>
);
}

@chenshuai2144
