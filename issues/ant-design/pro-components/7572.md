# 🐛[BUG]pro-layout中token下sider中的colorBgMenuItemHover依然无效

### 🐛 bug 描述

通过修改token下的sider下的colorBgMenuItemHover，但是选择的背景色没有改变
![image](https://github.com/ant-design/pro-components/assets/19951467/b76ff3fd-0106-4e9d-8b9d-4b13c81ff26c)

检查了下仓库的代码，发现这个属性实在header下，是否是文档错误？感觉这块不是很优雅
![image](https://github.com/ant-design/pro-components/assets/19951467/301e80ce-4d03-439c-b145-05b074087ff1)

### 📷 复现步骤

https://codesandbox.io/s/ji-chu-shi-yong-forked-dfy81d?file=/App.tsx
文字已经生效，但是背景色无效

### 🏞 期望结果

背景色变成修改的值

### 💻 复现代码

<!--
提供可复现的代码，仓库，或线上示例
-->

### © 版本信息

- ProComponents 版本: [e.g. 2.4.16]
- umi 版本 4
- 浏览器环境
- 开发环境 [e.g. mac OS]

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

![image](https://github.com/ant-design/pro-components/assets/19951467/fd08ea98-3c77-4bae-aec7-ad4e1b918f87)

## daifuyang

<ConfigProvider
// @ts-ignore
theme={{
                hashed: isNeedOpenHash(),
                components: {
                  Menu: coverToNewToken({
                    colorItemBg:
                      token.layout?.sider?.colorMenuBackground || 'transparent',
                    colorSubItemBg:
                      token.layout?.sider?.colorMenuBackground || 'transparent',
                    radiusItem: 4,
                    controlHeightLG:
                      token.layout?.sider?.menuHeight || token?.controlHeightLG,
                    colorItemBgSelected:
                      token.layout?.sider?.colorBgMenuItemSelected ||
                      token?.colorBgTextHover,
                    itemActiveBg:
                      token.layout?.sider?.colorBgMenuItemHover ||
                      token?.colorBgTextHover,
                    colorItemBgSelectedHorizontal:
                      token.layout?.sider?.colorBgMenuItemSelected ||
                      token?.colorBgTextHover,
                    colorActiveBarWidth: 0,
                    colorActiveBarHeight: 0,
                    colorActiveBarBorderSize: 0,
                    colorItemText:
                      token.layout?.sider?.colorTextMenu ||
                      token?.colorTextSecondary,
                    colorItemTextHover:
                      token.layout?.sider?.colorTextMenuActive ||
                      'rgba(0, 0, 0, 0.85)',
                    colorItemTextSelected:
                      token.layout?.sider?.colorTextMenuSelected ||
                      'rgba(0, 0, 0, 1)',
                    colorBgElevated:
                      token.layout?.sider?.colorBgMenuItemCollapsedElevated ||
                      '#fff',
                  }),
                },
              }} >
这段代码没有问题吗？
![image](https://github.com/ant-design/pro-components/assets/19951467/f7550fa9-fa91-4dc2-8eec-7b5ebf7f65bd)
这个好像没有实现哎？

## daifuyang

export function coverToNewToken(
token: Record<string, string | number | undefined>,
) {
if (compareVersions(getVersion(), '5.6.0') < 0) return token;
const deprecatedTokens = {
colorGroupTitle: 'groupTitleColor',
radiusItem: 'itemBorderRadius',
radiusSubMenuItem: 'subMenuItemBorderRadius',
colorItemText: 'itemColor',
colorItemTextHover: 'itemHoverColor',
colorItemTextHoverHorizontal: 'horizontalItemHoverColor',
colorItemTextSelected: 'itemSelectedColor',
colorItemTextSelectedHorizontal: 'horizontalItemSelectedColor',
colorItemTextDisabled: 'itemDisabledColor',
colorDangerItemText: 'dangerItemColor',
colorDangerItemTextHover: 'dangerItemHoverColor',
colorDangerItemTextSelected: 'dangerItemSelectedColor',
colorDangerItemBgActive: 'dangerItemActiveBg',
colorDangerItemBgSelected: 'dangerItemSelectedBg',
colorItemBg: 'itemBg',
colorItemBgHover: 'itemHoverBg',
colorSubItemBg: 'subMenuItemBg',
colorItemBgActive: 'itemActiveBg',
colorItemBgSelected: 'itemSelectedBg',
colorItemBgSelectedHorizontal: 'horizontalItemSelectedBg',
colorActiveBarWidth: 'activeBarWidth',
colorActiveBarHeight: 'activeBarHeight',
colorActiveBarBorderSize: 'activeBarBorderWidth',
};

const newToken = { ...token };
Object.keys(deprecatedTokens).forEach((key) => {
if (newToken[key] !== undefined) {
newToken[deprecatedTokens[key]] = newToken[key];
delete newToken[key];
}
});
return newToken;
}
这块太乱了。我知道是为了兼容antd5token改名导致的，有没有更优雅的解决办法？

## daifuyang

已修复问题

https://github.com/ant-design/pro-components/pull/7574

## daifuyang

已测试，更新到2.6.14即可

## chenshuai2144

https://github.com/ant-design/pro-components/commit/3efdd46

这个pr修复了
