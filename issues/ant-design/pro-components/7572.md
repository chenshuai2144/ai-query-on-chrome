# ğŸ›[BUG]pro-layoutä¸­tokenä¸‹siderä¸­çš„colorBgMenuItemHoverä¾ç„¶æ— æ•ˆ

### ğŸ› bug æè¿°

é€šè¿‡ä¿®æ”¹tokenä¸‹çš„siderä¸‹çš„colorBgMenuItemHoverï¼Œä½†æ˜¯é€‰æ‹©çš„èƒŒæ™¯è‰²æ²¡æœ‰æ”¹å˜
![image](https://github.com/ant-design/pro-components/assets/19951467/b76ff3fd-0106-4e9d-8b9d-4b13c81ff26c)

æ£€æŸ¥äº†ä¸‹ä»“åº“çš„ä»£ç ï¼Œå‘ç°è¿™ä¸ªå±æ€§å®åœ¨headerä¸‹ï¼Œæ˜¯å¦æ˜¯æ–‡æ¡£é”™è¯¯ï¼Ÿæ„Ÿè§‰è¿™å—ä¸æ˜¯å¾ˆä¼˜é›…
![image](https://github.com/ant-design/pro-components/assets/19951467/301e80ce-4d03-439c-b145-05b074087ff1)

### ğŸ“· å¤ç°æ­¥éª¤

https://codesandbox.io/s/ji-chu-shi-yong-forked-dfy81d?file=/App.tsx
æ–‡å­—å·²ç»ç”Ÿæ•ˆï¼Œä½†æ˜¯èƒŒæ™¯è‰²æ— æ•ˆ

### ğŸ æœŸæœ›ç»“æœ

èƒŒæ™¯è‰²å˜æˆä¿®æ”¹çš„å€¼

### ğŸ’» å¤ç°ä»£ç 

<!--
æä¾›å¯å¤ç°çš„ä»£ç ï¼Œä»“åº“ï¼Œæˆ–çº¿ä¸Šç¤ºä¾‹
-->

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: [e.g. 2.4.16]
- umi ç‰ˆæœ¬ 4
- æµè§ˆå™¨ç¯å¢ƒ
- å¼€å‘ç¯å¢ƒ [e.g. mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

![image](https://github.com/ant-design/pro-components/assets/19951467/fd08ea98-3c77-4bae-aec7-ad4e1b918f87)

## daifuyang

<ConfigProvider
// @ts-ignore
theme={{
                hashed: isNeedOpenHash(),
                components: {
                  Menu: coverToNewToken({
                    colorItemBg:
                      token.layout?.sider?.colorMenuBackground || 'transparent',
                    colorSubItemBg:
                      token.layout?.sider?.colorMenuBackground || 'transparent',
                    radiusItem: 4,
                    controlHeightLG:
                      token.layout?.sider?.menuHeight || token?.controlHeightLG,
                    colorItemBgSelected:
                      token.layout?.sider?.colorBgMenuItemSelected ||
                      token?.colorBgTextHover,
                    itemActiveBg:
                      token.layout?.sider?.colorBgMenuItemHover ||
                      token?.colorBgTextHover,
                    colorItemBgSelectedHorizontal:
                      token.layout?.sider?.colorBgMenuItemSelected ||
                      token?.colorBgTextHover,
                    colorActiveBarWidth: 0,
                    colorActiveBarHeight: 0,
                    colorActiveBarBorderSize: 0,
                    colorItemText:
                      token.layout?.sider?.colorTextMenu ||
                      token?.colorTextSecondary,
                    colorItemTextHover:
                      token.layout?.sider?.colorTextMenuActive ||
                      'rgba(0, 0, 0, 0.85)',
                    colorItemTextSelected:
                      token.layout?.sider?.colorTextMenuSelected ||
                      'rgba(0, 0, 0, 1)',
                    colorBgElevated:
                      token.layout?.sider?.colorBgMenuItemCollapsedElevated ||
                      '#fff',
                  }),
                },
              }} >
è¿™æ®µä»£ç æ²¡æœ‰é—®é¢˜å—ï¼Ÿ
![image](https://github.com/ant-design/pro-components/assets/19951467/f7550fa9-fa91-4dc2-8eec-7b5ebf7f65bd)
è¿™ä¸ªå¥½åƒæ²¡æœ‰å®ç°å“ï¼Ÿ

## daifuyang

export function coverToNewToken(
token: Record<string, string | number | undefined>,
) {
if (compareVersions(getVersion(), '5.6.0') < 0) return token;
const deprecatedTokens = {
colorGroupTitle: 'groupTitleColor',
radiusItem: 'itemBorderRadius',
radiusSubMenuItem: 'subMenuItemBorderRadius',
colorItemText: 'itemColor',
colorItemTextHover: 'itemHoverColor',
colorItemTextHoverHorizontal: 'horizontalItemHoverColor',
colorItemTextSelected: 'itemSelectedColor',
colorItemTextSelectedHorizontal: 'horizontalItemSelectedColor',
colorItemTextDisabled: 'itemDisabledColor',
colorDangerItemText: 'dangerItemColor',
colorDangerItemTextHover: 'dangerItemHoverColor',
colorDangerItemTextSelected: 'dangerItemSelectedColor',
colorDangerItemBgActive: 'dangerItemActiveBg',
colorDangerItemBgSelected: 'dangerItemSelectedBg',
colorItemBg: 'itemBg',
colorItemBgHover: 'itemHoverBg',
colorSubItemBg: 'subMenuItemBg',
colorItemBgActive: 'itemActiveBg',
colorItemBgSelected: 'itemSelectedBg',
colorItemBgSelectedHorizontal: 'horizontalItemSelectedBg',
colorActiveBarWidth: 'activeBarWidth',
colorActiveBarHeight: 'activeBarHeight',
colorActiveBarBorderSize: 'activeBarBorderWidth',
};

const newToken = { ...token };
Object.keys(deprecatedTokens).forEach((key) => {
if (newToken[key] !== undefined) {
newToken[deprecatedTokens[key]] = newToken[key];
delete newToken[key];
}
});
return newToken;
}
è¿™å—å¤ªä¹±äº†ã€‚æˆ‘çŸ¥é“æ˜¯ä¸ºäº†å…¼å®¹antd5tokenæ”¹åå¯¼è‡´çš„ï¼Œæœ‰æ²¡æœ‰æ›´ä¼˜é›…çš„è§£å†³åŠæ³•ï¼Ÿ

## daifuyang

å·²ä¿®å¤é—®é¢˜

https://github.com/ant-design/pro-components/pull/7574

## daifuyang

å·²æµ‹è¯•ï¼Œæ›´æ–°åˆ°2.6.14å³å¯

## chenshuai2144

https://github.com/ant-design/pro-components/commit/3efdd46

è¿™ä¸ªprä¿®å¤äº†
