# ğŸ›[BUG]@ant-design/pro-layout@7.17.1 è®¾ç½® contentWidth: 'Fluid'ï¼Œå®½åº¦ä¾ç„¶é™æ­»åœ¨ 1152px

æé—®å‰å…ˆçœ‹çœ‹ï¼š

https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md

### ğŸ› bug æè¿°

<!--
è¯¦ç»†åœ°æè¿° bugï¼Œè®©å¤§å®¶éƒ½èƒ½ç†è§£
-->

åœ¨ `app.tsx` ä¸­è®¾ç½® contentWidth: 'Fluid'ä¸ç”Ÿæ•ˆï¼Œå…³è” pro-components@2.6.20 ä¸­çš„æ›´æ–°æ—¥å¿—ï¼š

- fix(layout): default set contentWidth=Fixed. [065524d](https://github.com/ant-design/pro-components/commit/065524d)

1. å…¶ä¸­ `packages/layout/src/components/GridContent/index.tsx` [28è¡Œ](https://github.com/ant-design/pro-components/commit/065524d#diff-ffe184efab0d361b91e8470087aabbb690fff2704069fe9557a7ab91e296cd00R28) ç»™ `propsContentWidth` è®¾ç½®äº†æ— å€¼æ—¶çš„é»˜è®¤å€¼ `Fixed`
2. é‚£ [35è¡Œ](https://github.com/ant-design/pro-components/commit/065524d#diff-ffe184efab0d361b91e8470087aabbb690fff2704069fe9557a7ab91e296cd00R35) å†™ `const contentWidth = propsContentWidth ||value.contentWidth;` å°±æ²¡æœ‰ä»»ä½•æ„ä¹‰
3. `contentWidth` è‚¯å®šæ˜¯ `propsContentWidth` çš„å€¼ï¼Œå¯¼è‡´åœ¨ `app.tsx` ä¸­è®¾ç½® contentWidth: 'Fluid'ä¸ç”Ÿæ•ˆ

### ğŸ“· å¤ç°æ­¥éª¤

<!--
æ¸…æ™°æè¿°å¤ç°æ­¥éª¤ï¼Œè®©åˆ«äººä¹Ÿèƒ½çœ‹åˆ°é—®é¢˜ï¼Œå¦‚æœå¯èƒ½ï¼Œå°½é‡æä¾›å¯æ‰§è¡Œä»£ç ï¼Œ
å¦‚ï¼šhttps://codesandbox.io/ åœ¨æ­¤å¤„åˆ›å»ºä¸€ä¸ª codesandboxï¼Œæ–¹ä¾¿æˆ‘ä»¬æ›´å¿«çš„æ’æŸ¥å’Œå¤ç°é—®é¢˜
-->

```shell
git clone https://github.com/Aliveing/antd-pro-demo.git
yarn install
npm start
```

å¯ä»¥çœ‹åˆ° `app.tsx` ä¸­ 55 è¡Œè®¾ç½®äº† `contentWidth: 'Fluid'`ï¼Œä½†æ˜¯å®½åº¦ä»è¢«é™åˆ¶åˆ° 1152px

### ğŸ æœŸæœ›ç»“æœ

<!--
æè¿°ä½ åŸæœ¬æœŸæœ›çœ‹åˆ°çš„ç»“æœ
-->

`contentWidth` é…ç½®å¯ä»¥æ­£å¸¸ç”Ÿæ•ˆ

### ğŸ’» å¤ç°ä»£ç 

<!--
æä¾›å¯å¤ç°çš„ä»£ç ï¼Œä»“åº“ï¼Œæˆ–çº¿ä¸Šç¤ºä¾‹
-->

[å¤ç°ä»£ç ä»“åº“](https://github.com/Aliveing/antd-pro-demo.git) æˆ–è‡ªè¡Œä½¿ç”¨ [ant design pro å®˜æ–¹è„šæ‰‹æ¶](https://pro.ant.design/zh-CN/docs/getting-started/#%E5%88%9D%E5%A7%8B%E5%8C%96)

### Â© ç‰ˆæœ¬ä¿¡æ¯

- ProComponents ç‰ˆæœ¬: [e.g. 4.0.0]
- umi ç‰ˆæœ¬
- æµè§ˆå™¨ç¯å¢ƒ
- å¼€å‘ç¯å¢ƒ [e.g. mac OS]

### ğŸš‘ å…¶ä»–ä¿¡æ¯

<!--
å¦‚æˆªå›¾ç­‰å…¶ä»–ä¿¡æ¯å¯ä»¥è´´åœ¨è¿™é‡Œ
-->

é¢„è§ˆå¤ªå¤§äº†ï¼Œå¯è‡ªè¡Œå»ä»“åº“ä¸­ä¸‹è½½ï¼Œ[è§†é¢‘åœ°å€](https://github.com/Aliveing/antd-pro-demo/blob/main/videos/%40ant-design%3Apro-layout%407.17.1%20BUG.mp4)

## keer6

+1

## ldd27

+1

## Canight

+1

## chenshuai2144

æ•…æ„çš„ï¼Œè®¾è®¡è¦æ±‚çš„æ”¹åŠ¨

## Aliveing

@chenshuai2144 æ„Ÿè°¢å›å¤ï¼Œé‚£è¿™æ ·æœ‰å‡ ä¸ªé—®é¢˜æƒ³å’¨è¯¢ä¸€ä¸‹ï¼š

- è¿™ç§é”æ­»æœ€å¤§å®½åº¦åœ¨ 1152px å¹¶ä¸”å¼€å‘è€…æ— æ³•è‡ªè¡Œé…ç½®å¼€å…³æ˜¯å‡ºäºä»€ä¹ˆè®¾è®¡è¦æ±‚è€ƒè™‘ï¼Ÿ
- å¦‚ä½•å»æ‰è¿™ç§æœ€å¤§å®½åº¦é”å®šï¼Ÿæ˜¯åªèƒ½æ‰‹åŠ¨è¦†ç›– `ant-pro-grid-content-wide` æ ·å¼ä¸­çš„ `max-width`ï¼Ÿ
- å¦‚æœé”æ­»åœ¨ 1152pxï¼Œé‚£ `contentWidth` é…ç½®åæœŸä¼šå¦‚ä½•å¤„ç†ï¼Ÿå› ä¸ºç›®å‰é…ç½® `Fluid` å·²ç»ä¸ç”Ÿæ•ˆäº†ï¼Œæ˜¯ä¼šç§»é™¤è¿™ä¸ªé…ç½®è¿˜æ˜¯è¯´ä¼šæ”¹ä¸º number è‡ªè¡Œé…ç½®æœ€å¤§å®½åº¦ï¼Ÿ

  ## keer6

  > @chenshuai2144 æ„Ÿè°¢å›å¤ï¼Œé‚£è¿™æ ·æœ‰å‡ ä¸ªé—®é¢˜æƒ³å’¨è¯¢ä¸€ä¸‹ï¼š
  >
  > - è¿™ç§é”æ­»æœ€å¤§å®½åº¦åœ¨ 1152px å¹¶ä¸”å¼€å‘è€…æ— æ³•è‡ªè¡Œé…ç½®å¼€å…³æ˜¯å‡ºäºä»€ä¹ˆè®¾è®¡è¦æ±‚è€ƒè™‘ï¼Ÿ
  > - å¦‚ä½•å»æ‰è¿™ç§æœ€å¤§å®½åº¦é”å®šï¼Ÿæ˜¯åªèƒ½æ‰‹åŠ¨è¦†ç›– `ant-pro-grid-content-wide` æ ·å¼ä¸­çš„ `max-width`ï¼Ÿ
  > - å¦‚æœé”æ­»åœ¨ 1152pxï¼Œé‚£ `contentWidth` é…ç½®åæœŸä¼šå¦‚ä½•å¤„ç†ï¼Ÿå› ä¸ºç›®å‰é…ç½® `Fluid` å·²ç»ä¸ç”Ÿæ•ˆäº†ï¼Œæ˜¯ä¼šç§»é™¤è¿™ä¸ªé…ç½®è¿˜æ˜¯è¯´ä¼šæ”¹ä¸º number è‡ªè¡Œé…ç½®æœ€å¤§å®½åº¦ï¼Ÿ

æˆ‘ç°åœ¨ä¹Ÿåªèƒ½æ˜¯è¿™æ ·å…ˆæ”¹ç€ä¸Šçº¿äº†ã€‚åç»­æœ‰æ›´æ”¹å†è¯´å§ã€‚ã€‚ã€‚
.ant-pro-grid-content.ant-pro-grid-content-wide {
max-width: 100% !important;
}

## Aliveing

@keer6 @ldd27 @Canight å„ä½ï¼Œ 15 ä¸ªå°æ—¶ä»¥å‰æ–°å‘å¸ƒçš„ `@ant-design/pro-layout@7.17.2` å¯ä»¥é€šè¿‡ç»™ `app.tsx` ä¸­é…ç½® `layout: 'mix'` æˆ–è€… `layout: 'side'` çš„æ–¹å¼æ¥è§£é™¤ 1152px çš„å®½åº¦é™åˆ¶ï¼Œç›®å‰æ¥çœ‹é…ç½® `layout: 'top'` ä¾ç„¶æ˜¯é”å®š 1152pxã€‚

å…·ä½“æ›´æ–°å¯æŸ¥çœ‹ `@ant-design/pro-layout@7.17.2` å’Œ `7.17.1` çš„ [ç‰ˆæœ¬å¯¹æ¯”](https://github.com/ant-design/pro-components/compare/%40ant-design/pro-layout%407.17.1...%40ant-design/pro-layout%407.17.2#diff-ffe184efab0d361b91e8470087aabbb690fff2704069fe9557a7ab91e296cd00R38)

@chenshuai2144 æ„Ÿè°¢æ›´æ–°å‘ç‰ˆã€‚

## merabtenei

Setting contentWidth: 'Fixed' and layout: 'mix' is not working now after update, setting contentWidth: Fixed do not work unless layout is 'top' otherwise it will be Fluid even when setting it to fixed. We are using this on our project and it's now broken. Please fix this. It was better before when setting contentWidth was independent of layout.

In : [packages/layout/src/components/GridContent/index.tsx](https://github.com/ant-design/pro-components/compare/%40ant-design/pro-layout%407.17.1...%40ant-design/pro-layout%407.17.2#diff-ffe184efab0d361b91e8470087aabbb690fff2704069fe9557a7ab91e296cd00)

```typescript
const isWide = contentWidth === "Fixed"; // The reason maybe in changing this line
const isWide = contentWidth === "Fixed" && value.layout === "top"; // updated line
```

## merabtenei

Any update on this one ?
