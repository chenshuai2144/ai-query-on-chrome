# 🧐[问题]想请教一下proTable怎么做本地排序

`table`,`🎖️  featrue`

### 🧐 问题描述

不知道是不是自己方法不对，request获取到了sort，但是还是会发送数据请求，不知道怎么判断是排序触发(本地排序不希望触发发送请求数据，但是希望获得sort数据去缓存，下次进入作为默认排序)，还是刷新/重置/搜索(这些算一类的，都是要发送请求)触发的，还是有其它api呢

<!--
详细地描述问题，让大家都能理解
-->

### 💻 示例代码

<!--
如果你有解决方案，在这里清晰地阐述
-->

### 🚑 其他信息

<!--
如截图等其他信息可以贴在这里
-->

## chenshuai2144

@David2k13 和 antd 相同，重置一下 sort 方法就可以本地排序了，不过 request 还是会被重复发

## David2k13

> @David2k13 和 antd 相同，重置一下 sort 方法就可以本地排序了，不过 request 还是会被重复发

现在就是比较头大， request 会发请求，也没什么曲线救国的办法

## chenshuai2144

因为 sort 发生变化了，这个展示的确没法拦住，你可以想个办法，大家讨论一下，合适可以加进去

## David2k13

好的，有时间研究下

## David2k13

刚刚想到一个比较蠢的办法，利用onHeaderRow保存一个state，然后request里面判断这个值来阻止接下来的请求

## chenshuai2144

可以配置一下 `onFilter:true` ，来使用 ProTable 自带的筛选

## David2k13

nice

## liuhong1happy

请问这里怎么处理的，本地排序

## PolarBears

> 请问这里怎么处理的，本地排序

我是在onChange里判断extra.action为sort时存个flag，再在request里做处理阻止发出请求并清除flag。

## SuperZ3

我的需求是初始请求使用 request，后续的排序在本地进行

这种情况下（没有 filter），将初次 request 获取的 data 保存下来叫 dataRef，如果后续点击 sorter 时 dataRef 非空，就直接返回 dataRef

我试过 filter 和 onFilter 设置成 true，并没有用

如果哪位大佬有更好的办法，踢我一下，谢谢
