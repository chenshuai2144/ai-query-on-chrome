# [Bug] browserslist 包中 require.resolve 报错

`type(umi@3)`

<!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

在 @umijs/deps 3.5.36 对应文件 node_modules/@umijs/deps/compiled/babel/bundle.js 中
![image](https://user-images.githubusercontent.com/6828924/215644034-1807b93d-c035-4138-907a-29ac432bd3f9.png)

对应的 require.resolve 关键字的 require 被指向了空模块

![image](https://user-images.githubusercontent.com/6828924/215644311-c70cc4ac-5153-4a3f-aabe-e732d4fa5eab.png)

对应的 browserlist 的源码如下

https://github.com/browserslist/browserslist/blob/main/node.js#L176

会导致 [使用 extends 方式拓展的 browserslist 配置](https://github.com/browserslist/browserslist#shareable-configs) 会报错，因为 require.resolve 的 require 是一个空模块

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

## Mini Showcase Repository(REQUIRED)

https://github.com/vagusX/umi-browserslist-extends-bug-sample

## How To Reproduce

**Steps to reproduce the behavior:**

```shell
git clone https://github.com/vagusX/umi-browserslist-extends-bug-sample
yarn
yarn start
```

出现以下报错

![image](https://user-images.githubusercontent.com/6828924/215656529-f13bef44-b8c6-49bb-b5f6-126c8e6acb44.png)

**Expected behavior**
正常运行不报错

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

## Context

- **Umi Version**: 3.5.36
- **Node Version**: v16.14.2
- **Platform**: macos

## vagusX

可能跟这个相关

- https://github.com/vercel/ncc/issues/41
- https://github.com/vercel/ncc/issues/277
