# [Bug] umi4 mf 模块联邦，共享模块使用 umi 插件 qiankun 时报错

`type(mfsu)`

<!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

umi4 mf ，模块联邦，对外共享某一个页面，该页面使用 umi 的插件 qiankun 微前端时， umi 代码报错。

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

## Mini Showcase Repository(REQUIRED)

> Please provide a [minimal reproduction](https://stackoverflow.com/help/minimal-reproducible-example) then upload to your GitHub. 请提供 [最小重现](https://stackoverflow.com/help/minimal-reproducible-example)，并上传到你的 GitHub 仓库

**umi4 examples ，mf-host 和 mf-remote 官网示例代码，新增开启 qiankun 代码就能复现。**

https://github.com/zhengshuai1001/mf_demo

<!-- 为节约大家的时间，无复现步骤的 ISSUE 会被关闭，提供之后再 REOPEN -->
<!-- YOUR_REPOSITORY_URL on github or stackbliz -->

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2.

remote 配置

![image](https://user-images.githubusercontent.com/9513530/217171605-3a8bc0fa-b956-43a9-88f4-564793d220ae.png)

remote 页面

![image](https://user-images.githubusercontent.com/9513530/217171698-9f0b63c0-f823-4e9e-89f7-2da2cf217750.png)

host 配置

![image](https://user-images.githubusercontent.com/9513530/217171814-277c31ea-c4c0-476d-b1fd-0f5432f45d40.png)

host 页面，报错

![image](https://user-images.githubusercontent.com/9513530/217171930-e6f8f6d7-91b1-45f3-b180-08a31d96a662.png)

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

## Context

- **Umi Version**:
- **Node Version**:
- **Platform**:

## fz6m

关闭 `mfsu: false` 即可。

寄汤来了，德艺双馨 P 老师快来看看这个问题， @stormslowly 🌹

## fz6m

目前最新版本 mf 可以和 qiankun 一起使用了，先关闭了。

如有问题，请附带一个最小复现重开一个 issue。
