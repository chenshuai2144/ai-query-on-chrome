# [Feature Request] 单独使用mfsu4.x项目中引入使用sass的包报错

## Background

**在pnpm-monorepo中单app使用webpack5+mfsu4.x，使用example中webpack配置（umi/examples/mfsu-independent/webpack.config.esbuild.js）+ sass-loader 配置如下：**

`const path = require('path');
const webpack = require('webpack');
const { MFSU, esbuildLoader } = require('@umijs/mfsu');
const esbuild = require('esbuild');

// [mfsu] 1. init instance
const mfsu = new MFSU({
implementor: webpack,
buildDepWithESBuild: true,
});

const config = {
entry: path.join(**dirname, './src'),
mode: 'development',
output: {
path: path.join(**dirname, './dist'),
filename: 'bundle.js',
publicPath: '/',
},
devServer: {
// [mfsu] 2. add mfsu middleware
setupMiddlewares(middlewares, devServer) {
middlewares.unshift(...mfsu.getMiddlewares());
return middlewares;
},
},
resolve: {
extensions: ['.ts', '.tsx', '.js', '.jsx'],
},
module: {
rules: [
{
test: /\.[jt]sx?$/,
        exclude: /node_modules/,
        use: {
          loader: esbuildLoader,
          options: {
            handler: [
              // [mfsu] 3. add mfsu esbuild loader handlers
              ...mfsu.getEsbuildLoaderHandler(),
            ],
            target: 'esnext',
            implementation: esbuild,
          },
        },
      },
      {
        test: [/\.less$/i, /\.css$/i, /\.s[ac]ss$/i],
exclude: /node*modules/,
use: [
'style-loader',
{
loader: 'css-loader',
options: {
modules: {
//所有 less和 scss文件都支持模块引入
auto: (resourcePath) =>
resourcePath.endsWith('.less') || resourcePath.endsWith('.scss'),
localIdentName: '[local]*[hash:base64:5]'
}
}
},
'postcss-loader',
{
loader: 'less-loader',
options: {
lessOptions: {
// modifyVars: theme, // 自定义主题的
javascriptEnabled: true
}
}
},
'sass-loader'
]
}
],
},
plugins: [
new (require('html-webpack-plugin'))({
template: path.resolve(__dirname, './index.html'),
}),
],
stats: {
assets: false,
moduleAssets: false,
runtime: false,
runtimeModules: false,
modules: false,
entrypoints: false,
},
};

const depConfig = {
output: {},
resolve: {
extensions: ['.ts', '.tsx', '.js', '.jsx'],
},
module: {
rules: [
{
test: /\.[jt]sx?$/,
use: {
loader: 'babel-loader',
options: {
presets: [
'@babel/preset-env',
'@babel/preset-react',
'@babel/preset-typescript',
],
},
},
},
],
},
plugins: [],
};

// [mfsu] 4. inject mfsu webpack config
const getConfig = async () => {
await mfsu.setWebpackConfig({ config, depConfig });
return config;
};

module.exports = getConfig();
`
**在项目中引入由father4.x构建的带有scss样式文件的packages，father配置如下：**

`import { defineConfig } from 'father'

export default defineConfig({
cjs: {
output: 'lib'
}
})
`

**发生报错，No loader is configured for ".scss" files: ../../packages/components/lib/Guide/index.module.scss**
![image](https://user-images.githubusercontent.com/45332158/218034823-e2201e4a-14c2-4590-ac1c-b1b800ab3a40.png)

## Proposal

期望解决并增加相应example，或告知umi中webpack对于sass的依赖是如何配置的，是否需要特殊设置，

## Additional context

**此问题在完整umi中未出现**

项目大致目录
![image](https://user-images.githubusercontent.com/45332158/218035521-3bc89994-156c-4b45-9f08-72b1e09a565b.png)
