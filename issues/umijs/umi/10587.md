# [Bug] umijs build完部署后，无法通过window.onerror捕获JS脚本错误

<!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

版本："umi": "^3.5.20"
"@umijs/preset-react": "1.x",
@umijs/plugin-layout 此插件未启用
项目通过入口文件app.ts 增加 window.onerror 捕获脚本错误，进行埋点上报，在本地开发环境一切正常，错误会被捕获，但是build完部署到生产环境onerror不会执行，通过断点发现在catch中指向了this.onError, 我该如何自己处理错误
![image](https://user-images.githubusercontent.com/73830471/220840552-aa459ed5-aa54-4398-8323-bdb4627c7296.png)

## Mini Showcase Repository(REQUIRED)

> Please provide a [minimal reproduction](https://stackoverflow.com/help/minimal-reproducible-example) then upload to your GitHub. 请提供 [最小重现](https://stackoverflow.com/help/minimal-reproducible-example)，并上传到你的 GitHub 仓库

<!-- 为节约大家的时间，无复现步骤的 ISSUE 会被关闭，提供之后再 REOPEN -->
<!-- YOUR_REPOSITORY_URL on github or stackbliz -->

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2.

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

## Context

- **Umi Version**:
- **Node Version**:
- **Platform**:
