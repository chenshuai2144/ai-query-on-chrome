# [Bug] AssertionError [ERR_ASSERTION]: chunk of vendors not found.

`type(umi@3)`

umi: 3.x

配置 splitChunks 时：
chunks: ['vendors', 'umi'],
chainWebpack(config, { webpack }) {
config.merge({
optimization: {
splitChunks: {
chunks: 'all',
minSize: 30000,
minChunks: 3,
automaticNameDelimiter: '.',
cacheGroups: {
vendor: {
name: 'vendors',
test({ resource }: any) {
return /[\\/]node_modules[\\/]/.test(resource);
},
priority: 10,
},
},
},
},
});
},

minChunks 位置了3 ，如果代码中因为一个文件小于3次 webpack是不会产出 vendors 文件的；
这时 获取 umi 代码中 获取htmlChunks 时 会返回 [ { name: 'vendors' }, { name: 'umi' } ]

![image](https://user-images.githubusercontent.com/16067606/227456918-9c7f3e1a-cc08-4249-958f-8cea3dcd4d54.png)

导致 在 chunksToFiles 函数中获取 资源文件时报错了
![image](https://user-images.githubusercontent.com/16067606/227458145-277b5c58-e768-4628-b9f8-8e2ec56d0fb5.png)

另外 noChunk 根本没有传入
![image](https://user-images.githubusercontent.com/16067606/227458362-cd3d1984-6635-455f-a951-5dd84fcbbc07.png)

## fz6m

升级 Umi 4 获得更好的分包策略。

## geyitu

请问，我在chainWebpack中配置了cacheGroups，但打包后的产物，并没有按我的配置来，还是umiij默认的大包产物，这是什么原因
![image](https://user-images.githubusercontent.com/28059334/227871881-d398a83c-83de-4db4-99b4-4b637ad123dc.png)
![image](https://user-images.githubusercontent.com/28059334/227872028-14a1ae11-90f6-4d0b-8cdd-3f730407d03f.png)
打包后文件名并没有改变，是我哪里配置错误吗
