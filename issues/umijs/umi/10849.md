# 请问 `history.location.pathname` 和 `useLocation` 不一样 有办法全局处理掉吗？

## 请问 `history.location.pathname` 和 `useLocation` 不一样 有办法全局处理掉吗？

`history.location.pathname` 和 `useLocation` 不一样是一些历史问题，目前可以自己把 base 的部分定义成环境变量再自己拼一下或者 trim 下：

```ts
// .umirc.ts

export default {
  base: "/some/",
  define: {
    BASE_URL: "/some",
  },
};
```

```ts
// use
history.location.pathname.slice(BASE_URL.length);
```

```ts
// typings.d.ts
declare global {
  const BASE_URL: string;
}
```

文档不用修改，写的没问题，使用 `runtimePublicPath` 的时候是在 runtime 修改 publicPath ，你这个场景是固定的 `publicPath` ，所以和这个选项无关。

_Originally posted by @fz6m in https://github.com/umijs/umi/issues/10189#issuecomment-1368703068_

## hyzx86

如果官方不能接受的话 就先用 pnpm patch 处理下了

https://github.com/umijs/umi/pull/9529

## fz6m

有 Breaking change ，所以现在就先不改了，全用 useLocation 就可以，base 也不是我们需要关注的。

## hyzx86

> 有 Breaking change ，所以现在就先不改了，全用 useLocation 就可以，base 也不是我们需要关注的。

关键 。。useLocation 不是随处可用的。比如 请求拦截的地方 用不了 hook
