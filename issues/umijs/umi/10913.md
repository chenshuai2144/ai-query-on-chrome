# [Task] pnpm v8 默认锁最低版本问题

### 背景

经反馈，由于 pnpm v8 默认为最低版本解析策略，导致 pnpm v8 初始化 max 项目使用的都是最低版本依赖，所以会样式错乱。

### 解决流程

- [x] 升级所有模板的版本到最新小版本 from #10912
- [x] 发布前新增环节：更新模板的版本到最新 或 创建模板后手动升级依赖至 latest （仅限 pnpm v8） from #10991
- [ ] `umi g` 生成的依赖，都必须是当前 major 对应的最新小版本

### 影响范围

升级到 pnpm v8 ，且使用了 umi `<= 4.0.64` 版本创建新项目的用户。

### 如何自己解决

以下方法取其一即可：

1. 运行如下命令，升级相应的依赖到最新版本（可以自己选择升级哪些，umi 相关的全部升级即可）：

   ```bash
     pnpm up -Lri
   ```

2. 调整回 pnpm v7 的包解析策略：

   ```bash
   # .npmrc
   resolution-mode=highest
   ```

3. 回到 pnpm v7

目前推荐第 1 种方法。

### 关联 issue

- #10907

- #10898

- #10910

## fz6m

根据民意调查，pnpm 最新版本 [`v8.7.0`](https://github.com/pnpm/pnpm/releases/tag/v8.7.0) 将取消默认安装最低版本的策略，回到默认安装 latest 的行为，故此 issue 关闭。

如有安装版本问题者，可以升级到最新的 pnpm 再重新创建项目。
