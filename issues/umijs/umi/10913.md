# pnpm v8 默认锁最低版本问题

## 解决方案

- 升级所有模板的版本到最新小版本
- 发布前新增环节：更新模板的版本到最新 或 创建模板后手动升级依赖至 latest
- `umi g` 生成的依赖，都必须是当前 major 对应的最新小版本

## 影响范围

升级到 pnpm v8 ，且使用了 umi `<= 4.0.64` 版本创建新项目的用户。

## 如何自己解决

1. 运行如下命令，升级相应的依赖到最新版本（可以自己选择升级哪些，umi 相关的全部升级即可）：

   ```bash
     pnpm up -Lri
   ```

2. 调整回 pnpm v7 的包解析策略：

   ```bash
   # .npmrc
   resolution-mode=highest
   ```

3. 回到 pnpm v7

目前推荐第 1 种方法。

## 关联 issue

- #10907

- #10898

- #10910
