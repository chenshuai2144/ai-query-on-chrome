# [Feature Request] umi4 为什么不支持动态可选路由？

`Need Reproduce`

umi4 为什么不支持动态可选路由?
翻了一下umi3是支持的。

```
  {
            name: '编辑',
            path: '/editor/:id?',
            component: './editor',
  },
```

## Deja-vuuu

我希望这个id是可传可不传的
这样在一些简单的新增修改页面 就可以用一个页面承接 判断链接里面带不带id 去做对应操作

## fz6m

都配成一个组件，在一个组件里用 `useLocation` 获取路径，`useParams` 获取参数，根据判断条件渲染。

## Deja-vuuu

> 谢谢大佬回复 我先这样写吧。 可能用umi3习惯了

## unluna

Can I revert to the old writing style? This new style is not friendly to the old Umi 3 project. Here is the official website of React Router: https://reactrouter.com/en/main/route/route#optional-segments.

## LukerSpringtree

> 都配成一个组件，在一个组件里用 `useLocation` 获取路径，`useParams` 获取参数，根据判断条件渲染。

有demo吗?

## fz6m

如有问题，需要给一个最小复现。

## LukerSpringtree

> 如有问题，需要给一个最小复现。

你好~
我想 在接口中配 路由对应的 element 的 Path 值.

然后再把path对应的组件加载到 路由中, 请问这个该怎么实现?

## fz6m

所有的已知路由需要有映射表，根据唯一标识 patch 增添、修改，自己选择一种标识作为映射对应吧。

## LukerSpringtree

> 所有的已知路由需要有映射表，根据唯一标识 patch 增添、修改，自己选择一种标识作为映射对应吧。

我渲染的问题已经解决了.

又遇到新的问题, 逻辑是这样的:
我在render 方法里面去获取 路由(动态的), 在patchClientRoutes 方法去修改
<img width="783" alt="image" src="https://github.com/umijs/umi/assets/9697295/2689c031-f312-4a90-a16c-bcf5ecd0aace">
但是在第34行的时候, 需要判断当前用户是否登录.

现在出现一个bug, 即, 我登录之后要重新执行一下 render 方法.
不然左侧的路由都是空的. 我现在该怎么处理??

怎么才能让 app主动触发一下render, 执行 37行逻辑.
或者, 执行 patchClientRoutes 逻辑

## fz6m

不可以手动触发 render ，登录之后必须刷新页面，此时带有登录态从而获取到拥有的路由，一般情况我们会在 sso 登录再跳转回来，如果在应用内登录则必须刷新页面。

## LukerSpringtree

小公司没有sso~

我也解了

太黑盒了
