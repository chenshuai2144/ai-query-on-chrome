# [Bug] UmiJS与yarn workspace集成，当子项目名称存在@时报错

`Need Reproduce`

  <!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

UmiJS与yarn workspace集成，当子项目名称存在@时报错。Windows下会报错，其他平台没测试。

当子项目package.json的name存在@时，yarn install 安装依赖时报错

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

## Mini Showcase Repository(REQUIRED)

https://github.com/veici/report

> Please provide a [minimal reproduction](https://stackoverflow.com/help/minimal-reproducible-example) then upload to your GitHub. 请提供 [最小重现](https://stackoverflow.com/help/minimal-reproducible-example)，并上传到你的 GitHub 仓库

<!-- 为节约大家的时间，无复现步骤的 ISSUE 会被关闭，提供之后再 REOPEN -->
<!-- YOUR_REPOSITORY_URL on github or stackbliz -->

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2. 1.创建package.json、packages 2.在packages下分别创建bug、home文件夹，依次使用 yarn create @umijs/umi-app创建项目3.修改子项目名称为@report/bug @report/home 4. 执行yarn install安装依赖

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

Directory: E:\mymonorrpo\node_modules\@asn\umi4
Output:
node:internal/modules/cjs/loader:1078
throw err;
^

Error: Cannot find module 'E:\mymonorrpo\node_modules\node_modules\umi\bin\umi.js'
at Module.\_resolveFilename (node:internal/modules/cjs/loader:1075:15)
at Module.\_load (node:internal/modules/cjs/loader:920:27)
at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
at node:internal/main/run_main_module:23:47 {
code: 'MODULE_NOT_FOUND',
requireStack: []

## Context

- **Umi Version**: 4.0.70
- **Node Version**: v18.15.0
- **Platform**: windows11

  ## fz6m

  `@umijs/umi-app` 这个是初始化 umi 3 应用的，现在 umi 4 是：

```bash
   pnpm create umi demo-app
```

umi 3 不维护了，建议升级到 umi 4

## wangchaoHeart

>

> `@umijs/umi-app` 这个是初始化 umi 3 应用的，现在 umi 4 是：
>
> ```shell
>    pnpm create umi demo-app
> ```
>
> umi 3 不维护了，建议升级到 umi 4
> 我本地用umi4测试了下，也是报相同的错误

## fz6m

如有问题，需要给一个 umi 4 的最小复现。

## wangchaoHeart

> 如有问题，需要给一个 umi 4 的最小复现。

https://github.com/wangchaoHeart/umi4_workSpace_bug
这是我新建的umi4de 最小复现

## fz6m

需要给一个完整的，可以复现 issue 正文中完整问题的最小复现。

## wangchaoHeart

> 需要给一个完整的，可以复现 issue 正文中完整问题的最小复现。

https://github.com/wangchaoHeart/umi4_workSpace_bug 这就是个完整的最小复现， 只需要把代码下载到本地，然后在项目根目录运行 yarn install 就可以复现问题
