# useRequest 拦截器

`Need Reproduce`

caught (in promise) TypeError: Cannot read properties of undefined (reading 'toUpperCase')
at dispatchXhrRequest (mf-dep\_**\_vendor.f83c36c9.js:286564:32)
at new Promise (<anonymous>)
at xhrAdapter (mf-dep\_\_**vendor.f83c36c9.js:286534:10)
at dispatchRequest (mf-dep\_\_\_\_vendor.f83c36c9.js:287427:10)
d

配置

requestInterceptors: [
(url, options) => {
// const language = getLocale();
options.headers = { ...options.headers,token:''};

      if (options.method === 'get') {
        options.params = { ...options.params, webSiteId: 1 };
      } else {
        options.data = { ...options.data, webSiteId: 1 ,method:'POST' };
      }
      console.log({ ...options, url })
      return { ...options, url };
    },

],

## fz6m

需要给一个会报错的最小复现
