# [Bug] yarn create umi failed

  <!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

`yarn create umi` failed due to:

```
Internal Error: root-workspace-0b6124@workspace:.: This package doesn't seem to be present in your lockfile; run "yarn install" to update the lockfile
```

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

## Mini Showcase Repository(REQUIRED)

There will be no showcase repos because project creation failed.

This is a repo for scripts creating a new project: https://github.com/GreenYun/show

## How To Reproduce

**Steps to reproduce the behavior:**

1. Run `yarn create umi` in any empty directories
2. Select any app template (I have tried `Simple App` and `Ant Design Pro`)
3. Pick `yarn` as Npm Client
4. Pick `npm` as Npm Registry

**Expected behavior**

Project creation success

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

## Context

- **Umi Version**: 4.0.17 (Seems so)
- **Node Version**: 20.3.0
- **Yarn Version**: 3.6.0
- **Platform**: MacOS AND Linux

## Other information

I have also tried `pnpm` as Npm Client, with project creation succeeding with warnings but building failing on error. It seems that some of the dependencies broke.

## fz6m

umi 4 只支持 yarn 1.x / pnpm 6+ / npm 8+
