# 环境变量process.env无法透传到项目里

### umi版本 4.0.70+

### 项目地址 [https://github.com/alibaba/Chat2DB/blob/shanhexi/chat2db-client/.umirc.ts](https://github.com/alibaba/Chat2DB/blob/shanhexi/chat2db-client/.umirc.ts)

### 问题详情

```
//.umirc里配置了 以下东西，在layouts里打印process.env.UMI_ENV 为undefined
  define: {
    'process.env': {
      'UMI_ENV': process.env.UMI_ENV // console.log(process.env.UMI_ENV) =>  desktop
    }
  }
```

umi 3这样是可以的，umi4 打印process.env.UMI_ENV 为undefined，是有什么改动么，umi4如何在layouts里拿到 process.env.UMI_ENV

## shanhexi

问题已解决
是我自己配置了
config.plugin('define').use(require('webpack').DefinePlugin, [
{
'process.env.UMI_ENV': JSON.stringify(process.env.UMI_ENV) ,
__BUILD_TIME__: JSON.stringify(formatDate(new Date(), 'yyyyMMddhhmmss')),
__APP_VERSION__: JSON.stringify(process.env.APP_VERSION || '0.0.0'),
},
]);
顶掉了umi的define
哎！
