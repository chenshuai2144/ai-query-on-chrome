# [Bug] Cannot destructure property 'winPath' of 'import_umi.utils' as it is undefined.

  <!--
æ„Ÿè°¢æ‚¨å‘æˆ‘ä»¬åé¦ˆé—®é¢˜ï¼Œä¸ºäº†é«˜æ•ˆçš„è§£å†³é—®é¢˜ï¼Œæˆ‘ä»¬æœŸæœ›ä½ èƒ½æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
-->

## What happens?

<!-- A clear and concise description of what the bug is. -->
<!-- æ¸…æ™°çš„æè¿°ä¸‹é‡åˆ°çš„é—®é¢˜ã€‚-->

## Mini Showcase Repository(REQUIRED)

> Please provide a [minimal reproduction](https://stackoverflow.com/help/minimal-reproducible-example) then upload to your GitHub. è¯·æä¾› [æœ€å°é‡ç°](https://stackoverflow.com/help/minimal-reproducible-example)ï¼Œå¹¶ä¸Šä¼ åˆ°ä½ çš„ GitHub ä»“åº“

<!-- ä¸ºèŠ‚çº¦å¤§å®¶çš„æ—¶é—´ï¼Œæ— å¤ç°æ­¥éª¤çš„ ISSUE ä¼šè¢«å…³é—­ï¼Œæä¾›ä¹‹åå† REOPEN -->
<!-- YOUR_REPOSITORY_URL on github or stackbliz -->

## How To Reproduce

After updating umijs version 3.5.23 to 4.0.72. I'm getting error while doing yarn start.
`import {  utils } from 'umi';
const { winPath } = utils;
`
Error
![image](https://github.com/umijs/umi/assets/60467237/3e77b5dc-499f-432c-a3e1-4c34acae08f1)

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2.

<!-- è¯·æä¾›å¤ç°é“¾æ¥/æ­¥éª¤ï¼Œé”™è¯¯æ—¥å¿—ä»¥åŠç›¸å…³é…ç½® -->

## Context

- **Umi Version**: 4.0.72
- **Node Version**:16.20
- **Platform**: windows

  ## fz6m

  Try remove `node_modules` and reinstall, maybe it didn't resolve to the correct dependencies.

  ## tnsivanagarajan

  Hi @fz6m

I'm also facing the same issue.

I have done the below steps but no luck

1. Delete the node modules folder.

2. `yarn cache clean`

3. Delete the yarn lock file.

4. `yarn cache list`

5. `yarn install`

6. `yarn start`

Facing the same error once after updating the umi version v3 to v4

[cause]: TypeError: Cannot destructure property 'winPath' of 'import_umi.utils' as it is undefined.

`import { defineConfig, utils } from 'umi';`

`const { winPath } = utils;`

## fz6m

In Umi 4, you should import `winPath` from 'umi/plugin-utils' :

```ts
import { winPath } from "umi/plugin-utils";
```

## buquan

> ```ts
> umi / plugin - utils;
> ```

@fz6m è¯·æ•™ä¸ªé—®é¢˜ï¼Œ`import { winPath } from '@umijs/utils';` æˆ‘è¿™ä¹ˆå¼•å…¥ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯node_modulesé‡Œå¹¶æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ`max dev`æ—¶å€™è¿™ä¸ªè·¯å¾„å¤§æ¦‚æ˜¯æ€ä¹ˆè½¬åŒ–çš„

## fz6m

å¦‚æœä½ æ²¡æ˜¾ç¤ºçš„å®‰è£… `@umijs/utils` è¿˜èƒ½å¯¼å…¥ï¼Œè¯´æ˜ä½ ç”¨çš„æ˜¯ npm / yarn è¿™ç§æœ‰å¹½çµä¾èµ–çš„ï¼Œä½ å¯¼å…¥äº†ä¸ä¸€å®šå“ªä¸ªç‰ˆæœ¬ã€å“ªä¸ªä¾èµ–é™„å±çš„å¹½çµä¾èµ–ï¼Œæ‰€ä»¥ä½ å¯ä»¥å·å·çš„ä¸è§„èŒƒä½¿ç”¨ï¼ˆå¦‚æœè¦æ˜¾ç¤ºå¯¼å…¥æ¥ç”¨çš„è¯ï¼Œè¿˜æ˜¯åº”è¯¥æ˜¾ç¤ºå®‰è£…ï¼‰ã€‚

æˆ–è€…ä½ å°±ç›´æ¥å¯¼å…¥ `umi/plugin-utils` ï¼Œè¿™ä¸ªæ–‡ä»¶é‡Œé¢å°±æ˜¯ re export `export * from '@umijs/utils'` ï¼Œç”¨äº† `umi` ä¾èµ–çš„ `@umijs/utils` ï¼Œè¿™æ ·å¯é ä¸€äº›ï¼Œå› ä¸º umi ä¾èµ–çš„ `@umijs/utils` ç‰ˆæœ¬å’Œ `umi` æœ¬èº«ä¸€æ ·ã€‚

## buquan

@fz6m æˆ‘é¡¹ç›®ç”¨çš„pnpmï¼Œæ‰¾äº†ä¸€åœˆnode_modulesçœŸçš„æ²¡æœ‰ï¼Œå‡çº§umi4åï¼Œå¾ˆå¥‡æ€ªå°±èƒ½ç”¨ğŸ˜‚
