# [Bug] 编译报错 esbuild minify failed

  <!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

esbuild minify failed, please change jsMinifier or upgrade target:
e.g.
jsMinifier: 'terser'
or
jsMinifierOptions: {
target: ['chrome80', 'es2020']
}
P.S. compatible with legacy browsers: https://umijs.org/blog/legacy-browser

fatal - Error: ERROR in 336.4400f260.async.js
336.4400f260.async.js from Terser plugin
Transform failed with 52 errors:
336.4400f260.async.js:12208:39: ERROR: Big integer literals are not available in the configured target environment ("chrome80", "es2015")
336.4400f260.async.js:12208:45: ERROR: Big integer literals are not available in the configured target environment ("chrome80", "es2015")
336.4400f260.async.js:12208:52: ERROR: Big integer literals are not available in the configured target environment ("chrome80", "es2015")
336.4400f260.async.js:12223:31: ERROR: Big integer literals are not available in the configured target environment ("chrome80", "es2015")
336.4400f260.async.js:12223:37: ERROR: Big integer literals are not available in the configured target environment ("chrome80", "es2015")
...
Error: Transform failed with 52 errors:
336.4400f260.async.js:12208:39: ERROR: Big integer literals are not available in the configured target environment ("chrome80", "es2015")
336.4400f260.async.js:12208:45: ERROR: Big

## Mini Showcase Repository(REQUIRED)

> Please provide a [minimal reproduction](https://stackoverflow.com/help/minimal-reproducible-example) then upload to your GitHub. 请提供 [最小重现](https://stackoverflow.com/help/minimal-reproducible-example)，并上传到你的 GitHub 仓库

import {defineConfig} from '@umijs/max'
import routes from './routes'

export default defineConfig({
title: 'Desk',
npmClient: "yarn",
tailwindcss: {},
model: {},
routes: routes,
favicons: ['/favicon.ico'],
headScripts: [
// { content: `var googleCallback = function(data) {console.log(data)}`, charset: 'utf-8' },
],
scripts: [
{ src: '/gt.js', defer: true }
],
metas: [
{ name: 'viewport', content: 'width=device-width,initial-scale=1,minimum-scale=1' },
// { "http-equiv": 'Content-Security-Policy', content: "default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';" },
],
locale: {
antd: false,
default: 'en',
baseNavigator: true,
useLocalStorage: false,
baseSeparator: '-',
title: true
},
hash: true,
publicPath: '/\_umi/static/',
mfsu: {
esbuild: true
},
esbuildMinifyIIFE: true
});

<!-- 为节约大家的时间，无复现步骤的 ISSUE 会被关闭，提供之后再 REOPEN -->
<!-- YOUR_REPOSITORY_URL on github or stackbliz -->

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2.

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

## Context

- **Umi Version**:
- **Node Version**:
- **Platform**:

  ## fz6m

  默认使用的 esbuild 压缩器目标是 es6 ，所以不支持 Big int ，根据控制台报错提示，你需要改用 terser 来压缩，或者提高 esbuild 压缩产物目标都可以。

```ts
esbuild minify failed, please change jsMinifier or upgrade target:
e.g.
  // 🟢 换压缩器
  jsMinifier: 'terser'
or
  // 🟢 提高压缩产物版本
  jsMinifierOptions: {
    target: ['chrome80', 'es2020']
  }
```
