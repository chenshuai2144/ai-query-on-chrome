# [Bug] routes配置重定向问题

<!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

配置routes
routes: [
{ path: "/", component: "index",name:'首页',hideInMenu:true },
{
path: "/docs",
name:'文档',
redirect:'/docs/list',
routes:[
{
path: "/docs/list",
name:'文档列表',
component:'docs'
},
{
path: "/docs/docschildren",
component: "@/pages/docschilden",
name:'文档详情',
hideInMenu:true,
parentKeys: ['/docs/list']
},
]
},
{ path: "/doc111s", component: "docs",name:'还有一级' },
],
由于配置了layout会展示面包屑，所有点击进入文档列表后，面包屑展示为文档/文档列表
面包屑点击文档，我希望重定向至文档列表,为什么配置了redirect到文档列表，但是报错为栈溢出

Warning: Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.

## Mini Showcase Repository(REQUIRED)

> Please provide a [minimal reproduction](https://stackoverflow.com/help/minimal-reproducible-example) then upload to your GitHub. 请提供 [最小重现](https://stackoverflow.com/help/minimal-reproducible-example)，并上传到你的 GitHub 仓库
> 缺陷重现github仓库地址： https://github.com/Heyunzhen/Umi4-

<!-- 为节约大家的时间，无复现步骤的 ISSUE 会被关闭，提供之后再 REOPEN -->
<!-- YOUR_REPOSITORY_URL on github or stackbliz -->

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2.

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

    yarn  安装依赖

    选择 yarn dev:test启动不要选择yarn dev

    点击文档列表则会复现

## Context

- **Umi Version**: "@umijs/max": "^4.0.72",
- **Node Version**:18.16.0
- \**Platform*谷歌浏览器\*:

## fz6m

在嵌套路由的时候，父路由不能配置 `redirect` ，这会导致进入任何一个嵌套子路由都经过父路由走重定向。

需要把路由拆开写，具体可以参考 antd-pro 的[路由表](https://github.com/ant-design/ant-design-pro/blob/753945ec3d561a81851c3d6861b365f0a837c711/config/routes.ts#L39)。

## Heyunzhen

如果路由表是在后端返回，那么在后台创建的时候就要这么创建？
