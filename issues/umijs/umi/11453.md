# umijs4由于无法配置decServer中的compress属性 导致无法实时输出sse请求的数据

  <!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

umijs4由于无法配置decServer中的compress属性 导致在无法实时输出sse请求的数据

## Mini Showcase Repository(REQUIRED)

> Please provide a [minimal reproduction](https://stackoverflow.com/help/minimal-reproducible-example) then upload to your GitHub. 请提供 [最小重现](https://stackoverflow.com/help/minimal-reproducible-example)，并上传到你的 GitHub 仓库

<!-- 为节约大家的时间，无复现步骤的 ISSUE 会被关闭，提供之后再 REOPEN -->
<!-- YOUR_REPOSITORY_URL on github or stackbliz -->

1. 你们自己后端写一个sse的service
2. 在前端调用这个service （通过proxy调用）
3. sse请求变成了一个普通的post请求，无法实时输出结果

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2.

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

1. 你们自己后端写一个sse的service
2. 在前端调用这个service （通过proxy调用）
3. sse请求变成了一个普通的post请求，无法实时输出结果
   （不太理解 chainWebpack都无法覆盖？？？？？？？？？？？？？？？？）

## Context

- **Umi Version**: 4
- **Node Version**: 18
- **Platform**:

  ## fz6m

  通过 [`proxy`](https://umijs.org/docs/api/config#proxy) 选项自定义 proxy 相关的配置。

参考 [devServer 选项怎么配置](https://umijs.org/docs/introduce/faq#devserver-%E9%80%89%E9%A1%B9%E6%80%8E%E4%B9%88%E9%85%8D%E7%BD%AE) 自定义提供服务的 `express` 中间件，支持任何自定义行为。

在 [`onBeforeMiddleware`](https://umijs.org/docs/api/plugin-api#onbeforemiddleware) 可以拿到 express 实例，具体怎么实现自行决定即可。
