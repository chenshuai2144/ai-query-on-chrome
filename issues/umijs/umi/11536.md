# less @ Invalid or unexpected token

umi升级后中开启ssr项目启动后报错。
不开启ssr是正常的。

/node_modules/@formily/antd/lib/array-base/style.less:1
@root-entry-name: 'default';
^

SyntaxError: Invalid or unexpected token
at compileFunction (<anonymous>)
at Object.compileFunction (node:vm:360:18)
at wrapSafe (node:internal/modules/cjs/loader:1124:15)
at Module.\_compile (node:internal/modules/cjs/loader:1160:27)
at Object.Module.\_extensions..js (node:internal/modules/cjs/loader:1250:10)
at Module.load (node:internal/modules/cjs/loader:1074:32)
at Function.Module.\_load (node:internal/modules/cjs/loader:909:12)
at Module.require (node:internal/modules/cjs/loader:1098:19)
at require (node:internal/modules/cjs/helpers:108:18)
at Object.<anonymous> (/Users/wangrenbiao/work/tps_web_portal/node_modules/@formily/antd/lib/style.js:4:1)
at Module.\_compile (node:internal/modules/cjs/loader:1196:14)
at Object.Module.\_extensions..js (node:internal/modules/cjs/loader:1250:10)
at Module.load (node:internal/modules/cjs/loader:1074:32)
at Function.Module.\_load (node:internal/modules/cjs/loader:909:12)
at Module.require (node:internal/modules/cjs/loader:1098:19)
at require (node:internal/modules/cjs/helpers:108:18)
at Object.<anonymous> (/Users/wangrenbiao/work/tps_web_portal/node_modules/@formily/antd/lib/index.js:17:1)
at Module.\_compile (node:internal/modules/cjs/loader:1196:14)
at Object.Module.\_extensions..js (node:internal/modules/cjs/loader:1250:10)
at Module.load (node:internal/modules/cjs/loader:1074:32)
at Function.Module.\_load (node:internal/modules/cjs/loader:909:12)
at Module.require (node:internal/modules/cjs/loader:1098:19)
at require (node:internal/modules/cjs/helpers:108:18)
at src/components/form/BaseForm.tsx (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:40226:20)
at **init (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:9:56)
at src/components/list/QueryBar.tsx (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:40308:5)
at **init (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:9:56)
at src/components/list/DataTable.tsx (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:40380:5)
at **init (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:9:56)
at src/components/index.ts (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:40898:5)
at **init (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:9:56)
at src/pages/index.tsx (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:40936:5)
at \_\_init (/Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:9:56)
at /Users/wangrenbiao/work/tps_web_portal/src/.umi/server/umi.server.js:45812:76
at runMicrotasks (<anonymous>)
at processTicksAndRejections (node:internal/process/task_queues:96:5)

![image](https://github.com/umijs/umi/assets/39082776/9c5f595d-3c20-41fa-8412-375093e0b4bd)

## fz6m

umi 4 的 ssr 只是最小可用版本，当你需要构建完整的 ssr 应用时，建议使用 nextjs 。
