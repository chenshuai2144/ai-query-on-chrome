# umi V3.5.41打包工程，将dist文件导入到浏览器插件中，打开umi官方文档会重定向到浏览器插件所在网址

`type(umi@3)`

问题如题目：umi V3.5.41打包工程，将dist文件导入到浏览器插件中，打开umi官方文档会重定向到浏览器插件所在网址
.umirc.ts配置如下：
`export default defineConfig({
nodeModulesTransform: {
type: 'none',
},
routes: [
{ path: '/', component: '@/pages/index'},
],
fastRefresh: {},
base: './',
publicPath: './',
history: {
type: 'hash'
},
// hash: true,
chainWebpack: (config, { webpack }) => {
// 将js文件打包到dist/js文件中
config.output.filename('static/js/[name].js');
config.output.chunkFilename('static/js/[name].async.js');
// 将css文件打包到dist/css文件中
config.module.rule('less').oneOf('css-modules').use('extract-css-loader').tap(() => ({
publicPath: '../',
hmr: true
}));

    config.plugin('extract-css').tap(() => [
      {
        filename: 'static/css/[name].css',
        chunkFilename: 'static/css/[name].chunk.css',
        ignoreOrder: true,
      },
    ]);

}
});`
打包后生成的目录如下：
<img width="399" alt="image" src="https://github.com/umijs/umi/assets/40811033/398bc333-4b6c-49dd-a3a8-e87fd5071f30">

打包产物-index.html如下
`<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="./static/css/umi.css" />
    <script>
      window.routerBase = "./";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
  </head>
  <body>
    <div id="root"></div>

    <script src="./static/js/umi.js"></script>

  </body>
</html>`
将上述打包目录导入到浏览器插件中，打开umi官方文档：https://umijs.org/docs/api/config#/，会重定向到浏览器插件对应的地址中，效果如下：
![image](https://github.com/umijs/umi/assets/40811033/74b394e1-b37d-41c2-93d6-85ec1f32ef44)
辛苦大佬们帮忙看下，非常感谢

## JinO16

配置文件：
<img width="947" alt="image" src="https://github.com/umijs/umi/assets/40811033/24155941-ba47-437e-9308-f97f213429dd">
打包后的index.html文件
<img width="1104" alt="image" src="https://github.com/umijs/umi/assets/40811033/790b5d2f-113e-4bf5-b3b9-d3e1afa9bfd6">

## fz6m

umi 3 不维护了，建议升级到 umi 4

## JinO16

> umi 3 不维护了，建议升级到 umi 4

您好，umi4中存在打包资源不支持自定义目录的问题【问题详情：https://github.com/umijs/umi/discussions/9887#/】，我们项目中需要将打包后的资源自定义目录，所以才会降版本到umi3后进行配置，但是umi3会出现这个问题😂。

## JinO16

想问下查看打包后的产物，发现在index.html文件中自动生成了内联script，
<img width="787" alt="image" src="https://github.com/umijs/umi/assets/40811033/45212753-7984-45e7-a099-f314810c4caf">
这两个内联script的作用是什么？如何配置将默认生成的语句删除？
