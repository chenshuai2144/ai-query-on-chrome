# umi 编译后托管到cloudflare报错

如题，正常是可以访问的，放到Nginx下也可以。但是一旦放到cloudflare托管就报错，如图
![image](https://github.com/umijs/umi/assets/33250972/e5727910-de0d-4541-8be7-1b12712c5632)

## keer6

![image](https://github.com/umijs/umi/assets/33250972/87f6f598-2ffb-4d38-996e-204c81c5e167)

去网上查了一下，好像是因为cloudflare开启了压缩导致的

- Cf-Bgj: minify - 这个字段表示该响应经过了 CF-BGJ（Brotli and Gzip combined）压缩。
- CF-Cache-Status: HIT - 这个字段表示该响应是从缓存中获取的，而不是从源服务器实时获取的。
- Cf-Polished: origSize=995512 - 这个字段表示该响应经过了 CF-Polished 优化，其中 "origSize" 表示原始响应的大小，单位为字节。
- Content-Encoding: br - 这个字段表示该响应使用了 Brotli 压缩算法进行压缩，提高传输效率。
- Vary: Accept-Encoding - 这个字段指示响应根据请求中的 Accept-Encoding 头部信息来选择适当的压缩算法。

![企业微信截图_16867975599279](https://github.com/umijs/umi/assets/33250972/75ce7d46-9f38-45dd-8bd7-b635b4130d5f)

但是去配置了一下，好像也没用，有朋友 碰到类似问题或者解决办法吗？

## hanxiaolong-github

同样的问题。

## fz6m

正常托管到 CF 上都没必要开启 CF 的自动压缩功能，因为 CF 会对你的项目 js 、html 、 css 做黑盒操作，这都是不可控的，对任何网站都不应该、不建议开启这个边缘的黑盒操作。
