# .umijs.js里面无法使用require.context

提示

```
 require.context is not a function
```

webpack相关配置，可以在.umijs.js里面配置，理论上应该支持这些webpack的方法。
现在的需求是，umi和storybook还有react-native混用。
所有页面不是存放在约定是pages文件夹下面，而是在`...components/XXX/usage/index`
所以想要在.umijs.js里面

```
const context = require.context("./components", true, /usage\/index\.js$/);
let pages = [{ path: "/", redirect: "/modal" }];
context.keys().forEach(item => {
  const key = item.split("/")[1];
  pages.push({ path: `/${key}`, component: `../../components/${item.slice(2)}` })
});
console.log(pages);

export default {
  plugins: [
    [
      "umi-plugin-react",
      {
        dva: true,
        antd: true,
        hd: true
      }
    ]
  ],
  history: "hash",
  routes: [
    {
      path: "/",
      component: "../layouts",
      routes: pages
    }
  ]
};

```

## sorrycc

`.umirc.js` 不走 webpack 编译，自然用不了 webpack 的 `require.context`，这不是跑在浏览器里的，用 node 的 fs 处理就好了。

## huangruiqi

我这里有用到dumi 做组件文档，但是无法使用require.context进行svg文件的引用，这里有什么好滴方法借鉴吗

## xiaodel

![image](https://user-images.githubusercontent.com/24968415/230316958-aebe2cb3-d6e9-4fd8-965d-567a41061a15.png)
