# 如何自行处理loading chunk failed 错误

build运行时候发现有的包或者模板没有加载进来报loading chunk failed的错误。我先做想实现的是怎样的配置能实现处理或者捕获这样错误，自己再去处理，比如界面上有提示重新加载按钮，而不是就控制台报个错。

## sorrycc

静态资源为啥会载入失败？是服务端的问题？

## jiejie-dev

我也存在这个问题
![image](https://user-images.githubusercontent.com/10516530/59732118-98944f80-927b-11e9-84e6-50d062bd3a10.png)
很多人都有这个问题，Webpack也有这个问题

## sorrycc

得排查下是路径不对，还是文件不存在？

## feibi

这可能是缓存问题导致的

## Anonymity94

> 我也存在这个问题
> ![image](https://user-images.githubusercontent.com/10516530/59732118-98944f80-927b-11e9-84e6-50d062bd3a10.png)
> 很多人都有这个问题，Webpack也有这个问题

这个问题有什么进展吗？

## acpplife

```
function handleLoadChunkError (err) {
  const pattern = /^Loading chunk (\d)+ failed\./;
  const isChunkLoadingFailed = pattern.test(err.message);

  if (isChunkLoadingFailed) {
    notification.info({
      message: '系统提醒',
      description: '服务器版本已更新，正在刷新本地缓存，请稍后...',
    })

    window.location.replace(window.location.href);
  }
}
```

```
dva: {
   config: {
       onError(err) {
            handleLoadChunkError(err)
       }
   }
},
```

不知道这样处理可不可以，我添加这块之后项目重新发布没有出错，但是也没有触发这个更新提示。
如果大家有可行的方案欢迎讨论~

## codercatmomi

@acpplife 我先借用你这个试试

## zhilisu

> @acpplife 我先借用你这个试试

请问这个可行吗？我这边不管用，也还在找其他解决方案中

## 1215708470

这个问题有什么解决方法吗，一直得不到解决办法

## ArleneShine

有方法可以捕获到这个错误吗？“loading chunk failed”

## xyy7260

@ArleneShine @1215708470 请问你们解决了吗

## ArleneShine

@xyy7260 用window.onerror可以捕获到

## superchenwb

应该不是umi的问题，我公司之前的一个项目，用的create-react-app，也有这样的问题。关键是只有在上线之后才会出现。查了很久，才发现是被网络商劫持了，启动https之后就不存在这个问题了

## CLXGGG

> 这可能是缓存问题导致的

确实 Ctrl + F5 强制刷新一下就好了
