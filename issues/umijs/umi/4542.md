# umi externals è¿˜æ˜¯æ‰“åŒ…äº†è®¾ç½®é¡¹ æ¯”å¦‚antd

## What happens?

![image](https://user-images.githubusercontent.com/23191825/80332562-c116ae00-887d-11ea-9bad-230d07f96b64.png)
è®¾ç½®æ— æ•ˆ

## Mini Showcase Repository(REQUIRED)

> Provide a mini GitHub repository which can reproduce the issue. Use `yarn create @umijs/umi-app` then upload to your GitHub

<!-- https://github.com/YOUR_REPOSITORY_URL -->

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.
![image](https://user-images.githubusercontent.com/23191825/80332622-e1466d00-887d-11ea-9f63-66f97264570a.png)
antd è¿˜å­˜åœ¨

**Expected behavior** 1. 2.

## Context

- **Umi Version**:
- **Node Version**:
- **Platform**:

## zhenujt

externals å¦‚ä½•è®¾ç½®æ‰èƒ½ä¸æ‰“åŒ… ç±»ä¼¼ react react-router antd åº“

## sorrycc

å› ä¸ºç”¨äº† babel-plugin-import æ’ä»¶ï¼Œæ‰€ä»¥å¼•çš„æ—¶å€™ä¸æ˜¯ antdï¼Œè€Œæ˜¯ antd/es/xxxï¼Œæœ webpack çš„æ–‡æ¡£è§£å†³ã€‚

## wleven

> å› ä¸ºç”¨äº† babel-plugin-import æ’ä»¶ï¼Œæ‰€ä»¥å¼•çš„æ—¶å€™ä¸æ˜¯ antdï¼Œè€Œæ˜¯ antd/es/xxxï¼Œæœ webpack çš„æ–‡æ¡£è§£å†³ã€‚

æ‰€ä»¥è¿™é‡Œåº”è¯¥æ€ä¹ˆå†™ï¼Œä¸æ˜¯å¾ˆæ‡‚webpacké…ç½®

## Baoyx007

å¯ä»¥ç›´æ¥é…ç½® antd: false,

## tinytinysunny

åŒå¥½å¥‡æ€ä¹ˆè§£å†³

## travonf

> config/config.ts

```js
import { defineConfig } from 'umi';

export default defineConfig({
  externals: {
   'antd/lib/table': 'antd.Table'
  }
}
```

## dohooo

@ğŸ˜±

## hanwenbo

> å¯ä»¥ç›´æ¥é…ç½® antd: false,

æµ‹è¯•äº† ä¸è¡Œ

## wangmeijian

umi3 ç¦ç”¨äº†åŠ¨æ€åŠ è½½ä¹Ÿä¸è¡Œ

## renkunx

æŒ‰ç»„ä»¶æ‰©å±•

```
export default defineConfig({
  externals: {
   'antd/es/alert': 'antd.Alert',
  }
}
```

æ‰¹é‡æ‰©å±•
external-antd.js

```
import * as antd from 'antd'
import { kebabCase } from 'lodash'
let externalsAntd = {}
for (const key in antd) {
  if (Object.hasOwnProperty.call(antd, key)) {
    externalsAntd[`antd/es/${kebabCase(key)}`] = `window.antd.${key}`;
  }
}
export default externalsAntd;
```

config.ts

```
import ExternalAntd from 'external-antd'
export default defineConfig({
  externals: {
    ...ExternalAntd,
  }
}
```

## aeroxy

> æŒ‰ç»„ä»¶æ‰©å±•
>
> ```
> export default defineConfig({
>   externals: {
>    'antd/es/alert': 'antd.Alert',
>   }
> }
> ```
>
> æ‰¹é‡æ‰©å±• external-antd.js
>
> ```
> import * as antd from 'antd'
> import { kebabCase } from 'lodash'
> let externalsAntd = {}
> for (const key in antd) {
>   if (Object.hasOwnProperty.call(antd, key)) {
>     externalsAntd[`antd/es/${kebabCase(key)}`] = `window.antd.${key}`;
>   }
> }
> export default externalsAntd;
> ```
>
> config.ts
>
> ```
> import ExternalAntd from 'external-antd'
> export default defineConfig({
>   externals: {
>     ...ExternalAntd,
>   }
> }
> ```

è¿™ä¸ªé…ç½®æˆ‘åœ¨å®é™…é¡¹ç›®ä¸­å‘ç°`window.antd.${key}`è¢«ç¼–è¯‘ä¸º`window["window.antd." + key]`
