# [Bug] 请问如何在useModel('model')是去加载model中的useEffect而不是程序一启动就执行了useEffect

`Question`

<!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

<!-- 清晰的描述下遇到的问题。-->

## 最小可复现仓库

> 请使用 `yarn create @umijs/umi-app` 创建，并上传到你的 GitHub 仓库

<!-- 为节约大家的时间，无复现步骤的 ISSUE 会被关闭，提供之后再 REOPEN -->
<!-- https://github.com/YOUR_REPOSITORY_URL -->

## 复现步骤，错误日志以及相关配置

<!-- 请提供复现步骤，错误日志以及相关配置 -->
<!-- 可以尝试不要锁版本，重新安装依赖试试先 -->

## 相关环境信息

- **Umi 版本**：
- **Node 版本**：
- **操作系统**：

import { useState,useEffect, useCallback } from 'react';
import { query } from '../services/basedata'

export default function useAuthModel() {
const [bdlist, setbdlist] = useState<API.BaseData[]>([]);
useEffect(()=>{
//查询列表
query().then(res => {
setbdlist(res);
});
}, []);

return {
bdlist
};
}

我需要在第一次执行useModel('model')去初始化这个model的所有数据,而不是程序一启动就把所有model都加载出来了

## zhang0ZGC

确实是有这个问题。。。getInitialState跟models文件夹里面的代码时同时执行的。。我 `getInitialState` 方法里面可能有校验权限的步骤，设置token等功能，结果 `models` 文件夹里面的方法却比它先执行了，只能拆出来使用hooks的方式引入 🤣

## Kaier33

所有的model在启动(刷新)时全部要跑一遍. 总感觉不太好~
我不在Model中使用effect, 只写方法, 然后在组件的effect去调用

## hooliy

怎么解决呢？打开登录页就把models全执行了一遍，导致页面报了一堆的403提示框，体验太差了

## promotion-xu

dynamic能解决这个问题吗
