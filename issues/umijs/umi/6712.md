# [Bug] 加载页面时有时候一直显示loading，手动刷新可恢复

`Need Reproduce`

<!--
⚠️ ⚠️ ⚠️ 注意：讨论和提问请到讨论区（https://github.com/umijs/umi/discussions），否则会被直接关掉。 ⚠️ ⚠️ ⚠️
-->
<!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

```
  dynamicImport: {
    loading: '@ant-design/pro-layout/es/PageLoading',
  },
```

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

![image](https://user-images.githubusercontent.com/70048681/121316802-45ba7380-c93c-11eb-9203-57283819eaa7.png)

## Mini Showcase Repository(REQUIRED)

> Please provide a repository using `yarn create @umijs/umi-app` then upload to your GitHub 请提供一个可复现的仓库，使用 `yarn create @umijs/umi-app` 创建，并上传到你的 GitHub 仓库

<!-- 为节约大家的时间，无复现步骤的 ISSUE 会被关闭，提供之后再 REOPEN -->
<!-- https://github.com/YOUR_REPOSITORY_URL -->

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2.

<!-- 请提供复现链接/步骤，错误日志以及相关配置 -->

## Context

- **Umi Version**: 3.3.7
- **Node Version**: 14
- **Platform**:mac

## xiaoshui222

> ## What happens?
>
> ```
>   dynamicImport: {
>     loading: '@ant-design/pro-layout/es/PageLoading',
>   },
> ```
>
> ![image](https://user-images.githubusercontent.com/70048681/121316802-45ba7380-c93c-11eb-9203-57283819eaa7.png)
>
> ## Mini Showcase Repository(REQUIRED)
>
> > Please provide a repository using `yarn create @umijs/umi-app` then upload to your GitHub 请提供一个可复现的仓库，使用 `yarn create @umijs/umi-app` 创建，并上传到你的 GitHub 仓库
>
> ## How To Reproduce
>
> **Steps to reproduce the behavior:** 1. 2.
>
> **Expected behavior** 1. 2.
>
> ## Context
>
> - **Umi Version**: 3.3.7
> - **Node Version**: 14
> - **Platform**:mac

请问你解决了吗，我也是这样

## Jeannette0217

我也遇到这种无限loading ,手动刷新的问题

## huyawei

老哥解决了没，我现在都不是手动刷新的问题了 卡loading 有的模块 刷了也没用

## huyawei

现在服务器构建如果把构建缓存留着偶尔还会卡图片

## marong1997

我这边的项目有这个问题 ，
表现：点击切换左侧路由菜单 有的菜单会展示内容（无接口调用的页面）
有的菜单一直展示loading 点击切换菜单会发现js文件加载了 。但是返回值是一个很简单的结构
![image](https://user-images.githubusercontent.com/71006439/191718362-7cccb70f-2ccd-43b9-b7f4-5c6968d61bfe.png)

复现很不稳定、
分享下umirc配置吧 。
`
import { defineConfig } from 'umi';
import routes from './src/routes';
import theme from './src/config/theme';
import webpackConfig from './src/config/plugin.config.js';

export default defineConfig({
nodeModulesTransform: {
type: 'none',
},
hash: true,
layout: {
title: '',
navTheme: 'dark',
name: 'ant-design-pro',
theme: 'PRO',
locale: true,
showBreadcrumb: true,
siderWidth: 208,
layout: 'side',
contentWidth: 'Fluid',
fixedHeader: false,
fixSiderbar: true,
colorWeak: false,
pwa: false,
iconfontUrl: '',
},
routes,
targets: { ie: 11 },
access: {
strictMode: true,
},
esbuild: {},
fastRefresh: {},
proxy: {
'/m1': {
target: 'https://mock.apifox.cn/',
changeOrigin: true,
},
},
alias: {
service: '@/services',
requestUrl: '@/services/config',
config: '@/config',
tools: '@/utils/tools',
components: '@/components',
hooks: '@/utils/hooks',
},
dynamicImport: {
loading: '@ant-design/pro-layout/es/PageLoading',
},
theme,
});
`

## marong1997

> 老哥解决了没，我现在都不是手动刷新的问题了 卡loading 有的模块 刷了也没用

请问你们的问题解决了吗？

## zhidali

现在还有这个问题，偶现
umi：3.5.20
react: 17.x

## marong1997

> 现在还有这个问题，偶现 umi：3.5.20 react: 17.x

我的是 umi 3.5.30
react： 17.x
