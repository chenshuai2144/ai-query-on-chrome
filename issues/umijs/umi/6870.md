# [Bug] npm run build 告警

`PR Welcome`

```
(node:22840) [DEP_WEBPACK_CONFIGURATION_OPTIMIZATION_NO_EMIT_ON_ERRORS] DeprecationWarning: optimization.noEmitOnErrors is deprecated in favor of optimization.emitOnErrors
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:22840) [DEP_WEBPACK_COMPILATION_OPTIMIZE_CHUNK_ASSETS] DeprecationWarning: optimizeChunkAssets is deprecated (use Compilation.hooks.processAssets instead and use one of Compilation.PROCESS_ASSETS
_STAGE_* as stage option)
(node:22840) [DEP_WEBPACK_COMPILATION_NORMAL_MODULE_LOADER_HOOK] DeprecationWarning: Compilation.hooks.normalModuleLoader was moved to NormalModule.getCompilationHooks(compilation).loader

```

## zcSkr

插个眼，目前告警好像没影响打包出的产物

## hihuangwei

"umi": "^3.5.8", 依然没有解决 @jrschumacher

## furylee

今天clone了一个新的下来,build的时也有这个warning, DEP_WEBPACK_COMPILATION_OPTIMIZE_CHUNK_ASSETS .

## pendulm

这个问题有解决方案吗？

## noahge

同样遇到了这个问题，强迫症好难受，有解决方案吗？

## s464446877

现在一样同样遇到这个问题

## rojer95

插个眼

## daidi

插个眼

## hanjeahwan

插个眼

## RThong

插个眼

## zhouzyc

插个眼

## xiaoheikejj

插个眼

## qiliangya

插

## daidi

插

## xyy7260

+1

## azx1985

[DEP_WEBPACK_CONFIGURATION_OPTIMIZATION_NO_EMIT_ON_ERRORS] DeprecationWarning: optimization.noEmitOnErrors is deprecated in favor of optimization.emitOnErrors
(Use `node --trace-deprecation ...` to show where the warning was created)

请问解决了吗？

## zcSkr

👀

## mastercbhw

👀

## wangerwang

👀

## fengluhome

同问，啥时候给解决啊

## zhuguibiao

.umirc.ts 文件添加chainWebpack生产环境配置就可以了

```js
chainWebpack(config, { env }) {
    if (env === 'production') {
      config.optimization.delete('noEmitOnErrors');
      config.plugins.delete('optimize-css');

      // 因为删除原来适配webpack4的css压缩插件，css压缩可以用 mini-css-extract-plugin
     config.optimization.minimize(true)
     config.optimization.minimizer(`css-esbuildMinify`).use(CSSMinimizerWebpackPlugin);
    }
    console.log(config.toConfig());
  },
```
