# [Bug] umi 3.5.0 SSR严重bug

umi升级到3.5.0会导致ssr的页面html没有hash值
![image](https://user-images.githubusercontent.com/12406066/125787250-bd60a50f-44fe-4a0f-ab34-cb13d16d9227.png)

```
import { defineConfig } from 'umi';

export default defineConfig({
  routes: [
    {
      path: '/',
      component: '@/layouts',
      routes: [{ path: '/home', component: '@/pages/index' }],
    },
  ],
  ssr: {},
  hash: true,
  fastRefresh: {},
});
```

## 7kms

是开发环境下吗, 开发环境是没有hash的

## xuqianjin

> 是开发环境下吗, 开发环境是没有hash的

生产环境生产环境生产环境

## 104gogo

+1
html里面的是umi.css和umi.js，打包的文件umi.xxxx.js和umi.xxxx.css

## remberi

+1 我也遇到了这种问题， 我是3.2.9版本，而且会多出一个umi.server.d.ts文件，但是我本地打包是好的，服务器上打包就会出这种问题，暂时不知道如何解决

## 7kms

升级之后还有问题吗, 现在是3.5.15了

## 104gogo

> +1 我也遇到了这种问题， 我是3.2.9版本，而且会多出一个umi.server.d.ts文件，但是我本地打包是好的，服务器上打包就会出这种问题，暂时不知道如何解决

有2个方法临时方法

1. 拷一份umi.xxxx.js和umi.xxxx.css，然后新增umi.js和umi.css文件
2. 修改umi.server.js里面的htmlTemplate..

## 104gogo

> 升级之后还有问题吗, 现在是3.5.15了

还是一样的问题

## jxiangji

是的！同样的问题！！！昨天遇到搞了好久（我用的是最新版3.5.15），换到3.4.x才正常

## weitangli

是的！同样的问题！！！
我使用的是3.5.17

## royall

版本3.5.17，同样的问题。
大佬们都解决了吗

## FeSeason

还没解决吗 ？？？ 都 3.5.20 了还是有同样的问题

## wotermelon

同样的问题！一开始以为是拆包的问题，拆包之后路径也全都是乱的

## yangsendyx

回退版本到3.4.x可以解决ssr无hash的问题

## WheelerLee

都2023年了，还没解决
