# [Bug] umi3.5.26å¼•å…¥umi-plugin-keep-aliveåæŠ¥é”™

## What happens?

> umi3.5.26å¼•å…¥umi-plugin-keep-aliveåæŠ¥é”™
> å…·ä½“æŠ¥é”™ä¿¡æ¯

```
 ERROR  Failed to compile with 1 errors                      ä¸‹åˆ4:55:55

 error  in ./src/.umi/umi.ts

Module build failed (from ./node_modules/_@umijs_deps@3.5.26@@umijs/deps/compiled/babel-loader/index.js):
Error: [BABEL] /Users/wangzhengyi/workspace/work/umi-test/src/.umi/umi.ts: .0 is not a valid Plugin property
    at /Users/wangzhengyi/workspace/work/umi-test/node_modules/_@umijs_deps@3.5.26@@umijs/deps/compiled/babel/bundle.js:4191:42
    at Array.forEach (<anonymous>)
    at validatePluginObject (/Users/wangzhengyi/workspace/work/umi-test/node_modules/_@umijs_deps@3.5.26@@umijs/deps/compiled/babel/bundle.js:4180:20)
    at /Users/wangzhengyi/workspace/work/umi-test/node_modules/_@umijs_deps@3.5.26@@umijs/deps/compiled/babel/bundle.js:2687:55
    at Generator.next (<anonymous>)
    at Function.<anonymous> (/Users/wangzhengyi/workspace/work/umi-test/node_modules/_@umijs_deps@3.5.26@@umijs/deps/compiled/babel/bundle.js:4293:3)
    at Generator.next (<anonymous>)
    at step (/Users/wangzhengyi/workspace/work/umi-test/node_modules/_@umijs_deps@3.5.26@@umijs/deps/compiled/babel/bundle.js:121035:32)
    at evaluateAsync (/Users/wangzhengyi/workspace/work/umi-test/node_modules/_@umijs_deps@3.5.26@@umijs/deps/compiled/babel/bundle.js:121065:5)
    at Function.errback (/Users/wangzhengyi/workspace/work/umi-test/node_modules/_@umijs_deps@3.5.26@@umijs/deps/compiled/babel/bundle.js:120887:7)

 @ multi ./node_modules/_@umijs_preset-built-in@3.5.26@@umijs/preset-built-in/bundled/@pmmmwh/react-refresh-webpack-plugin/client/ReactRefreshEntry.js ./src/.umi/umi.ts
```

åˆæ­¥æ’æŸ¥ä¸‹æ¥æ˜¯ ./node*modules/*@umijs_deps@3.5.26@@umijs/deps/compiled/babel-loader/index.js

```
function validatePluginObject(obj) {
  const rootPath = {
    type: "root",
    source: "plugin"
  };
// obj  [
  '/Users/wangzhengyi/workspace/work/umi-test/node_modules/_react-activation@0.11.2@react-activation/babel.js'
]
  Object.keys(obj).forEach(key => {
    const validator = VALIDATORS[key];
    if (validator) {
      const optLoc = {
        type: "option",
        name: key,
        parent: rootPath
      };
      validator(optLoc, obj[key]);
    } else {
      const invalidPluginPropertyError = new Error(`.${key} is not a valid Plugin property`);
      invalidPluginPropertyError.code = "BABEL_UNKNOWN_PLUGIN_PROPERTY";
      throw invalidPluginPropertyError;
    }
  });
  return obj;
}
```

è¿™é‡Œçš„objåº”è¯¥æ˜¯å¯¹è±¡ï¼Œä½†æ‹¿åˆ°çš„æ˜¯ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥æŠ¥é”™äº†

> æœ€å°å¤ç°ä»“åº“åœ°å€ https://github.com/xiaoyierle/umi-keepalive.git

## å¤ç°æ“ä½œ

- cnpm i
- npm start

è¿è¡Œå°±ä¼šæŠ¥é”™

> ç›¸å…³ä¾èµ–

- **Umi Version**: v3.5.26
- **Node Version**:v14.17.3
- **Platform**: MAC OS 12.3.1

## NJimmi

è¯·é—®æ€ä¹ˆè§£å†³çš„

## xinlanlan

å§æ§½ï¼Œæˆ‘ä¹Ÿåˆšé‡åˆ°ï¼Œä¹‹å‰è¿˜æ˜¯å¥½çš„ï¼Œåˆšæ‰å‘ç°çªç„¶ä¸è¡Œäº†ï¼Œæœæ–­å»æ‰ä¸ç”¨äº†ã€‚ ğŸ¶

## xiaohuoni

å‘æ–°åŒ…äº†ï¼Œæ”¯æŒ umi@4 çš„ç‰ˆæœ¬ï¼Œä¸­é—´ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå®‰è£…æœ€æ–°ç‰ˆå¯è§£å†³

## cangsnage

> å‘æ–°åŒ…äº†ï¼Œæ”¯æŒ umi@4 çš„ç‰ˆæœ¬ï¼Œä¸­é—´ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå®‰è£…æœ€æ–°ç‰ˆå¯è§£å†³

æˆ‘iæƒ³é—®ä¸‹umijs@3çš„ç‰ˆæœ¬ç°åœ¨ä¸æ”¯æŒè¿™ä¸ªæ’ä»¶äº†ä¹ˆ
