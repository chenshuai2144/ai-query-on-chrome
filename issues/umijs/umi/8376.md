# [Bug] UMI 4 é…ç½®(.umirc.ts)ä¸­çš„ alias æ— æ³•è¢« typescript æ­£ç¡®è¯†åˆ«ã€‚

`type(enhancement)`

<!--
âš ï¸ âš ï¸ âš ï¸ æ³¨æ„ï¼šè®¨è®ºå’Œæé—®è¯·åˆ°è®¨è®ºåŒºï¼ˆhttps://github.com/umijs/umi/discussionsï¼‰ï¼Œå¦åˆ™ä¼šè¢«ç›´æ¥å…³æ‰ã€‚ âš ï¸ âš ï¸ âš ï¸
-->
<!--
æ„Ÿè°¢æ‚¨å‘æˆ‘ä»¬åé¦ˆé—®é¢˜ï¼Œä¸ºäº†é«˜æ•ˆçš„è§£å†³é—®é¢˜ï¼Œæˆ‘ä»¬æœŸæœ›ä½ èƒ½æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
-->

## What happens?

<img width="1021" alt="Screen Shot 2022-07-04 at 21 37 41" src="https://user-images.githubusercontent.com/9099214/177166275-2feacdf6-fe76-49b5-a28e-75a8ab7e181a.png">

å¦‚å›¾æ‰€ç¤ºï¼Œç”±äº tsconfig.json ä¸­ç¼ºå°‘ä¸ .umirc.ts ä¸­çš„ alias å¯¹åº”çš„ paths å®šä¹‰ï¼Œå¯¼è‡´ ide æŠ¥é”™ï¼Œä»£ç æœ¬èº«èƒ½æ­£å¸¸è¿è¡Œã€‚

## Mini Showcase Repository(REQUIRED)

åº”è¯¥ä¸éœ€è¦...

> Please provide a [minimal reproduction](https://stackoverflow.com/help/minimal-reproducible-example) then upload to your GitHub. è¯·æä¾› [æœ€å°é‡ç°](https://stackoverflow.com/help/minimal-reproducible-example)ï¼Œå¹¶ä¸Šä¼ åˆ°ä½ çš„ GitHub ä»“åº“

<!-- ä¸ºèŠ‚çº¦å¤§å®¶çš„æ—¶é—´ï¼Œæ— å¤ç°æ­¥éª¤çš„ ISSUE ä¼šè¢«å…³é—­ï¼Œæä¾›ä¹‹åå† REOPEN -->
<!-- https://github.com/YOUR_REPOSITORY_URL -->

## How To Reproduce

**Steps to reproduce the behavior:** 1. 2.

**Expected behavior** 1. 2.

<!-- è¯·æä¾›å¤ç°é“¾æ¥/æ­¥éª¤ï¼Œé”™è¯¯æ—¥å¿—ä»¥åŠç›¸å…³é…ç½® -->

## Context

- **Umi Version**: 4.0.5
- **Node Version**: v18.4.0 with yarn 1.22.19
- **Platform**: mac m1 / vscode

## sorrycc

ä½ éœ€è¦åœ¨ tsconfig.json é‡ŒåŒæ­¥é…ç½®ã€‚

## ye-will

@sorrycc ç›´æ¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­çš„ `tsconfig.json` ä¸­æ·»åŠ å¦‚ä¸‹å®šä¹‰çš„è¯

```
{
  "extends": "./src/.umi/tsconfig.json",
  "compilerOptions": {
    "paths": {
      "@components/*": ["src/components/*"]
    }
  }
}
```

ä¼šå¯¼è‡´ `@/*`, `@@/*`, `umi`, `umi/typings` è¿™äº›å®šä¹‰åœ¨ `src/.umi/tsconfig.json` ä¸­çš„ paths æ— æ³•è¢«æ­£ç¡®è¯†åˆ«ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å°†è¿™äº›å®šä¹‰æ‹·åˆ°å¤–å±‚çš„ `tsconfig.json` ä¸­

æ˜¾ç„¶è¿™ä¸ªä¸æ˜¯å¥½çš„åšæ³•ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸æ¸…æ¥š umi.js ä¼šåœ¨ä»€ä¹ˆæ—¶å€™å»æ›´æ–° `src/.umi/tsconfig.json`

æ¯”å¥½å¥½çš„åšæ³•è¿˜æ˜¯è®© umi.js æ¥å°†è¿™äº›é…ç½®æ³¨å…¥åˆ° `tsconfig.json` ä¸­ã€‚

## cds803

```
{
  "compilerOptions": {

    "paths": {
      "@/*": [
        "src/*"
      ],
      "@@/*": [
        "src/.umi/*"
      ],
      "@umijs/max": [
        "~/node_modules/.pnpm/umi@4.0.8_bydnn5hg4wi5mp2wv6srjc7bde/node_modules/umi"
      ],
      "@umijs/max/typings": [
        "src/.umi/typings"
      ]
    }
  }
}
```

src/.umi/tsconfig.json é»˜è®¤ç”Ÿæˆçš„é…ç½®é‡Œï¼Œ@umijs/max æ˜¯ä¸€ä¸ªé€šè¿‡åŒ…ç‰ˆæœ¬ç”Ÿæˆçš„åŠ¨æ€è·¯å¾„ï¼Œæ‹·è´åˆ°å¤–å±‚tsconfig.jsonï¼Œç‰ˆæœ¬å·å’Œè·¯å¾„åœ°å€ä¹Ÿæœ‰å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚

ç°åœ¨éœ€è¦æ‰©å±•å…¶ä»–è‡ªå®šä¹‰é…ç½®ï¼Œæœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆï¼Ÿ

## rozbo

any update ?

## fz6m

ç›®å‰çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼šhttps://github.com/umijs/umi/pull/9642

## rozbo

å¤ªå¥½äº†ï¼ˆä¸€é¡¿å°è¯•æŠ¥é”™æ‰å‘ç°è¿˜æœ‰æ²¡æœ‰è¢«mergeï¼Œ è¿™ä¹ˆå¥½çš„åŠŸèƒ½å‘¼åå°½å¿«mergeï¼‰

## showonne

æ±‚æ–°å¹´åŠ æ€¥ğŸ˜‚

## fz6m

æœ€æ–°ç‰ˆæœ¬æ·»åŠ äº†ä¸€ä¸ª plugin api æ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œè¯¦è§ https://github.com/umijs/umi/pull/9642#issuecomment-1543277411 ï¼Œä½†ä¸æ¨èè‡ªè¡Œé…ç½®é¢å¤–çš„åˆ«åï¼Œå› ä¸º `@` å·²ç»è¶³å¤Ÿã€‚
