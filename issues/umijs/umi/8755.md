# umiåœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œæ‰§è¡ŒgetInitialStateçš„æ—¶å€™ç™½å±

## What happens?

umiåº”ç”¨åœ¨å¯åŠ¨çš„æ—¶å€™ä¼šè°ƒç”¨getInitialStateï¼Œè¿™ä¸ªæ–¹æ³•ä¼šé˜»æ­¢é¡µé¢çš„å…¶ä»–ä»£ç è¿è¡Œï¼Œç„¶åè¿™ä¸ªæ—¶å€™å°±ä¼šæœ‰ä¸€ä¸ªé¡µé¢çš„ç™½å±ã€‚

## Mini Showcase Repository(REQUIRED)

## How To Reproduce

åœ¨app.tsä¸­å¦‚æœgetInitialStateé‡Œé¢è¿è¡Œçš„æ¥å£å»¶æ—¶éå¸¸é•¿çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªè¾ƒé•¿æ—¶é—´çš„ç™½å±

```typescript
/**
 * è·å–é¡¹ç›®åˆå§‹å€¼çš„å‡½æ•°
 */
export function getInitialState() {
  /** ç”¨æ¥æ¨¡æ‹Ÿä¸€ä¸ªå¾ˆé«˜å»¶æ—¶çš„è¯·æ±‚ */
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve({ name: "aa", age: "100" });
    }, 30000);
  });
}
```

<!-- è¯·æä¾›å¤ç°é“¾æ¥/æ­¥éª¤ï¼Œé”™è¯¯æ—¥å¿—ä»¥åŠç›¸å…³é…ç½® -->

## Context

- **Umi Version**:
- **Node Version**:
- **Platform**:

## ihavecoke

æ·»åŠ ä¸ª loading è¿‡æ¸¡åŠ¨ç”»ï¼Ÿ

## sorrycc

ç›®å‰æ˜¯è¿™æ ·çš„ï¼Œumi 3 ä¹Ÿä¸€æ ·ã€‚æœ‰éœ€æ±‚å¯ç›´æ¥æ PR æˆ–è€…ç»™æ–¹æ¡ˆã€‚

## drizzlesconsin

@sorrycc umi3 åœ¨è¿è¡Œæ—¶é…ç½®é‡Œï¼Œæ˜¯æœ‰ä¸ª `initialStateConfig` å¯ä»¥ç”¨ã€‚

```tsx
export const initialStateConfig = {
  loading: <Spin />,
};
```

## drizzlesconsin

Umi4 å¯ä»¥è¿™æ ·

```ts
// config/config.ts
initialState: {
  loading: '@ant-design/pro-layout/es/PageLoading',
},
```

## a992681784

> Umi4 å¯ä»¥è¿™æ ·
>
> ```ts
> // config/config.ts
> initialState: {
>   loading: '@ant-design/pro-layout/es/PageLoading',
> },
> ```

è¯•äº†ä¸‹è¿™æ ·é…ç½®æŠ¥é”™äº† æ˜¾ç¤ºwebpackè§£æè·¯å¾„æŠ¥é”™ï¼Ÿæ˜¯è¿˜è¦é…ç½®ä»€ä¹ˆå—ï¼Ÿ

## jimwong666

> Umi4 å¯ä»¥è¿™æ ·
>
> ```ts
> // config/config.ts
> initialState: {
>   loading: '@ant-design/pro-layout/es/PageLoading',
> },
> ```

å¾ˆèµğŸ‘è°¢è°¢
