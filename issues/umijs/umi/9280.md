# [Bug] vite build运行时抛错

`vite-mode`

<!--
感谢您向我们反馈问题，为了高效的解决问题，我们期望你能提供以下信息：
-->

## What happens?

用vite build构建后的产物无法正常执行

<img width="773" alt="image" src="https://user-images.githubusercontent.com/21221921/189118954-cd0ff582-269d-4a42-a7d9-ad9103fbb85a.png">

<!-- A clear and concise description of what the bug is. -->
<!-- 清晰的描述下遇到的问题。-->

## Mini Showcase Repository(REQUIRED)

[初始化demo](https://github.com/wkeylin/umi-demo)

## How To Reproduce

1.  npx create-umi@latest
2.  .umirc.ts 配置：vite: {}
3.  npm run build
4.  npx umi-serve

## Context

- **Umi Version**: 4.0.19
- **Node Version**: 16.17.0
- **Platform**: mac, edge浏览器v105.0.1343.27

## hustcer

@fz6m 请问下这个问题大概什么时候能解决呢？现在生产环境亟需解决这个问题，谢谢

## wkeylin

打开sourcemap
<img width="964" alt="image" src="https://user-images.githubusercontent.com/21221921/191783128-8282ecbb-233e-43ad-a521-f33f6cd74fa6.png">
vite 依赖预构建的产物有问题
<img width="1313" alt="image" src="https://user-images.githubusercontent.com/21221921/191783399-a3d1022b-bcd5-4d41-a233-9e7da87161d9.png">

## wkeylin

build 生成的产物包含了vite?

## wzy2023

@wkeylin 大佬 这个问题你解决了吗？ 求指教~~~

## wkeylin

> @wkeylin 大佬 这个问题你解决了吗？ 求指教~~~

看着是vite的预编译产物有问题，只能他们解决

## fz6m

可以尝试下 umi 最新版本 `4.0.41` 是否还存在这个问题。
